var DS=Object.defineProperty;var Hv=n=>{throw TypeError(n)};var OS=(n,e,t)=>e in n?DS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Y=(n,e,t)=>OS(n,typeof e!="symbol"?e+"":e,t),Tp=(n,e,t)=>e.has(n)||Hv("Cannot "+t);var l=(n,e,t)=>(Tp(n,e,"read from private field"),t?t.call(n):e.get(n)),x=(n,e,t)=>e.has(n)?Hv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),y=(n,e,t,i)=>(Tp(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),A=(n,e,t)=>(Tp(n,e,"access private method"),t);var Dt=(n,e,t,i)=>({set _(s){y(n,e,s,t)},get _(){return l(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function jS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Iw={exports:{}},Qf={},Nw={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=Symbol.for("react.element"),HS=Symbol.for("react.portal"),zS=Symbol.for("react.fragment"),BS=Symbol.for("react.strict_mode"),$S=Symbol.for("react.profiler"),US=Symbol.for("react.provider"),WS=Symbol.for("react.context"),VS=Symbol.for("react.forward_ref"),GS=Symbol.for("react.suspense"),XS=Symbol.for("react.memo"),YS=Symbol.for("react.lazy"),zv=Symbol.iterator;function qS(n){return n===null||typeof n!="object"?null:(n=zv&&n[zv]||n["@@iterator"],typeof n=="function"?n:null)}var Fw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dw=Object.assign,Ow={};function Xl(n,e,t){this.props=n,this.context=e,this.refs=Ow,this.updater=t||Fw}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Xl.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function jw(){}jw.prototype=Xl.prototype;function Ey(n,e,t){this.props=n,this.context=e,this.refs=Ow,this.updater=t||Fw}var Sy=Ey.prototype=new jw;Sy.constructor=Ey;Dw(Sy,Xl.prototype);Sy.isPureReactComponent=!0;var Bv=Array.isArray,Hw=Object.prototype.hasOwnProperty,by={current:null},zw={key:!0,ref:!0,__self:!0,__source:!0};function Bw(n,e,t){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Hw.call(e,i)&&!zw.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:kh,type:n,key:r,ref:o,props:s,_owner:by.current}}function KS(n,e){return{$$typeof:kh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Cy(n){return typeof n=="object"&&n!==null&&n.$$typeof===kh}function QS(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var $v=/\/+/g;function Pp(n,e){return typeof n=="object"&&n!==null&&n.key!=null?QS(""+n.key):e.toString(36)}function dd(n,e,t,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case kh:case HS:o=!0}}if(o)return o=n,s=s(o),n=i===""?"."+Pp(o,0):i,Bv(s)?(t="",n!=null&&(t=n.replace($v,"$&/")+"/"),dd(s,e,t,"",function(u){return u})):s!=null&&(Cy(s)&&(s=KS(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($v,"$&/")+"/")+n)),e.push(s)),1;if(o=0,i=i===""?".":i+":",Bv(n))for(var a=0;a<n.length;a++){r=n[a];var c=i+Pp(r,a);o+=dd(r,e,t,c,s)}else if(c=qS(n),typeof c=="function")for(n=c.call(n),a=0;!(r=n.next()).done;)r=r.value,c=i+Pp(r,a++),o+=dd(r,e,t,c,s);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $h(n,e,t){if(n==null)return n;var i=[],s=0;return dd(n,i,"","",function(r){return e.call(t,r,s++)}),i}function JS(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Vt={current:null},fd={transition:null},ZS={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:fd,ReactCurrentOwner:by};function $w(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:$h,forEach:function(n,e,t){$h(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return $h(n,function(){e++}),e},toArray:function(n){return $h(n,function(e){return e})||[]},only:function(n){if(!Cy(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};oe.Component=Xl;oe.Fragment=zS;oe.Profiler=$S;oe.PureComponent=Ey;oe.StrictMode=BS;oe.Suspense=GS;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZS;oe.act=$w;oe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=Dw({},n.props),s=n.key,r=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=by.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)Hw.call(e,c)&&!zw.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:kh,type:n.type,key:s,ref:r,props:i,_owner:o}};oe.createContext=function(n){return n={$$typeof:WS,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:US,_context:n},n.Consumer=n};oe.createElement=Bw;oe.createFactory=function(n){var e=Bw.bind(null,n);return e.type=n,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(n){return{$$typeof:VS,render:n}};oe.isValidElement=Cy;oe.lazy=function(n){return{$$typeof:YS,_payload:{_status:-1,_result:n},_init:JS}};oe.memo=function(n,e){return{$$typeof:XS,type:n,compare:e===void 0?null:e}};oe.startTransition=function(n){var e=fd.transition;fd.transition={};try{n()}finally{fd.transition=e}};oe.unstable_act=$w;oe.useCallback=function(n,e){return Vt.current.useCallback(n,e)};oe.useContext=function(n){return Vt.current.useContext(n)};oe.useDebugValue=function(){};oe.useDeferredValue=function(n){return Vt.current.useDeferredValue(n)};oe.useEffect=function(n,e){return Vt.current.useEffect(n,e)};oe.useId=function(){return Vt.current.useId()};oe.useImperativeHandle=function(n,e,t){return Vt.current.useImperativeHandle(n,e,t)};oe.useInsertionEffect=function(n,e){return Vt.current.useInsertionEffect(n,e)};oe.useLayoutEffect=function(n,e){return Vt.current.useLayoutEffect(n,e)};oe.useMemo=function(n,e){return Vt.current.useMemo(n,e)};oe.useReducer=function(n,e,t){return Vt.current.useReducer(n,e,t)};oe.useRef=function(n){return Vt.current.useRef(n)};oe.useState=function(n){return Vt.current.useState(n)};oe.useSyncExternalStore=function(n,e,t){return Vt.current.useSyncExternalStore(n,e,t)};oe.useTransition=function(){return Vt.current.useTransition()};oe.version="18.3.1";Nw.exports=oe;var T=Nw.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=T,t1=Symbol.for("react.element"),n1=Symbol.for("react.fragment"),i1=Object.prototype.hasOwnProperty,s1=e1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r1={key:!0,ref:!0,__self:!0,__source:!0};function Uw(n,e,t){var i,s={},r=null,o=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)i1.call(e,i)&&!r1.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:t1,type:n,key:r,ref:o,props:s,_owner:s1.current}}Qf.Fragment=n1;Qf.jsx=Uw;Qf.jsxs=Uw;Iw.exports=Qf;var R=Iw.exports,Ww={exports:{}},xn={},Vw={exports:{}},Gw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,B){var U=L.length;L.push(B);e:for(;0<U;){var se=U-1>>>1,ee=L[se];if(0<s(ee,B))L[se]=B,L[U]=ee,U=se;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var B=L[0],U=L.pop();if(U!==B){L[0]=U;e:for(var se=0,ee=L.length,de=ee>>>1;se<de;){var He=2*(se+1)-1,Ft=L[He],pe=He+1,le=L[pe];if(0>s(Ft,U))pe<ee&&0>s(le,Ft)?(L[se]=le,L[pe]=U,se=pe):(L[se]=Ft,L[He]=U,se=He);else if(pe<ee&&0>s(le,U))L[se]=le,L[pe]=U,se=pe;else break e}}return B}function s(L,B){var U=L.sortIndex-B.sortIndex;return U!==0?U:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var B=t(u);B!==null;){if(B.callback===null)i(u);else if(B.startTime<=L)i(u),B.sortIndex=B.expirationTime,e(c,B);else break;B=t(u)}}function S(L){if(w=!1,_(L),!m)if(t(c)!==null)m=!0,X(b);else{var B=t(u);B!==null&&H(S,B.startTime-L)}}function b(L,B){m=!1,w&&(w=!1,g(P),P=-1),p=!0;var U=f;try{for(_(B),d=t(c);d!==null&&(!(d.expirationTime>B)||L&&!F());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var ee=se(d.expirationTime<=B);B=n.unstable_now(),typeof ee=="function"?d.callback=ee:d===t(c)&&i(c),_(B)}else i(c);d=t(c)}if(d!==null)var de=!0;else{var He=t(u);He!==null&&H(S,He.startTime-B),de=!1}return de}finally{d=null,f=U,p=!1}}var C=!1,k=null,P=-1,M=5,I=-1;function F(){return!(n.unstable_now()-I<M)}function Q(){if(k!==null){var L=n.unstable_now();I=L;var B=!0;try{B=k(!0,L)}finally{B?G():(C=!1,k=null)}}else C=!1}var G;if(typeof v=="function")G=function(){v(Q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=Q,G=function(){J.postMessage(null)}}else G=function(){E(Q,0)};function X(L){k=L,C||(C=!0,G())}function H(L,B){P=E(function(){L(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,X(b))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(L){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var U=f;f=B;try{return L()}finally{f=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return B()}finally{f=U}},n.unstable_scheduleCallback=function(L,B,U){var se=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?se+U:se):U=se,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=U+ee,L={id:h++,callback:B,priorityLevel:L,startTime:U,expirationTime:ee,sortIndex:-1},U>se?(L.sortIndex=U,e(u,L),t(c)===null&&L===t(u)&&(w?(g(P),P=-1):w=!0,H(S,U-se))):(L.sortIndex=ee,e(c,L),m||p||(m=!0,X(b))),L},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(L){var B=f;return function(){var U=f;f=B;try{return L.apply(this,arguments)}finally{f=U}}}})(Gw);Vw.exports=Gw;var o1=Vw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1=T,_n=o1;function N(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xw=new Set,Xc={};function ta(n,e){Hl(n,e),Hl(n+"Capture",e)}function Hl(n,e){for(Xc[n]=e,n=0;n<e.length;n++)Xw.add(e[n])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cg=Object.prototype.hasOwnProperty,l1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uv={},Wv={};function c1(n){return cg.call(Wv,n)?!0:cg.call(Uv,n)?!1:l1.test(n)?Wv[n]=!0:(Uv[n]=!0,!1)}function u1(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function h1(n,e,t,i){if(e===null||typeof e>"u"||u1(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(n,e,t,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_t[n]=new Gt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];_t[e]=new Gt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){_t[n]=new Gt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_t[n]=new Gt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_t[n]=new Gt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){_t[n]=new Gt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){_t[n]=new Gt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){_t[n]=new Gt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){_t[n]=new Gt(n,5,!1,n.toLowerCase(),null,!1,!1)});var ky=/[\-:]([a-z])/g;function Ty(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(ky,Ty);_t[e]=new Gt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(ky,Ty);_t[e]=new Gt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(ky,Ty);_t[e]=new Gt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){_t[n]=new Gt(n,1,!1,n.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){_t[n]=new Gt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Py(n,e,t,i){var s=_t.hasOwnProperty(e)?_t[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(h1(e,t,s,i)&&(t=null),i||s===null?c1(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,i=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var ks=a1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uh=Symbol.for("react.element"),va=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),Ry=Symbol.for("react.strict_mode"),ug=Symbol.for("react.profiler"),Yw=Symbol.for("react.provider"),qw=Symbol.for("react.context"),Ly=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),dg=Symbol.for("react.suspense_list"),My=Symbol.for("react.memo"),Ms=Symbol.for("react.lazy"),Kw=Symbol.for("react.offscreen"),Vv=Symbol.iterator;function nc(n){return n===null||typeof n!="object"?null:(n=Vv&&n[Vv]||n["@@iterator"],typeof n=="function"?n:null)}var je=Object.assign,Rp;function pc(n){if(Rp===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Rp=e&&e[1]||""}return`
`+Rp+n}var Lp=!1;function Mp(n,e){if(!n||Lp)return"";Lp=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var c=`
`+s[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{Lp=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?pc(n):""}function d1(n){switch(n.tag){case 5:return pc(n.type);case 16:return pc("Lazy");case 13:return pc("Suspense");case 19:return pc("SuspenseList");case 0:case 2:case 15:return n=Mp(n.type,!1),n;case 11:return n=Mp(n.type.render,!1),n;case 1:return n=Mp(n.type,!0),n;default:return""}}function fg(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case wa:return"Fragment";case va:return"Portal";case ug:return"Profiler";case Ry:return"StrictMode";case hg:return"Suspense";case dg:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case qw:return(n.displayName||"Context")+".Consumer";case Yw:return(n._context.displayName||"Context")+".Provider";case Ly:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case My:return e=n.displayName||null,e!==null?e:fg(n.type)||"Memo";case Ms:e=n._payload,n=n._init;try{return fg(n(e))}catch{}}return null}function f1(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fg(e);case 8:return e===Ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _r(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qw(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p1(n){var e=Qw(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Wh(n){n._valueTracker||(n._valueTracker=p1(n))}function Jw(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Qw(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function nf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function pg(n,e){var t=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Gv(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=_r(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zw(n,e){e=e.checked,e!=null&&Py(n,"checked",e,!1)}function gg(n,e){Zw(n,e);var t=_r(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?mg(n,e.type,t):e.hasOwnProperty("defaultValue")&&mg(n,e.type,_r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Xv(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function mg(n,e,t){(e!=="number"||nf(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var gc=Array.isArray;function La(n,e,t,i){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&i&&(n[t].defaultSelected=!0)}else{for(t=""+_r(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function yg(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Yv(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(N(92));if(gc(t)){if(1<t.length)throw Error(N(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:_r(t)}}function eA(n,e){var t=_r(e.value),i=_r(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function qv(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function tA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vg(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?tA(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vh,nA=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Vh=Vh||document.createElement("div"),Vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Yc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g1=["Webkit","ms","Moz","O"];Object.keys(Fc).forEach(function(n){g1.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Fc[e]=Fc[n]})});function iA(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Fc.hasOwnProperty(n)&&Fc[n]?(""+e).trim():e+"px"}function sA(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,s=iA(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,s):n[t]=s}}var m1=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wg(n,e){if(e){if(m1[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Ag(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=null;function Iy(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xg=null,Ma=null,Ia=null;function Kv(n){if(n=Rh(n)){if(typeof xg!="function")throw Error(N(280));var e=n.stateNode;e&&(e=np(e),xg(n.stateNode,n.type,e))}}function rA(n){Ma?Ia?Ia.push(n):Ia=[n]:Ma=n}function oA(){if(Ma){var n=Ma,e=Ia;if(Ia=Ma=null,Kv(n),e)for(n=0;n<e.length;n++)Kv(e[n])}}function aA(n,e){return n(e)}function lA(){}var Ip=!1;function cA(n,e,t){if(Ip)return n(e,t);Ip=!0;try{return aA(n,e,t)}finally{Ip=!1,(Ma!==null||Ia!==null)&&(lA(),oA())}}function qc(n,e){var t=n.stateNode;if(t===null)return null;var i=np(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(N(231,e,typeof t));return t}var Eg=!1;if(_s)try{var ic={};Object.defineProperty(ic,"passive",{get:function(){Eg=!0}}),window.addEventListener("test",ic,ic),window.removeEventListener("test",ic,ic)}catch{Eg=!1}function y1(n,e,t,i,s,r,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var Dc=!1,sf=null,rf=!1,Sg=null,v1={onError:function(n){Dc=!0,sf=n}};function w1(n,e,t,i,s,r,o,a,c){Dc=!1,sf=null,y1.apply(v1,arguments)}function A1(n,e,t,i,s,r,o,a,c){if(w1.apply(this,arguments),Dc){if(Dc){var u=sf;Dc=!1,sf=null}else throw Error(N(198));rf||(rf=!0,Sg=u)}}function na(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function uA(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Qv(n){if(na(n)!==n)throw Error(N(188))}function _1(n){var e=n.alternate;if(!e){if(e=na(n),e===null)throw Error(N(188));return e!==n?null:n}for(var t=n,i=e;;){var s=t.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){t=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===t)return Qv(s),n;if(r===i)return Qv(s),e;r=r.sibling}throw Error(N(188))}if(t.return!==i.return)t=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(t.alternate!==i)throw Error(N(190))}if(t.tag!==3)throw Error(N(188));return t.stateNode.current===t?n:e}function hA(n){return n=_1(n),n!==null?dA(n):null}function dA(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=dA(n);if(e!==null)return e;n=n.sibling}return null}var fA=_n.unstable_scheduleCallback,Jv=_n.unstable_cancelCallback,x1=_n.unstable_shouldYield,E1=_n.unstable_requestPaint,We=_n.unstable_now,S1=_n.unstable_getCurrentPriorityLevel,Ny=_n.unstable_ImmediatePriority,pA=_n.unstable_UserBlockingPriority,of=_n.unstable_NormalPriority,b1=_n.unstable_LowPriority,gA=_n.unstable_IdlePriority,Jf=null,Ii=null;function C1(n){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Jf,n,void 0,(n.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:P1,k1=Math.log,T1=Math.LN2;function P1(n){return n>>>=0,n===0?32:31-(k1(n)/T1|0)|0}var Gh=64,Xh=4194304;function mc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function af(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?i=mc(a):(r&=o,r!==0&&(i=mc(r)))}else o=t&~s,o!==0?i=mc(o):r!==0&&(i=mc(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ai(e),s=1<<t,i|=n[t],e&=~s;return i}function R1(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L1(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-ai(r),a=1<<o,c=s[o];c===-1?(!(a&t)||a&i)&&(s[o]=R1(a,e)):c<=e&&(n.expiredLanes|=a),r&=~a}}function bg(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function mA(){var n=Gh;return Gh<<=1,!(Gh&4194240)&&(Gh=64),n}function Np(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Th(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ai(e),n[e]=t}function M1(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-ai(t),r=1<<s;e[s]=0,i[s]=-1,n[s]=-1,t&=~r}}function Fy(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ai(t),s=1<<i;s&e|n[i]&e&&(n[i]|=e),t&=~s}}var ve=0;function yA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var vA,Dy,wA,AA,_A,Cg=!1,Yh=[],fr=null,pr=null,gr=null,Kc=new Map,Qc=new Map,Ns=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zv(n,e){switch(n){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(e.pointerId)}}function sc(n,e,t,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Rh(e),e!==null&&Dy(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function N1(n,e,t,i,s){switch(e){case"focusin":return fr=sc(fr,n,e,t,i,s),!0;case"dragenter":return pr=sc(pr,n,e,t,i,s),!0;case"mouseover":return gr=sc(gr,n,e,t,i,s),!0;case"pointerover":var r=s.pointerId;return Kc.set(r,sc(Kc.get(r)||null,n,e,t,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Qc.set(r,sc(Qc.get(r)||null,n,e,t,i,s)),!0}return!1}function xA(n){var e=$r(n.target);if(e!==null){var t=na(e);if(t!==null){if(e=t.tag,e===13){if(e=uA(t),e!==null){n.blockedOn=e,_A(n.priority,function(){wA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pd(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=kg(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);_g=i,t.target.dispatchEvent(i),_g=null}else return e=Rh(t),e!==null&&Dy(e),n.blockedOn=t,!1;e.shift()}return!0}function e0(n,e,t){pd(n)&&t.delete(e)}function F1(){Cg=!1,fr!==null&&pd(fr)&&(fr=null),pr!==null&&pd(pr)&&(pr=null),gr!==null&&pd(gr)&&(gr=null),Kc.forEach(e0),Qc.forEach(e0)}function rc(n,e){n.blockedOn===e&&(n.blockedOn=null,Cg||(Cg=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,F1)))}function Jc(n){function e(s){return rc(s,n)}if(0<Yh.length){rc(Yh[0],n);for(var t=1;t<Yh.length;t++){var i=Yh[t];i.blockedOn===n&&(i.blockedOn=null)}}for(fr!==null&&rc(fr,n),pr!==null&&rc(pr,n),gr!==null&&rc(gr,n),Kc.forEach(e),Qc.forEach(e),t=0;t<Ns.length;t++)i=Ns[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Ns.length&&(t=Ns[0],t.blockedOn===null);)xA(t),t.blockedOn===null&&Ns.shift()}var Na=ks.ReactCurrentBatchConfig,lf=!0;function D1(n,e,t,i){var s=ve,r=Na.transition;Na.transition=null;try{ve=1,Oy(n,e,t,i)}finally{ve=s,Na.transition=r}}function O1(n,e,t,i){var s=ve,r=Na.transition;Na.transition=null;try{ve=4,Oy(n,e,t,i)}finally{ve=s,Na.transition=r}}function Oy(n,e,t,i){if(lf){var s=kg(n,e,t,i);if(s===null)Wp(n,e,i,cf,t),Zv(n,i);else if(N1(s,n,e,t,i))i.stopPropagation();else if(Zv(n,i),e&4&&-1<I1.indexOf(n)){for(;s!==null;){var r=Rh(s);if(r!==null&&vA(r),r=kg(n,e,t,i),r===null&&Wp(n,e,i,cf,t),r===s)break;s=r}s!==null&&i.stopPropagation()}else Wp(n,e,i,null,t)}}var cf=null;function kg(n,e,t,i){if(cf=null,n=Iy(i),n=$r(n),n!==null)if(e=na(n),e===null)n=null;else if(t=e.tag,t===13){if(n=uA(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return cf=n,null}function EA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S1()){case Ny:return 1;case pA:return 4;case of:case b1:return 16;case gA:return 536870912;default:return 16}default:return 16}}var ur=null,jy=null,gd=null;function SA(){if(gd)return gd;var n,e=jy,t=e.length,i,s="value"in ur?ur.value:ur.textContent,r=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===s[r-i];i++);return gd=s.slice(n,1<i?1-i:void 0)}function md(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function qh(){return!0}function t0(){return!1}function En(n){function e(t,i,s,r,o){this._reactName=t,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?qh:t0,this.isPropagationStopped=t0,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=qh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=qh)},persist:function(){},isPersistent:qh}),e}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hy=En(Yl),Ph=je({},Yl,{view:0,detail:0}),j1=En(Ph),Fp,Dp,oc,Zf=je({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zy,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==oc&&(oc&&n.type==="mousemove"?(Fp=n.screenX-oc.screenX,Dp=n.screenY-oc.screenY):Dp=Fp=0,oc=n),Fp)},movementY:function(n){return"movementY"in n?n.movementY:Dp}}),n0=En(Zf),H1=je({},Zf,{dataTransfer:0}),z1=En(H1),B1=je({},Ph,{relatedTarget:0}),Op=En(B1),$1=je({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),U1=En($1),W1=je({},Yl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),V1=En(W1),G1=je({},Yl,{data:0}),i0=En(G1),X1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K1(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=q1[n])?!!e[n]:!1}function zy(){return K1}var Q1=je({},Ph,{key:function(n){if(n.key){var e=X1[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=md(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Y1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zy,charCode:function(n){return n.type==="keypress"?md(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?md(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),J1=En(Q1),Z1=je({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s0=En(Z1),eb=je({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zy}),tb=En(eb),nb=je({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ib=En(nb),sb=je({},Zf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=En(sb),ob=[9,13,27,32],By=_s&&"CompositionEvent"in window,Oc=null;_s&&"documentMode"in document&&(Oc=document.documentMode);var ab=_s&&"TextEvent"in window&&!Oc,bA=_s&&(!By||Oc&&8<Oc&&11>=Oc),r0=" ",o0=!1;function CA(n,e){switch(n){case"keyup":return ob.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Aa=!1;function lb(n,e){switch(n){case"compositionend":return kA(e);case"keypress":return e.which!==32?null:(o0=!0,r0);case"textInput":return n=e.data,n===r0&&o0?null:n;default:return null}}function cb(n,e){if(Aa)return n==="compositionend"||!By&&CA(n,e)?(n=SA(),gd=jy=ur=null,Aa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bA&&e.locale!=="ko"?null:e.data;default:return null}}var ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a0(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!ub[n.type]:e==="textarea"}function TA(n,e,t,i){rA(i),e=uf(e,"onChange"),0<e.length&&(t=new Hy("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var jc=null,Zc=null;function hb(n){HA(n,0)}function ep(n){var e=Ea(n);if(Jw(e))return n}function db(n,e){if(n==="change")return e}var PA=!1;if(_s){var jp;if(_s){var Hp="oninput"in document;if(!Hp){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),Hp=typeof l0.oninput=="function"}jp=Hp}else jp=!1;PA=jp&&(!document.documentMode||9<document.documentMode)}function c0(){jc&&(jc.detachEvent("onpropertychange",RA),Zc=jc=null)}function RA(n){if(n.propertyName==="value"&&ep(Zc)){var e=[];TA(e,Zc,n,Iy(n)),cA(hb,e)}}function fb(n,e,t){n==="focusin"?(c0(),jc=e,Zc=t,jc.attachEvent("onpropertychange",RA)):n==="focusout"&&c0()}function pb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ep(Zc)}function gb(n,e){if(n==="click")return ep(e)}function mb(n,e){if(n==="input"||n==="change")return ep(e)}function yb(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ci=typeof Object.is=="function"?Object.is:yb;function eu(n,e){if(ci(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var s=t[i];if(!cg.call(e,s)||!ci(n[s],e[s]))return!1}return!0}function u0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function h0(n,e){var t=u0(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=u0(t)}}function LA(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?LA(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function MA(){for(var n=window,e=nf();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=nf(n.document)}return e}function $y(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function vb(n){var e=MA(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&LA(t.ownerDocument.documentElement,t)){if(i!==null&&$y(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=h0(t,r);var o=h0(t,i);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var wb=_s&&"documentMode"in document&&11>=document.documentMode,_a=null,Tg=null,Hc=null,Pg=!1;function d0(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Pg||_a==null||_a!==nf(i)||(i=_a,"selectionStart"in i&&$y(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Hc&&eu(Hc,i)||(Hc=i,i=uf(Tg,"onSelect"),0<i.length&&(e=new Hy("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=_a)))}function Kh(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var xa={animationend:Kh("Animation","AnimationEnd"),animationiteration:Kh("Animation","AnimationIteration"),animationstart:Kh("Animation","AnimationStart"),transitionend:Kh("Transition","TransitionEnd")},zp={},IA={};_s&&(IA=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function tp(n){if(zp[n])return zp[n];if(!xa[n])return n;var e=xa[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in IA)return zp[n]=e[t];return n}var NA=tp("animationend"),FA=tp("animationiteration"),DA=tp("animationstart"),OA=tp("transitionend"),jA=new Map,f0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(n,e){jA.set(n,e),ta(e,[n])}for(var Bp=0;Bp<f0.length;Bp++){var $p=f0[Bp],Ab=$p.toLowerCase(),_b=$p[0].toUpperCase()+$p.slice(1);Tr(Ab,"on"+_b)}Tr(NA,"onAnimationEnd");Tr(FA,"onAnimationIteration");Tr(DA,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(OA,"onTransitionEnd");Hl("onMouseEnter",["mouseout","mouseover"]);Hl("onMouseLeave",["mouseout","mouseover"]);Hl("onPointerEnter",["pointerout","pointerover"]);Hl("onPointerLeave",["pointerout","pointerover"]);ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function p0(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,A1(i,e,void 0,n),n.currentTarget=null}function HA(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==r&&s.isPropagationStopped())break e;p0(s,a,u),r=c}else for(o=0;o<i.length;o++){if(a=i[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==r&&s.isPropagationStopped())break e;p0(s,a,u),r=c}}}if(rf)throw n=Sg,rf=!1,Sg=null,n}function be(n,e){var t=e[Ng];t===void 0&&(t=e[Ng]=new Set);var i=n+"__bubble";t.has(i)||(zA(e,n,2,!1),t.add(i))}function Up(n,e,t){var i=0;e&&(i|=4),zA(t,n,i,e)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function tu(n){if(!n[Qh]){n[Qh]=!0,Xw.forEach(function(t){t!=="selectionchange"&&(xb.has(t)||Up(t,!1,n),Up(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Qh]||(e[Qh]=!0,Up("selectionchange",!1,e))}}function zA(n,e,t,i){switch(EA(e)){case 1:var s=D1;break;case 4:s=O1;break;default:s=Oy}t=s.bind(null,e,t,n),s=void 0,!Eg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function Wp(n,e,t,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=$r(a),o===null)return;if(c=o.tag,c===5||c===6){i=r=o;continue e}a=a.parentNode}}i=i.return}cA(function(){var u=r,h=Iy(t),d=[];e:{var f=jA.get(n);if(f!==void 0){var p=Hy,m=n;switch(n){case"keypress":if(md(t)===0)break e;case"keydown":case"keyup":p=J1;break;case"focusin":m="focus",p=Op;break;case"focusout":m="blur",p=Op;break;case"beforeblur":case"afterblur":p=Op;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=n0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tb;break;case NA:case FA:case DA:p=U1;break;case OA:p=ib;break;case"scroll":p=j1;break;case"wheel":p=rb;break;case"copy":case"cut":case"paste":p=V1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=s0}var w=(e&4)!==0,E=!w&&n==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var v=u,_;v!==null;){_=v;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,g!==null&&(S=qc(v,g),S!=null&&w.push(nu(v,S,_)))),E)break;v=v.return}0<w.length&&(f=new p(f,m,null,t,h),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==_g&&(m=t.relatedTarget||t.fromElement)&&($r(m)||m[xs]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=u,m=m?$r(m):null,m!==null&&(E=na(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(w=n0,S="onMouseLeave",g="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(w=s0,S="onPointerLeave",g="onPointerEnter",v="pointer"),E=p==null?f:Ea(p),_=m==null?f:Ea(m),f=new w(S,v+"leave",p,t,h),f.target=E,f.relatedTarget=_,S=null,$r(h)===u&&(w=new w(g,v+"enter",m,t,h),w.target=_,w.relatedTarget=E,S=w),E=S,p&&m)t:{for(w=p,g=m,v=0,_=w;_;_=ca(_))v++;for(_=0,S=g;S;S=ca(S))_++;for(;0<v-_;)w=ca(w),v--;for(;0<_-v;)g=ca(g),_--;for(;v--;){if(w===g||g!==null&&w===g.alternate)break t;w=ca(w),g=ca(g)}w=null}else w=null;p!==null&&g0(d,f,p,w,!1),m!==null&&E!==null&&g0(d,E,m,w,!0)}}e:{if(f=u?Ea(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var b=db;else if(a0(f))if(PA)b=mb;else{b=pb;var C=fb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=gb);if(b&&(b=b(n,u))){TA(d,b,t,h);break e}C&&C(n,f,u),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&mg(f,"number",f.value)}switch(C=u?Ea(u):window,n){case"focusin":(a0(C)||C.contentEditable==="true")&&(_a=C,Tg=u,Hc=null);break;case"focusout":Hc=Tg=_a=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,d0(d,t,h);break;case"selectionchange":if(wb)break;case"keydown":case"keyup":d0(d,t,h)}var k;if(By)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Aa?CA(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(bA&&t.locale!=="ko"&&(Aa||P!=="onCompositionStart"?P==="onCompositionEnd"&&Aa&&(k=SA()):(ur=h,jy="value"in ur?ur.value:ur.textContent,Aa=!0)),C=uf(u,P),0<C.length&&(P=new i0(P,n,null,t,h),d.push({event:P,listeners:C}),k?P.data=k:(k=kA(t),k!==null&&(P.data=k)))),(k=ab?lb(n,t):cb(n,t))&&(u=uf(u,"onBeforeInput"),0<u.length&&(h=new i0("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:u}),h.data=k))}HA(d,e)})}function nu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function uf(n,e){for(var t=e+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=qc(n,t),r!=null&&i.unshift(nu(n,r,s)),r=qc(n,e),r!=null&&i.push(nu(n,r,s))),n=n.return}return i}function ca(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function g0(n,e,t,i,s){for(var r=e._reactName,o=[];t!==null&&t!==i;){var a=t,c=a.alternate,u=a.stateNode;if(c!==null&&c===i)break;a.tag===5&&u!==null&&(a=u,s?(c=qc(t,r),c!=null&&o.unshift(nu(t,c,a))):s||(c=qc(t,r),c!=null&&o.push(nu(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Eb=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function m0(n){return(typeof n=="string"?n:""+n).replace(Eb,`
`).replace(Sb,"")}function Jh(n,e,t){if(e=m0(e),m0(n)!==e&&t)throw Error(N(425))}function hf(){}var Rg=null,Lg=null;function Mg(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ig=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(n){return y0.resolve(null).then(n).catch(kb)}:Ig;function kb(n){setTimeout(function(){throw n})}function Vp(n,e){var t=e,i=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(i===0){n.removeChild(s),Jc(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=s}while(t);Jc(e)}function mr(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function v0(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ql=Math.random().toString(36).slice(2),Mi="__reactFiber$"+ql,iu="__reactProps$"+ql,xs="__reactContainer$"+ql,Ng="__reactEvents$"+ql,Tb="__reactListeners$"+ql,Pb="__reactHandles$"+ql;function $r(n){var e=n[Mi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[xs]||t[Mi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=v0(n);n!==null;){if(t=n[Mi])return t;n=v0(n)}return e}n=t,t=n.parentNode}return null}function Rh(n){return n=n[Mi]||n[xs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ea(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(N(33))}function np(n){return n[iu]||null}var Fg=[],Sa=-1;function Pr(n){return{current:n}}function ke(n){0>Sa||(n.current=Fg[Sa],Fg[Sa]=null,Sa--)}function Se(n,e){Sa++,Fg[Sa]=n.current,n.current=e}var xr={},Nt=Pr(xr),nn=Pr(!1),Wo=xr;function zl(n,e){var t=n.type.contextTypes;if(!t)return xr;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in t)s[r]=e[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function sn(n){return n=n.childContextTypes,n!=null}function df(){ke(nn),ke(Nt)}function w0(n,e,t){if(Nt.current!==xr)throw Error(N(168));Se(Nt,e),Se(nn,t)}function BA(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(N(108,f1(n)||"Unknown",s));return je({},t,i)}function ff(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xr,Wo=Nt.current,Se(Nt,n),Se(nn,nn.current),!0}function A0(n,e,t){var i=n.stateNode;if(!i)throw Error(N(169));t?(n=BA(n,e,Wo),i.__reactInternalMemoizedMergedChildContext=n,ke(nn),ke(Nt),Se(Nt,n)):ke(nn),Se(nn,t)}var $i=null,ip=!1,Gp=!1;function $A(n){$i===null?$i=[n]:$i.push(n)}function Rb(n){ip=!0,$A(n)}function Rr(){if(!Gp&&$i!==null){Gp=!0;var n=0,e=ve;try{var t=$i;for(ve=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}$i=null,ip=!1}catch(s){throw $i!==null&&($i=$i.slice(n+1)),fA(Ny,Rr),s}finally{ve=e,Gp=!1}}return null}var ba=[],Ca=0,pf=null,gf=0,Rn=[],Ln=0,Vo=null,ps=1,gs="";function Nr(n,e){ba[Ca++]=gf,ba[Ca++]=pf,pf=n,gf=e}function UA(n,e,t){Rn[Ln++]=ps,Rn[Ln++]=gs,Rn[Ln++]=Vo,Vo=n;var i=ps;n=gs;var s=32-ai(i)-1;i&=~(1<<s),t+=1;var r=32-ai(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,ps=1<<32-ai(e)+s|t<<s|i,gs=r+n}else ps=1<<r|t<<s|i,gs=n}function Uy(n){n.return!==null&&(Nr(n,1),UA(n,1,0))}function Wy(n){for(;n===pf;)pf=ba[--Ca],ba[Ca]=null,gf=ba[--Ca],ba[Ca]=null;for(;n===Vo;)Vo=Rn[--Ln],Rn[Ln]=null,gs=Rn[--Ln],Rn[Ln]=null,ps=Rn[--Ln],Rn[Ln]=null}var wn=null,vn=null,Re=!1,ri=null;function WA(n,e){var t=Nn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function _0(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,wn=n,vn=mr(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,wn=n,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Vo!==null?{id:ps,overflow:gs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Nn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,wn=n,vn=null,!0):!1;default:return!1}}function Dg(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Og(n){if(Re){var e=vn;if(e){var t=e;if(!_0(n,e)){if(Dg(n))throw Error(N(418));e=mr(t.nextSibling);var i=wn;e&&_0(n,e)?WA(i,t):(n.flags=n.flags&-4097|2,Re=!1,wn=n)}}else{if(Dg(n))throw Error(N(418));n.flags=n.flags&-4097|2,Re=!1,wn=n}}}function x0(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;wn=n}function Zh(n){if(n!==wn)return!1;if(!Re)return x0(n),Re=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Mg(n.type,n.memoizedProps)),e&&(e=vn)){if(Dg(n))throw VA(),Error(N(418));for(;e;)WA(n,e),e=mr(e.nextSibling)}if(x0(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(N(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){vn=mr(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}vn=null}}else vn=wn?mr(n.stateNode.nextSibling):null;return!0}function VA(){for(var n=vn;n;)n=mr(n.nextSibling)}function Bl(){vn=wn=null,Re=!1}function Vy(n){ri===null?ri=[n]:ri.push(n)}var Lb=ks.ReactCurrentBatchConfig;function ac(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(N(309));var i=t.stateNode}if(!i)throw Error(N(147,n));var s=i,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof n!="string")throw Error(N(284));if(!t._owner)throw Error(N(290,n))}return n}function ed(n,e){throw n=Object.prototype.toString.call(e),Error(N(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function E0(n){var e=n._init;return e(n._payload)}function GA(n){function e(g,v){if(n){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function t(g,v){if(!n)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function i(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Ar(g,v),g.index=0,g.sibling=null,g}function r(g,v,_){return g.index=_,n?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,S){return v===null||v.tag!==6?(v=Zp(_,g.mode,S),v.return=g,v):(v=s(v,_),v.return=g,v)}function c(g,v,_,S){var b=_.type;return b===wa?h(g,v,_.props.children,S,_.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ms&&E0(b)===v.type)?(S=s(v,_.props),S.ref=ac(g,v,_),S.return=g,S):(S=Ed(_.type,_.key,_.props,null,g.mode,S),S.ref=ac(g,v,_),S.return=g,S)}function u(g,v,_,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=eg(_,g.mode,S),v.return=g,v):(v=s(v,_.children||[]),v.return=g,v)}function h(g,v,_,S,b){return v===null||v.tag!==7?(v=Uo(_,g.mode,S,b),v.return=g,v):(v=s(v,_),v.return=g,v)}function d(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Zp(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Uh:return _=Ed(v.type,v.key,v.props,null,g.mode,_),_.ref=ac(g,null,v),_.return=g,_;case va:return v=eg(v,g.mode,_),v.return=g,v;case Ms:var S=v._init;return d(g,S(v._payload),_)}if(gc(v)||nc(v))return v=Uo(v,g.mode,_,null),v.return=g,v;ed(g,v)}return null}function f(g,v,_,S){var b=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(g,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Uh:return _.key===b?c(g,v,_,S):null;case va:return _.key===b?u(g,v,_,S):null;case Ms:return b=_._init,f(g,v,b(_._payload),S)}if(gc(_)||nc(_))return b!==null?null:h(g,v,_,S,null);ed(g,_)}return null}function p(g,v,_,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(_)||null,a(v,g,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Uh:return g=g.get(S.key===null?_:S.key)||null,c(v,g,S,b);case va:return g=g.get(S.key===null?_:S.key)||null,u(v,g,S,b);case Ms:var C=S._init;return p(g,v,_,C(S._payload),b)}if(gc(S)||nc(S))return g=g.get(_)||null,h(v,g,S,b,null);ed(v,S)}return null}function m(g,v,_,S){for(var b=null,C=null,k=v,P=v=0,M=null;k!==null&&P<_.length;P++){k.index>P?(M=k,k=null):M=k.sibling;var I=f(g,k,_[P],S);if(I===null){k===null&&(k=M);break}n&&k&&I.alternate===null&&e(g,k),v=r(I,v,P),C===null?b=I:C.sibling=I,C=I,k=M}if(P===_.length)return t(g,k),Re&&Nr(g,P),b;if(k===null){for(;P<_.length;P++)k=d(g,_[P],S),k!==null&&(v=r(k,v,P),C===null?b=k:C.sibling=k,C=k);return Re&&Nr(g,P),b}for(k=i(g,k);P<_.length;P++)M=p(k,g,P,_[P],S),M!==null&&(n&&M.alternate!==null&&k.delete(M.key===null?P:M.key),v=r(M,v,P),C===null?b=M:C.sibling=M,C=M);return n&&k.forEach(function(F){return e(g,F)}),Re&&Nr(g,P),b}function w(g,v,_,S){var b=nc(_);if(typeof b!="function")throw Error(N(150));if(_=b.call(_),_==null)throw Error(N(151));for(var C=b=null,k=v,P=v=0,M=null,I=_.next();k!==null&&!I.done;P++,I=_.next()){k.index>P?(M=k,k=null):M=k.sibling;var F=f(g,k,I.value,S);if(F===null){k===null&&(k=M);break}n&&k&&F.alternate===null&&e(g,k),v=r(F,v,P),C===null?b=F:C.sibling=F,C=F,k=M}if(I.done)return t(g,k),Re&&Nr(g,P),b;if(k===null){for(;!I.done;P++,I=_.next())I=d(g,I.value,S),I!==null&&(v=r(I,v,P),C===null?b=I:C.sibling=I,C=I);return Re&&Nr(g,P),b}for(k=i(g,k);!I.done;P++,I=_.next())I=p(k,g,P,I.value,S),I!==null&&(n&&I.alternate!==null&&k.delete(I.key===null?P:I.key),v=r(I,v,P),C===null?b=I:C.sibling=I,C=I);return n&&k.forEach(function(Q){return e(g,Q)}),Re&&Nr(g,P),b}function E(g,v,_,S){if(typeof _=="object"&&_!==null&&_.type===wa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Uh:e:{for(var b=_.key,C=v;C!==null;){if(C.key===b){if(b=_.type,b===wa){if(C.tag===7){t(g,C.sibling),v=s(C,_.props.children),v.return=g,g=v;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ms&&E0(b)===C.type){t(g,C.sibling),v=s(C,_.props),v.ref=ac(g,C,_),v.return=g,g=v;break e}t(g,C);break}else e(g,C);C=C.sibling}_.type===wa?(v=Uo(_.props.children,g.mode,S,_.key),v.return=g,g=v):(S=Ed(_.type,_.key,_.props,null,g.mode,S),S.ref=ac(g,v,_),S.return=g,g=S)}return o(g);case va:e:{for(C=_.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){t(g,v.sibling),v=s(v,_.children||[]),v.return=g,g=v;break e}else{t(g,v);break}else e(g,v);v=v.sibling}v=eg(_,g.mode,S),v.return=g,g=v}return o(g);case Ms:return C=_._init,E(g,v,C(_._payload),S)}if(gc(_))return m(g,v,_,S);if(nc(_))return w(g,v,_,S);ed(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(t(g,v.sibling),v=s(v,_),v.return=g,g=v):(t(g,v),v=Zp(_,g.mode,S),v.return=g,g=v),o(g)):t(g,v)}return E}var $l=GA(!0),XA=GA(!1),mf=Pr(null),yf=null,ka=null,Gy=null;function Xy(){Gy=ka=yf=null}function Yy(n){var e=mf.current;ke(mf),n._currentValue=e}function jg(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Fa(n,e){yf=n,Gy=ka=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(en=!0),n.firstContext=null)}function On(n){var e=n._currentValue;if(Gy!==n)if(n={context:n,memoizedValue:e,next:null},ka===null){if(yf===null)throw Error(N(308));ka=n,yf.dependencies={lanes:0,firstContext:n}}else ka=ka.next=n;return e}var Ur=null;function qy(n){Ur===null?Ur=[n]:Ur.push(n)}function YA(n,e,t,i){var s=e.interleaved;return s===null?(t.next=t,qy(e)):(t.next=s.next,s.next=t),e.interleaved=t,Es(n,i)}function Es(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Is=!1;function Ky(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qA(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ms(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function yr(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Es(n,t)}return s=i.interleaved,s===null?(e.next=e,qy(i)):(e.next=s.next,s.next=e),i.interleaved=e,Es(n,t)}function yd(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Fy(n,t)}}function S0(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var s=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?s=r=o:r=r.next=o,t=t.next}while(t!==null);r===null?s=r=e:r=r.next=e}else s=r=e;t={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function vf(n,e,t,i){var s=n.updateQueue;Is=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?r=u:o.next=u,o=c;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(r!==null){var d=s.baseState;o=0,h=u=c=null,a=r;do{var f=a.lane,p=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,w=a;switch(f=e,p=t,w.tag){case 1:if(m=w.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=je({},d,f);break e;case 2:Is=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,c=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Xo|=o,n.lanes=o,n.memoizedState=d}}function b0(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],s=i.callback;if(s!==null){if(i.callback=null,i=t,typeof s!="function")throw Error(N(191,s));s.call(i)}}}var Lh={},Ni=Pr(Lh),su=Pr(Lh),ru=Pr(Lh);function Wr(n){if(n===Lh)throw Error(N(174));return n}function Qy(n,e){switch(Se(ru,e),Se(su,n),Se(Ni,Lh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vg(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=vg(e,n)}ke(Ni),Se(Ni,e)}function Ul(){ke(Ni),ke(su),ke(ru)}function KA(n){Wr(ru.current);var e=Wr(Ni.current),t=vg(e,n.type);e!==t&&(Se(su,n),Se(Ni,t))}function Jy(n){su.current===n&&(ke(Ni),ke(su))}var Fe=Pr(0);function wf(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xp=[];function Zy(){for(var n=0;n<Xp.length;n++)Xp[n]._workInProgressVersionPrimary=null;Xp.length=0}var vd=ks.ReactCurrentDispatcher,Yp=ks.ReactCurrentBatchConfig,Go=0,De=null,tt=null,dt=null,Af=!1,zc=!1,ou=0,Mb=0;function Et(){throw Error(N(321))}function ev(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ci(n[t],e[t]))return!1;return!0}function tv(n,e,t,i,s,r){if(Go=r,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vd.current=n===null||n.memoizedState===null?Db:Ob,n=t(i,s),zc){r=0;do{if(zc=!1,ou=0,25<=r)throw Error(N(301));r+=1,dt=tt=null,e.updateQueue=null,vd.current=jb,n=t(i,s)}while(zc)}if(vd.current=_f,e=tt!==null&&tt.next!==null,Go=0,dt=tt=De=null,Af=!1,e)throw Error(N(300));return n}function nv(){var n=ou!==0;return ou=0,n}function fi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?De.memoizedState=dt=n:dt=dt.next=n,dt}function jn(){if(tt===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=tt.next;var e=dt===null?De.memoizedState:dt.next;if(e!==null)dt=e,tt=n;else{if(n===null)throw Error(N(310));tt=n,n={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},dt===null?De.memoizedState=dt=n:dt=dt.next=n}return dt}function au(n,e){return typeof e=="function"?e(n):e}function qp(n){var e=jn(),t=e.queue;if(t===null)throw Error(N(311));t.lastRenderedReducer=n;var i=tt,s=i.baseQueue,r=t.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,t.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,c=null,u=r;do{var h=u.lane;if((Go&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,o=i):c=c.next=d,De.lanes|=h,Xo|=h}u=u.next}while(u!==null&&u!==r);c===null?o=i:c.next=a,ci(i,e.memoizedState)||(en=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,t.lastRenderedState=i}if(n=t.interleaved,n!==null){s=n;do r=s.lane,De.lanes|=r,Xo|=r,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Kp(n){var e=jn(),t=e.queue;if(t===null)throw Error(N(311));t.lastRenderedReducer=n;var i=t.dispatch,s=t.pending,r=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do r=n(r,o.action),o=o.next;while(o!==s);ci(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,i]}function QA(){}function JA(n,e){var t=De,i=jn(),s=e(),r=!ci(i.memoizedState,s);if(r&&(i.memoizedState=s,en=!0),i=i.queue,iv(t_.bind(null,t,i,n),[n]),i.getSnapshot!==e||r||dt!==null&&dt.memoizedState.tag&1){if(t.flags|=2048,lu(9,e_.bind(null,t,i,s,e),void 0,null),ft===null)throw Error(N(349));Go&30||ZA(t,e,s)}return s}function ZA(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function e_(n,e,t,i){e.value=t,e.getSnapshot=i,n_(e)&&i_(n)}function t_(n,e,t){return t(function(){n_(e)&&i_(n)})}function n_(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ci(n,t)}catch{return!0}}function i_(n){var e=Es(n,1);e!==null&&li(e,n,1,-1)}function C0(n){var e=fi();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:n},e.queue=n,n=n.dispatch=Fb.bind(null,De,n),[e.memoizedState,n]}function lu(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function s_(){return jn().memoizedState}function wd(n,e,t,i){var s=fi();De.flags|=n,s.memoizedState=lu(1|e,t,void 0,i===void 0?null:i)}function sp(n,e,t,i){var s=jn();i=i===void 0?null:i;var r=void 0;if(tt!==null){var o=tt.memoizedState;if(r=o.destroy,i!==null&&ev(i,o.deps)){s.memoizedState=lu(e,t,r,i);return}}De.flags|=n,s.memoizedState=lu(1|e,t,r,i)}function k0(n,e){return wd(8390656,8,n,e)}function iv(n,e){return sp(2048,8,n,e)}function r_(n,e){return sp(4,2,n,e)}function o_(n,e){return sp(4,4,n,e)}function a_(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function l_(n,e,t){return t=t!=null?t.concat([n]):null,sp(4,4,a_.bind(null,e,n),t)}function sv(){}function c_(n,e){var t=jn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&ev(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function u_(n,e){var t=jn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&ev(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function h_(n,e,t){return Go&21?(ci(t,e)||(t=mA(),De.lanes|=t,Xo|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,en=!0),n.memoizedState=t)}function Ib(n,e){var t=ve;ve=t!==0&&4>t?t:4,n(!0);var i=Yp.transition;Yp.transition={};try{n(!1),e()}finally{ve=t,Yp.transition=i}}function d_(){return jn().memoizedState}function Nb(n,e,t){var i=wr(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},f_(n))p_(e,t);else if(t=YA(n,e,t,i),t!==null){var s=Bt();li(t,n,i,s),g_(t,e,i)}}function Fb(n,e,t){var i=wr(n),s={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(f_(n))p_(e,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,t);if(s.hasEagerState=!0,s.eagerState=a,ci(a,o)){var c=e.interleaved;c===null?(s.next=s,qy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}t=YA(n,e,s,i),t!==null&&(s=Bt(),li(t,n,i,s),g_(t,e,i))}}function f_(n){var e=n.alternate;return n===De||e!==null&&e===De}function p_(n,e){zc=Af=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function g_(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Fy(n,t)}}var _f={readContext:On,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},Db={readContext:On,useCallback:function(n,e){return fi().memoizedState=[n,e===void 0?null:e],n},useContext:On,useEffect:k0,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,wd(4194308,4,a_.bind(null,e,n),t)},useLayoutEffect:function(n,e){return wd(4194308,4,n,e)},useInsertionEffect:function(n,e){return wd(4,2,n,e)},useMemo:function(n,e){var t=fi();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=fi();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=Nb.bind(null,De,n),[i.memoizedState,n]},useRef:function(n){var e=fi();return n={current:n},e.memoizedState=n},useState:C0,useDebugValue:sv,useDeferredValue:function(n){return fi().memoizedState=n},useTransition:function(){var n=C0(!1),e=n[0];return n=Ib.bind(null,n[1]),fi().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=De,s=fi();if(Re){if(t===void 0)throw Error(N(407));t=t()}else{if(t=e(),ft===null)throw Error(N(349));Go&30||ZA(i,e,t)}s.memoizedState=t;var r={value:t,getSnapshot:e};return s.queue=r,k0(t_.bind(null,i,r,n),[n]),i.flags|=2048,lu(9,e_.bind(null,i,r,t,e),void 0,null),t},useId:function(){var n=fi(),e=ft.identifierPrefix;if(Re){var t=gs,i=ps;t=(i&~(1<<32-ai(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=ou++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Mb++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Ob={readContext:On,useCallback:c_,useContext:On,useEffect:iv,useImperativeHandle:l_,useInsertionEffect:r_,useLayoutEffect:o_,useMemo:u_,useReducer:qp,useRef:s_,useState:function(){return qp(au)},useDebugValue:sv,useDeferredValue:function(n){var e=jn();return h_(e,tt.memoizedState,n)},useTransition:function(){var n=qp(au)[0],e=jn().memoizedState;return[n,e]},useMutableSource:QA,useSyncExternalStore:JA,useId:d_,unstable_isNewReconciler:!1},jb={readContext:On,useCallback:c_,useContext:On,useEffect:iv,useImperativeHandle:l_,useInsertionEffect:r_,useLayoutEffect:o_,useMemo:u_,useReducer:Kp,useRef:s_,useState:function(){return Kp(au)},useDebugValue:sv,useDeferredValue:function(n){var e=jn();return tt===null?e.memoizedState=n:h_(e,tt.memoizedState,n)},useTransition:function(){var n=Kp(au)[0],e=jn().memoizedState;return[n,e]},useMutableSource:QA,useSyncExternalStore:JA,useId:d_,unstable_isNewReconciler:!1};function Un(n,e){if(n&&n.defaultProps){e=je({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Hg(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:je({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var rp={isMounted:function(n){return(n=n._reactInternals)?na(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Bt(),s=wr(n),r=ms(i,s);r.payload=e,t!=null&&(r.callback=t),e=yr(n,r,s),e!==null&&(li(e,n,s,i),yd(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Bt(),s=wr(n),r=ms(i,s);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=yr(n,r,s),e!==null&&(li(e,n,s,i),yd(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Bt(),i=wr(n),s=ms(t,i);s.tag=2,e!=null&&(s.callback=e),e=yr(n,s,i),e!==null&&(li(e,n,i,t),yd(e,n,i))}};function T0(n,e,t,i,s,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!eu(t,i)||!eu(s,r):!0}function m_(n,e,t){var i=!1,s=xr,r=e.contextType;return typeof r=="object"&&r!==null?r=On(r):(s=sn(e)?Wo:Nt.current,i=e.contextTypes,r=(i=i!=null)?zl(n,s):xr),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rp,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),e}function P0(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&rp.enqueueReplaceState(e,e.state,null)}function zg(n,e,t,i){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},Ky(n);var r=e.contextType;typeof r=="object"&&r!==null?s.context=On(r):(r=sn(e)?Wo:Nt.current,s.context=zl(n,r)),s.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Hg(n,e,r,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&rp.enqueueReplaceState(s,s.state,null),vf(n,t,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Wl(n,e){try{var t="",i=e;do t+=d1(i),i=i.return;while(i);var s=t}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:s,digest:null}}function Qp(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Bg(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Hb=typeof WeakMap=="function"?WeakMap:Map;function y_(n,e,t){t=ms(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Ef||(Ef=!0,Qg=i),Bg(n,e)},t}function v_(n,e,t){t=ms(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;t.payload=function(){return i(s)},t.callback=function(){Bg(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){Bg(n,e),typeof i!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function R0(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new Hb;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(t)||(s.add(t),n=Zb.bind(null,n,e,t),e.then(n,n))}function L0(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function M0(n,e,t,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ms(-1,1),e.tag=2,yr(t,e,1))),t.lanes|=1),n)}var zb=ks.ReactCurrentOwner,en=!1;function Ht(n,e,t,i){e.child=n===null?XA(e,null,t,i):$l(e,n.child,t,i)}function I0(n,e,t,i,s){t=t.render;var r=e.ref;return Fa(e,s),i=tv(n,e,t,i,r,s),t=nv(),n!==null&&!en?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Ss(n,e,s)):(Re&&t&&Uy(e),e.flags|=1,Ht(n,e,i,s),e.child)}function N0(n,e,t,i,s){if(n===null){var r=t.type;return typeof r=="function"&&!dv(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,w_(n,e,r,i,s)):(n=Ed(t.type,null,i,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&s)){var o=r.memoizedProps;if(t=t.compare,t=t!==null?t:eu,t(o,i)&&n.ref===e.ref)return Ss(n,e,s)}return e.flags|=1,n=Ar(r,i),n.ref=e.ref,n.return=e,e.child=n}function w_(n,e,t,i,s){if(n!==null){var r=n.memoizedProps;if(eu(r,i)&&n.ref===e.ref)if(en=!1,e.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(en=!0);else return e.lanes=n.lanes,Ss(n,e,s)}return $g(n,e,t,i,s)}function A_(n,e,t){var i=e.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Pa,mn),mn|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Se(Pa,mn),mn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:t,Se(Pa,mn),mn|=i}else r!==null?(i=r.baseLanes|t,e.memoizedState=null):i=t,Se(Pa,mn),mn|=i;return Ht(n,e,s,t),e.child}function __(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function $g(n,e,t,i,s){var r=sn(t)?Wo:Nt.current;return r=zl(e,r),Fa(e,s),t=tv(n,e,t,i,r,s),i=nv(),n!==null&&!en?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Ss(n,e,s)):(Re&&i&&Uy(e),e.flags|=1,Ht(n,e,t,s),e.child)}function F0(n,e,t,i,s){if(sn(t)){var r=!0;ff(e)}else r=!1;if(Fa(e,s),e.stateNode===null)Ad(n,e),m_(e,t,i),zg(e,t,i,s),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=On(u):(u=sn(t)?Wo:Nt.current,u=zl(e,u));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||c!==u)&&P0(e,o,i,u),Is=!1;var f=e.memoizedState;o.state=f,vf(e,i,o,s),c=e.memoizedState,a!==i||f!==c||nn.current||Is?(typeof h=="function"&&(Hg(e,t,h,i),c=e.memoizedState),(a=Is||T0(e,t,a,i,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,qA(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Un(e.type,a),o.props=u,d=e.pendingProps,f=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=On(c):(c=sn(t)?Wo:Nt.current,c=zl(e,c));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==c)&&P0(e,o,i,c),Is=!1,f=e.memoizedState,o.state=f,vf(e,i,o,s);var m=e.memoizedState;a!==d||f!==m||nn.current||Is?(typeof p=="function"&&(Hg(e,t,p,i),m=e.memoizedState),(u=Is||T0(e,t,u,i,f,m,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=c,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return Ug(n,e,t,i,r,s)}function Ug(n,e,t,i,s,r){__(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&A0(e,t,!1),Ss(n,e,r);i=e.stateNode,zb.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=$l(e,n.child,null,r),e.child=$l(e,null,a,r)):Ht(n,e,a,r),e.memoizedState=i.state,s&&A0(e,t,!0),e.child}function x_(n){var e=n.stateNode;e.pendingContext?w0(n,e.pendingContext,e.pendingContext!==e.context):e.context&&w0(n,e.context,!1),Qy(n,e.containerInfo)}function D0(n,e,t,i,s){return Bl(),Vy(s),e.flags|=256,Ht(n,e,t,i),e.child}var Wg={dehydrated:null,treeContext:null,retryLane:0};function Vg(n){return{baseLanes:n,cachePool:null,transitions:null}}function E_(n,e,t){var i=e.pendingProps,s=Fe.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Se(Fe,s&1),n===null)return Og(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=lp(o,i,0,null),n=Uo(n,i,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=Vg(t),e.memoizedState=Wg,n):rv(e,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Bb(n,e,o,i,a,s,t);if(r){r=i.fallback,o=e.mode,s=n.child,a=s.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Ar(s,c),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Ar(a,r):(r=Uo(r,o,t,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=n.child.memoizedState,o=o===null?Vg(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~t,e.memoizedState=Wg,i}return r=n.child,n=r.sibling,i=Ar(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function rv(n,e){return e=lp({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function td(n,e,t,i){return i!==null&&Vy(i),$l(e,n.child,null,t),n=rv(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Bb(n,e,t,i,s,r,o){if(t)return e.flags&256?(e.flags&=-257,i=Qp(Error(N(422))),td(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=lp({mode:"visible",children:i.children},s,0,null),r=Uo(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&$l(e,n.child,null,o),e.child.memoizedState=Vg(o),e.memoizedState=Wg,r);if(!(e.mode&1))return td(n,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(N(419)),i=Qp(r,i,void 0),td(n,e,o,i)}if(a=(o&n.childLanes)!==0,en||a){if(i=ft,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Es(n,s),li(i,n,s,-1))}return hv(),i=Qp(Error(N(421))),td(n,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=eC.bind(null,n),s._reactRetry=e,null):(n=r.treeContext,vn=mr(s.nextSibling),wn=e,Re=!0,ri=null,n!==null&&(Rn[Ln++]=ps,Rn[Ln++]=gs,Rn[Ln++]=Vo,ps=n.id,gs=n.overflow,Vo=e),e=rv(e,i.children),e.flags|=4096,e)}function O0(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),jg(n.return,e,t)}function Jp(n,e,t,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=t,r.tailMode=s)}function S_(n,e,t){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Ht(n,e,i.children,t),i=Fe.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&O0(n,t,e);else if(n.tag===19)O0(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Se(Fe,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&wf(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Jp(e,!1,s,t,r);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&wf(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Jp(e,!0,t,null,r);break;case"together":Jp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ad(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ss(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Xo|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(N(153));if(e.child!==null){for(n=e.child,t=Ar(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ar(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function $b(n,e,t){switch(e.tag){case 3:x_(e),Bl();break;case 5:KA(e);break;case 1:sn(e.type)&&ff(e);break;case 4:Qy(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Se(mf,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Se(Fe,Fe.current&1),e.flags|=128,null):t&e.child.childLanes?E_(n,e,t):(Se(Fe,Fe.current&1),n=Ss(n,e,t),n!==null?n.sibling:null);Se(Fe,Fe.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return S_(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(Fe,Fe.current),i)break;return null;case 22:case 23:return e.lanes=0,A_(n,e,t)}return Ss(n,e,t)}var b_,Gg,C_,k_;b_=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Gg=function(){};C_=function(n,e,t,i){var s=n.memoizedProps;if(s!==i){n=e.stateNode,Wr(Ni.current);var r=null;switch(t){case"input":s=pg(n,s),i=pg(n,i),r=[];break;case"select":s=je({},s,{value:void 0}),i=je({},i,{value:void 0}),r=[];break;case"textarea":s=yg(n,s),i=yg(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=hf)}wg(t,i);var o;t=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xc.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var c=i[u];if(a=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(r||(r=[]),r.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&be("scroll",n),r||a===c||(r=[])):(r=r||[]).push(u,c))}t&&(r=r||[]).push("style",t);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};k_=function(n,e,t,i){t!==i&&(e.flags|=4)};function lc(n,e){if(!Re)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function St(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function Ub(n,e,t){var i=e.pendingProps;switch(Wy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return sn(e.type)&&df(),St(e),null;case 3:return i=e.stateNode,Ul(),ke(nn),ke(Nt),Zy(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Zh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ri!==null&&(em(ri),ri=null))),Gg(n,e),St(e),null;case 5:Jy(e);var s=Wr(ru.current);if(t=e.type,n!==null&&e.stateNode!=null)C_(n,e,t,i,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(N(166));return St(e),null}if(n=Wr(Ni.current),Zh(e)){i=e.stateNode,t=e.type;var r=e.memoizedProps;switch(i[Mi]=e,i[iu]=r,n=(e.mode&1)!==0,t){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(s=0;s<yc.length;s++)be(yc[s],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":Gv(i,r),be("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},be("invalid",i);break;case"textarea":Yv(i,r),be("invalid",i)}wg(t,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&Jh(i.textContent,a,n),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Jh(i.textContent,a,n),s=["children",""+a]):Xc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",i)}switch(t){case"input":Wh(i),Xv(i,r,!0);break;case"textarea":Wh(i),qv(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=hf)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=tA(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Mi]=e,n[iu]=i,b_(n,e,!1,!1),e.stateNode=n;e:{switch(o=Ag(t,i),t){case"dialog":be("cancel",n),be("close",n),s=i;break;case"iframe":case"object":case"embed":be("load",n),s=i;break;case"video":case"audio":for(s=0;s<yc.length;s++)be(yc[s],n);s=i;break;case"source":be("error",n),s=i;break;case"img":case"image":case"link":be("error",n),be("load",n),s=i;break;case"details":be("toggle",n),s=i;break;case"input":Gv(n,i),s=pg(n,i),be("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=je({},i,{value:void 0}),be("invalid",n);break;case"textarea":Yv(n,i),s=yg(n,i),be("invalid",n);break;default:s=i}wg(t,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var c=a[r];r==="style"?sA(n,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nA(n,c)):r==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Yc(n,c):typeof c=="number"&&Yc(n,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Xc.hasOwnProperty(r)?c!=null&&r==="onScroll"&&be("scroll",n):c!=null&&Py(n,r,c,o))}switch(t){case"input":Wh(n),Xv(n,i,!1);break;case"textarea":Wh(n),qv(n);break;case"option":i.value!=null&&n.setAttribute("value",""+_r(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?La(n,!!i.multiple,r,!1):i.defaultValue!=null&&La(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=hf)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(n&&e.stateNode!=null)k_(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(N(166));if(t=Wr(ru.current),Wr(Ni.current),Zh(e)){if(i=e.stateNode,t=e.memoizedProps,i[Mi]=e,(r=i.nodeValue!==t)&&(n=wn,n!==null))switch(n.tag){case 3:Jh(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Jh(i.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Mi]=e,e.stateNode=i}return St(e),null;case 13:if(ke(Fe),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Re&&vn!==null&&e.mode&1&&!(e.flags&128))VA(),Bl(),e.flags|=98560,r=!1;else if(r=Zh(e),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(N(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(N(317));r[Mi]=e}else Bl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),r=!1}else ri!==null&&(em(ri),ri=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Fe.current&1?it===0&&(it=3):hv())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return Ul(),Gg(n,e),n===null&&tu(e.stateNode.containerInfo),St(e),null;case 10:return Yy(e.type._context),St(e),null;case 17:return sn(e.type)&&df(),St(e),null;case 19:if(ke(Fe),r=e.memoizedState,r===null)return St(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)lc(r,!1);else{if(it!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=wf(n),o!==null){for(e.flags|=128,lc(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)r=t,n=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Se(Fe,Fe.current&1|2),e.child}n=n.sibling}r.tail!==null&&We()>Vl&&(e.flags|=128,i=!0,lc(r,!1),e.lanes=4194304)}else{if(!i)if(n=wf(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),lc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Re)return St(e),null}else 2*We()-r.renderingStartTime>Vl&&t!==1073741824&&(e.flags|=128,i=!0,lc(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=We(),e.sibling=null,t=Fe.current,Se(Fe,i?t&1|2:t&1),e):(St(e),null);case 22:case 23:return uv(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?mn&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Wb(n,e){switch(Wy(e),e.tag){case 1:return sn(e.type)&&df(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ul(),ke(nn),ke(Nt),Zy(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Jy(e),null;case 13:if(ke(Fe),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Bl()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ke(Fe),null;case 4:return Ul(),null;case 10:return Yy(e.type._context),null;case 22:case 23:return uv(),null;case 24:return null;default:return null}}var nd=!1,Lt=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ta(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){$e(n,e,i)}else t.current=null}function Xg(n,e,t){try{t()}catch(i){$e(n,e,i)}}var j0=!1;function Gb(n,e){if(Rg=lf,n=MA(),$y(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var o=0,a=-1,c=-1,u=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||s!==0&&d.nodeType!==3||(a=o+s),d!==r||i!==0&&d.nodeType!==3||(c=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++u===s&&(a=o),f===r&&++h===i&&(c=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Lg={focusedElem:n,selectionRange:t},lf=!1,z=e;z!==null;)if(e=z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,z=n;else for(;z!==null;){e=z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,E=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Un(e.type,w),E);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){$e(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}return m=j0,j0=!1,m}function Bc(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&Xg(e,t,r)}s=s.next}while(s!==i)}}function op(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Yg(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function T_(n){var e=n.alternate;e!==null&&(n.alternate=null,T_(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Mi],delete e[iu],delete e[Ng],delete e[Tb],delete e[Pb])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function P_(n){return n.tag===5||n.tag===3||n.tag===4}function H0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||P_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=hf));else if(i!==4&&(n=n.child,n!==null))for(qg(n,e,t),n=n.sibling;n!==null;)qg(n,e,t),n=n.sibling}function Kg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Kg(n,e,t),n=n.sibling;n!==null;)Kg(n,e,t),n=n.sibling}var vt=null,si=!1;function Ps(n,e,t){for(t=t.child;t!==null;)R_(n,e,t),t=t.sibling}function R_(n,e,t){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Jf,t)}catch{}switch(t.tag){case 5:Lt||Ta(t,e);case 6:var i=vt,s=si;vt=null,Ps(n,e,t),vt=i,si=s,vt!==null&&(si?(n=vt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):vt.removeChild(t.stateNode));break;case 18:vt!==null&&(si?(n=vt,t=t.stateNode,n.nodeType===8?Vp(n.parentNode,t):n.nodeType===1&&Vp(n,t),Jc(n)):Vp(vt,t.stateNode));break;case 4:i=vt,s=si,vt=t.stateNode.containerInfo,si=!0,Ps(n,e,t),vt=i,si=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Xg(t,e,o),s=s.next}while(s!==i)}Ps(n,e,t);break;case 1:if(!Lt&&(Ta(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){$e(t,e,a)}Ps(n,e,t);break;case 21:Ps(n,e,t);break;case 22:t.mode&1?(Lt=(i=Lt)||t.memoizedState!==null,Ps(n,e,t),Lt=i):Ps(n,e,t);break;default:Ps(n,e,t)}}function z0(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Vb),e.forEach(function(i){var s=tC.bind(null,n,i);t.has(i)||(t.add(i),i.then(s,s))})}}function Bn(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];try{var r=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,si=!1;break e;case 3:vt=a.stateNode.containerInfo,si=!0;break e;case 4:vt=a.stateNode.containerInfo,si=!0;break e}a=a.return}if(vt===null)throw Error(N(160));R_(r,o,s),vt=null,si=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$e(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L_(e,n),e=e.sibling}function L_(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Bn(e,n),hi(n),i&4){try{Bc(3,n,n.return),op(3,n)}catch(w){$e(n,n.return,w)}try{Bc(5,n,n.return)}catch(w){$e(n,n.return,w)}}break;case 1:Bn(e,n),hi(n),i&512&&t!==null&&Ta(t,t.return);break;case 5:if(Bn(e,n),hi(n),i&512&&t!==null&&Ta(t,t.return),n.flags&32){var s=n.stateNode;try{Yc(s,"")}catch(w){$e(n,n.return,w)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,o=t!==null?t.memoizedProps:r,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Zw(s,r),Ag(a,o);var u=Ag(a,r);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?sA(s,d):h==="dangerouslySetInnerHTML"?nA(s,d):h==="children"?Yc(s,d):Py(s,h,d,u)}switch(a){case"input":gg(s,r);break;case"textarea":eA(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?La(s,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?La(s,!!r.multiple,r.defaultValue,!0):La(s,!!r.multiple,r.multiple?[]:"",!1))}s[iu]=r}catch(w){$e(n,n.return,w)}}break;case 6:if(Bn(e,n),hi(n),i&4){if(n.stateNode===null)throw Error(N(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(w){$e(n,n.return,w)}}break;case 3:if(Bn(e,n),hi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Jc(e.containerInfo)}catch(w){$e(n,n.return,w)}break;case 4:Bn(e,n),hi(n);break;case 13:Bn(e,n),hi(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(lv=We())),i&4&&z0(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Lt=(u=Lt)||h,Bn(e,n),Lt=u):Bn(e,n),hi(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(z=n,h=n.child;h!==null;){for(d=z=h;z!==null;){switch(f=z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Bc(4,f,f.return);break;case 1:Ta(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){$e(i,t,w)}}break;case 5:Ta(f,f.return);break;case 22:if(f.memoizedState!==null){$0(d);continue}}p!==null?(p.return=f,z=p):$0(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=iA("display",o))}catch(w){$e(n,n.return,w)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){$e(n,n.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bn(e,n),hi(n),i&4&&z0(n);break;case 21:break;default:Bn(e,n),hi(n)}}function hi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(P_(t)){var i=t;break e}t=t.return}throw Error(N(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Yc(s,""),i.flags&=-33);var r=H0(n);Kg(n,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=H0(n);qg(n,a,o);break;default:throw Error(N(161))}}catch(c){$e(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Xb(n,e,t){z=n,M_(n)}function M_(n,e,t){for(var i=(n.mode&1)!==0;z!==null;){var s=z,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||nd;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Lt;a=nd;var u=Lt;if(nd=o,(Lt=c)&&!u)for(z=s;z!==null;)o=z,c=o.child,o.tag===22&&o.memoizedState!==null?U0(s):c!==null?(c.return=o,z=c):U0(s);for(;r!==null;)z=r,M_(r),r=r.sibling;z=s,nd=a,Lt=u}B0(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,z=r):B0(n)}}function B0(n){for(;z!==null;){var e=z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||op(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Lt)if(t===null)i.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Un(e.type,t.memoizedProps);i.componentDidUpdate(s,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&b0(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}b0(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Jc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Lt||e.flags&512&&Yg(e)}catch(f){$e(e,e.return,f)}}if(e===n){z=null;break}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}}function $0(n){for(;z!==null;){var e=z;if(e===n){z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,z=t;break}z=e.return}}function U0(n){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{op(4,e)}catch(c){$e(e,t,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(c){$e(e,s,c)}}var r=e.return;try{Yg(e)}catch(c){$e(e,r,c)}break;case 5:var o=e.return;try{Yg(e)}catch(c){$e(e,o,c)}}}catch(c){$e(e,e.return,c)}if(e===n){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var Yb=Math.ceil,xf=ks.ReactCurrentDispatcher,ov=ks.ReactCurrentOwner,Fn=ks.ReactCurrentBatchConfig,ue=0,ft=null,qe=null,wt=0,mn=0,Pa=Pr(0),it=0,cu=null,Xo=0,ap=0,av=0,$c=null,Zt=null,lv=0,Vl=1/0,Hi=null,Ef=!1,Qg=null,vr=null,id=!1,hr=null,Sf=0,Uc=0,Jg=null,_d=-1,xd=0;function Bt(){return ue&6?We():_d!==-1?_d:_d=We()}function wr(n){return n.mode&1?ue&2&&wt!==0?wt&-wt:Lb.transition!==null?(xd===0&&(xd=mA()),xd):(n=ve,n!==0||(n=window.event,n=n===void 0?16:EA(n.type)),n):1}function li(n,e,t,i){if(50<Uc)throw Uc=0,Jg=null,Error(N(185));Th(n,t,i),(!(ue&2)||n!==ft)&&(n===ft&&(!(ue&2)&&(ap|=t),it===4&&Fs(n,wt)),rn(n,i),t===1&&ue===0&&!(e.mode&1)&&(Vl=We()+500,ip&&Rr()))}function rn(n,e){var t=n.callbackNode;L1(n,e);var i=af(n,n===ft?wt:0);if(i===0)t!==null&&Jv(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Jv(t),e===1)n.tag===0?Rb(W0.bind(null,n)):$A(W0.bind(null,n)),Cb(function(){!(ue&6)&&Rr()}),t=null;else{switch(yA(i)){case 1:t=Ny;break;case 4:t=pA;break;case 16:t=of;break;case 536870912:t=gA;break;default:t=of}t=z_(t,I_.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function I_(n,e){if(_d=-1,xd=0,ue&6)throw Error(N(327));var t=n.callbackNode;if(Da()&&n.callbackNode!==t)return null;var i=af(n,n===ft?wt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=bf(n,i);else{e=i;var s=ue;ue|=2;var r=F_();(ft!==n||wt!==e)&&(Hi=null,Vl=We()+500,$o(n,e));do try{Qb();break}catch(a){N_(n,a)}while(!0);Xy(),xf.current=r,ue=s,qe!==null?e=0:(ft=null,wt=0,e=it)}if(e!==0){if(e===2&&(s=bg(n),s!==0&&(i=s,e=Zg(n,s))),e===1)throw t=cu,$o(n,0),Fs(n,i),rn(n,We()),t;if(e===6)Fs(n,i);else{if(s=n.current.alternate,!(i&30)&&!qb(s)&&(e=bf(n,i),e===2&&(r=bg(n),r!==0&&(i=r,e=Zg(n,r))),e===1))throw t=cu,$o(n,0),Fs(n,i),rn(n,We()),t;switch(n.finishedWork=s,n.finishedLanes=i,e){case 0:case 1:throw Error(N(345));case 2:Fr(n,Zt,Hi);break;case 3:if(Fs(n,i),(i&130023424)===i&&(e=lv+500-We(),10<e)){if(af(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){Bt(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=Ig(Fr.bind(null,n,Zt,Hi),e);break}Fr(n,Zt,Hi);break;case 4:if(Fs(n,i),(i&4194240)===i)break;for(e=n.eventTimes,s=-1;0<i;){var o=31-ai(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=We()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Yb(i/1960))-i,10<i){n.timeoutHandle=Ig(Fr.bind(null,n,Zt,Hi),i);break}Fr(n,Zt,Hi);break;case 5:Fr(n,Zt,Hi);break;default:throw Error(N(329))}}}return rn(n,We()),n.callbackNode===t?I_.bind(null,n):null}function Zg(n,e){var t=$c;return n.current.memoizedState.isDehydrated&&($o(n,e).flags|=256),n=bf(n,e),n!==2&&(e=Zt,Zt=t,e!==null&&em(e)),n}function em(n){Zt===null?Zt=n:Zt.push.apply(Zt,n)}function qb(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var s=t[i],r=s.getSnapshot;s=s.value;try{if(!ci(r(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(n,e){for(e&=~av,e&=~ap,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ai(e),i=1<<t;n[t]=-1,e&=~i}}function W0(n){if(ue&6)throw Error(N(327));Da();var e=af(n,0);if(!(e&1))return rn(n,We()),null;var t=bf(n,e);if(n.tag!==0&&t===2){var i=bg(n);i!==0&&(e=i,t=Zg(n,i))}if(t===1)throw t=cu,$o(n,0),Fs(n,e),rn(n,We()),t;if(t===6)throw Error(N(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Fr(n,Zt,Hi),rn(n,We()),null}function cv(n,e){var t=ue;ue|=1;try{return n(e)}finally{ue=t,ue===0&&(Vl=We()+500,ip&&Rr())}}function Yo(n){hr!==null&&hr.tag===0&&!(ue&6)&&Da();var e=ue;ue|=1;var t=Fn.transition,i=ve;try{if(Fn.transition=null,ve=1,n)return n()}finally{ve=i,Fn.transition=t,ue=e,!(ue&6)&&Rr()}}function uv(){mn=Pa.current,ke(Pa)}function $o(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,bb(t)),qe!==null)for(t=qe.return;t!==null;){var i=t;switch(Wy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&df();break;case 3:Ul(),ke(nn),ke(Nt),Zy();break;case 5:Jy(i);break;case 4:Ul();break;case 13:ke(Fe);break;case 19:ke(Fe);break;case 10:Yy(i.type._context);break;case 22:case 23:uv()}t=t.return}if(ft=n,qe=n=Ar(n.current,null),wt=mn=e,it=0,cu=null,av=ap=Xo=0,Zt=$c=null,Ur!==null){for(e=0;e<Ur.length;e++)if(t=Ur[e],i=t.interleaved,i!==null){t.interleaved=null;var s=i.next,r=t.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}t.pending=i}Ur=null}return n}function N_(n,e){do{var t=qe;try{if(Xy(),vd.current=_f,Af){for(var i=De.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Af=!1}if(Go=0,dt=tt=De=null,zc=!1,ou=0,ov.current=null,t===null||t.return===null){it=1,cu=e,qe=null;break}e:{var r=n,o=t.return,a=t,c=e;if(e=wt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=L0(o);if(p!==null){p.flags&=-257,M0(p,o,a,r,e),p.mode&1&&R0(r,u,e),e=p,c=u;var m=e.updateQueue;if(m===null){var w=new Set;w.add(c),e.updateQueue=w}else m.add(c);break e}else{if(!(e&1)){R0(r,u,e),hv();break e}c=Error(N(426))}}else if(Re&&a.mode&1){var E=L0(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),M0(E,o,a,r,e),Vy(Wl(c,a));break e}}r=c=Wl(c,a),it!==4&&(it=2),$c===null?$c=[r]:$c.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=y_(r,c,e);S0(r,g);break e;case 1:a=c;var v=r.type,_=r.stateNode;if(!(r.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(vr===null||!vr.has(_)))){r.flags|=65536,e&=-e,r.lanes|=e;var S=v_(r,a,e);S0(r,S);break e}}r=r.return}while(r!==null)}O_(t)}catch(b){e=b,qe===t&&t!==null&&(qe=t=t.return);continue}break}while(!0)}function F_(){var n=xf.current;return xf.current=_f,n===null?_f:n}function hv(){(it===0||it===3||it===2)&&(it=4),ft===null||!(Xo&268435455)&&!(ap&268435455)||Fs(ft,wt)}function bf(n,e){var t=ue;ue|=2;var i=F_();(ft!==n||wt!==e)&&(Hi=null,$o(n,e));do try{Kb();break}catch(s){N_(n,s)}while(!0);if(Xy(),ue=t,xf.current=i,qe!==null)throw Error(N(261));return ft=null,wt=0,it}function Kb(){for(;qe!==null;)D_(qe)}function Qb(){for(;qe!==null&&!x1();)D_(qe)}function D_(n){var e=H_(n.alternate,n,mn);n.memoizedProps=n.pendingProps,e===null?O_(n):qe=e,ov.current=null}function O_(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Wb(t,e),t!==null){t.flags&=32767,qe=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{it=6,qe=null;return}}else if(t=Ub(t,e,mn),t!==null){qe=t;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=n}while(e!==null);it===0&&(it=5)}function Fr(n,e,t){var i=ve,s=Fn.transition;try{Fn.transition=null,ve=1,Jb(n,e,t,i)}finally{Fn.transition=s,ve=i}return null}function Jb(n,e,t,i){do Da();while(hr!==null);if(ue&6)throw Error(N(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(N(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(M1(n,r),n===ft&&(qe=ft=null,wt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||id||(id=!0,z_(of,function(){return Da(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=Fn.transition,Fn.transition=null;var o=ve;ve=1;var a=ue;ue|=4,ov.current=null,Gb(n,t),L_(t,n),vb(Lg),lf=!!Rg,Lg=Rg=null,n.current=t,Xb(t),E1(),ue=a,ve=o,Fn.transition=r}else n.current=t;if(id&&(id=!1,hr=n,Sf=s),r=n.pendingLanes,r===0&&(vr=null),C1(t.stateNode),rn(n,We()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],i(s.value,{componentStack:s.stack,digest:s.digest});if(Ef)throw Ef=!1,n=Qg,Qg=null,n;return Sf&1&&n.tag!==0&&Da(),r=n.pendingLanes,r&1?n===Jg?Uc++:(Uc=0,Jg=n):Uc=0,Rr(),null}function Da(){if(hr!==null){var n=yA(Sf),e=Fn.transition,t=ve;try{if(Fn.transition=null,ve=16>n?16:n,hr===null)var i=!1;else{if(n=hr,hr=null,Sf=0,ue&6)throw Error(N(331));var s=ue;for(ue|=4,z=n.current;z!==null;){var r=z,o=r.child;if(z.flags&16){var a=r.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(z=u;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:Bc(8,h,r)}var d=h.child;if(d!==null)d.return=h,z=d;else for(;z!==null;){h=z;var f=h.sibling,p=h.return;if(T_(h),h===u){z=null;break}if(f!==null){f.return=p,z=f;break}z=p}}}var m=r.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}z=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,z=o;else e:for(;z!==null;){if(r=z,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Bc(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,z=g;break e}z=r.return}}var v=n.current;for(z=v;z!==null;){o=z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,z=_;else e:for(o=v;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:op(9,a)}}catch(b){$e(a,a.return,b)}if(a===o){z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,z=S;break e}z=a.return}}if(ue=s,Rr(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Jf,n)}catch{}i=!0}return i}finally{ve=t,Fn.transition=e}}return!1}function V0(n,e,t){e=Wl(t,e),e=y_(n,e,1),n=yr(n,e,1),e=Bt(),n!==null&&(Th(n,1,e),rn(n,e))}function $e(n,e,t){if(n.tag===3)V0(n,n,t);else for(;e!==null;){if(e.tag===3){V0(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(vr===null||!vr.has(i))){n=Wl(t,n),n=v_(e,n,1),e=yr(e,n,1),n=Bt(),e!==null&&(Th(e,1,n),rn(e,n));break}}e=e.return}}function Zb(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Bt(),n.pingedLanes|=n.suspendedLanes&t,ft===n&&(wt&t)===t&&(it===4||it===3&&(wt&130023424)===wt&&500>We()-lv?$o(n,0):av|=t),rn(n,e)}function j_(n,e){e===0&&(n.mode&1?(e=Xh,Xh<<=1,!(Xh&130023424)&&(Xh=4194304)):e=1);var t=Bt();n=Es(n,e),n!==null&&(Th(n,e,t),rn(n,t))}function eC(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),j_(n,t)}function tC(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(N(314))}i!==null&&i.delete(e),j_(n,t)}var H_;H_=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||nn.current)en=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return en=!1,$b(n,e,t);en=!!(n.flags&131072)}else en=!1,Re&&e.flags&1048576&&UA(e,gf,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ad(n,e),n=e.pendingProps;var s=zl(e,Nt.current);Fa(e,t),s=tv(null,e,i,n,s,t);var r=nv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(i)?(r=!0,ff(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ky(e),s.updater=rp,e.stateNode=s,s._reactInternals=e,zg(e,i,n,t),e=Ug(null,e,i,!0,r,t)):(e.tag=0,Re&&r&&Uy(e),Ht(null,e,s,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Ad(n,e),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=iC(i),n=Un(i,n),s){case 0:e=$g(null,e,i,n,t);break e;case 1:e=F0(null,e,i,n,t);break e;case 11:e=I0(null,e,i,n,t);break e;case 14:e=N0(null,e,i,Un(i.type,n),t);break e}throw Error(N(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Un(i,s),$g(n,e,i,s,t);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Un(i,s),F0(n,e,i,s,t);case 3:e:{if(x_(e),n===null)throw Error(N(387));i=e.pendingProps,r=e.memoizedState,s=r.element,qA(n,e),vf(e,i,null,t);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Wl(Error(N(423)),e),e=D0(n,e,i,t,s);break e}else if(i!==s){s=Wl(Error(N(424)),e),e=D0(n,e,i,t,s);break e}else for(vn=mr(e.stateNode.containerInfo.firstChild),wn=e,Re=!0,ri=null,t=XA(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Bl(),i===s){e=Ss(n,e,t);break e}Ht(n,e,i,t)}e=e.child}return e;case 5:return KA(e),n===null&&Og(e),i=e.type,s=e.pendingProps,r=n!==null?n.memoizedProps:null,o=s.children,Mg(i,s)?o=null:r!==null&&Mg(i,r)&&(e.flags|=32),__(n,e),Ht(n,e,o,t),e.child;case 6:return n===null&&Og(e),null;case 13:return E_(n,e,t);case 4:return Qy(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=$l(e,null,i,t):Ht(n,e,i,t),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Un(i,s),I0(n,e,i,s,t);case 7:return Ht(n,e,e.pendingProps,t),e.child;case 8:return Ht(n,e,e.pendingProps.children,t),e.child;case 12:return Ht(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Se(mf,i._currentValue),i._currentValue=o,r!==null)if(ci(r.value,o)){if(r.children===s.children&&!nn.current){e=Ss(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var c=a.firstContext;c!==null;){if(c.context===i){if(r.tag===1){c=ms(-1,t&-t),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}r.lanes|=t,c=r.alternate,c!==null&&(c.lanes|=t),jg(r.return,t,e),a.lanes|=t;break}c=c.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(N(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),jg(o,t,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Ht(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Fa(e,t),s=On(s),i=i(s),e.flags|=1,Ht(n,e,i,t),e.child;case 14:return i=e.type,s=Un(i,e.pendingProps),s=Un(i.type,s),N0(n,e,i,s,t);case 15:return w_(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Un(i,s),Ad(n,e),e.tag=1,sn(i)?(n=!0,ff(e)):n=!1,Fa(e,t),m_(e,i,s),zg(e,i,s,t),Ug(null,e,i,!0,n,t);case 19:return S_(n,e,t);case 22:return A_(n,e,t)}throw Error(N(156,e.tag))};function z_(n,e){return fA(n,e)}function nC(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(n,e,t,i){return new nC(n,e,t,i)}function dv(n){return n=n.prototype,!(!n||!n.isReactComponent)}function iC(n){if(typeof n=="function")return dv(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ly)return 11;if(n===My)return 14}return 2}function Ar(n,e){var t=n.alternate;return t===null?(t=Nn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Ed(n,e,t,i,s,r){var o=2;if(i=n,typeof n=="function")dv(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case wa:return Uo(t.children,s,r,e);case Ry:o=8,s|=8;break;case ug:return n=Nn(12,t,e,s|2),n.elementType=ug,n.lanes=r,n;case hg:return n=Nn(13,t,e,s),n.elementType=hg,n.lanes=r,n;case dg:return n=Nn(19,t,e,s),n.elementType=dg,n.lanes=r,n;case Kw:return lp(t,s,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Yw:o=10;break e;case qw:o=9;break e;case Ly:o=11;break e;case My:o=14;break e;case Ms:o=16,i=null;break e}throw Error(N(130,n==null?n:typeof n,""))}return e=Nn(o,t,e,s),e.elementType=n,e.type=i,e.lanes=r,e}function Uo(n,e,t,i){return n=Nn(7,n,i,e),n.lanes=t,n}function lp(n,e,t,i){return n=Nn(22,n,i,e),n.elementType=Kw,n.lanes=t,n.stateNode={isHidden:!1},n}function Zp(n,e,t){return n=Nn(6,n,null,e),n.lanes=t,n}function eg(n,e,t){return e=Nn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function sC(n,e,t,i,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Np(0),this.expirationTimes=Np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Np(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fv(n,e,t,i,s,r,o,a,c){return n=new sC(n,e,t,a,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Nn(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ky(r),n}function rC(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function B_(n){if(!n)return xr;n=n._reactInternals;e:{if(na(n)!==n||n.tag!==1)throw Error(N(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(n.tag===1){var t=n.type;if(sn(t))return BA(n,t,e)}return e}function $_(n,e,t,i,s,r,o,a,c){return n=fv(t,i,!0,n,s,r,o,a,c),n.context=B_(null),t=n.current,i=Bt(),s=wr(t),r=ms(i,s),r.callback=e??null,yr(t,r,s),n.current.lanes=s,Th(n,s,i),rn(n,i),n}function cp(n,e,t,i){var s=e.current,r=Bt(),o=wr(s);return t=B_(t),e.context===null?e.context=t:e.pendingContext=t,e=ms(r,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=yr(s,e,o),n!==null&&(li(n,s,o,r),yd(n,s,o)),o}function Cf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function G0(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function pv(n,e){G0(n,e),(n=n.alternate)&&G0(n,e)}function oC(){return null}var U_=typeof reportError=="function"?reportError:function(n){console.error(n)};function gv(n){this._internalRoot=n}up.prototype.render=gv.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(N(409));cp(n,e,null,null)};up.prototype.unmount=gv.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Yo(function(){cp(null,n,null,null)}),e[xs]=null}};function up(n){this._internalRoot=n}up.prototype.unstable_scheduleHydration=function(n){if(n){var e=AA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ns.length&&e!==0&&e<Ns[t].priority;t++);Ns.splice(t,0,n),t===0&&xA(n)}};function mv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function X0(){}function aC(n,e,t,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=Cf(o);r.call(u)}}var o=$_(e,i,n,0,null,!1,!1,"",X0);return n._reactRootContainer=o,n[xs]=o.current,tu(n.nodeType===8?n.parentNode:n),Yo(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var u=Cf(c);a.call(u)}}var c=fv(n,0,!1,null,null,!1,!1,"",X0);return n._reactRootContainer=c,n[xs]=c.current,tu(n.nodeType===8?n.parentNode:n),Yo(function(){cp(e,c,t,i)}),c}function dp(n,e,t,i,s){var r=t._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var c=Cf(o);a.call(c)}}cp(e,o,n,s)}else o=aC(t,e,n,s,i);return Cf(o)}vA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=mc(e.pendingLanes);t!==0&&(Fy(e,t|1),rn(e,We()),!(ue&6)&&(Vl=We()+500,Rr()))}break;case 13:Yo(function(){var i=Es(n,1);if(i!==null){var s=Bt();li(i,n,1,s)}}),pv(n,1)}};Dy=function(n){if(n.tag===13){var e=Es(n,134217728);if(e!==null){var t=Bt();li(e,n,134217728,t)}pv(n,134217728)}};wA=function(n){if(n.tag===13){var e=wr(n),t=Es(n,e);if(t!==null){var i=Bt();li(t,n,e,i)}pv(n,e)}};AA=function(){return ve};_A=function(n,e){var t=ve;try{return ve=n,e()}finally{ve=t}};xg=function(n,e,t){switch(e){case"input":if(gg(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var s=np(i);if(!s)throw Error(N(90));Jw(i),gg(i,s)}}}break;case"textarea":eA(n,t);break;case"select":e=t.value,e!=null&&La(n,!!t.multiple,e,!1)}};aA=cv;lA=Yo;var lC={usingClientEntryPoint:!1,Events:[Rh,Ea,np,rA,oA,cv]},cc={findFiberByHostInstance:$r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cC={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=hA(n),n===null?null:n.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||oC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{Jf=sd.inject(cC),Ii=sd}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lC;xn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mv(e))throw Error(N(200));return rC(n,e,null,t)};xn.createRoot=function(n,e){if(!mv(n))throw Error(N(299));var t=!1,i="",s=U_;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fv(n,1,!1,null,null,t,!1,i,s),n[xs]=e.current,tu(n.nodeType===8?n.parentNode:n),new gv(e)};xn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(N(188)):(n=Object.keys(n).join(","),Error(N(268,n)));return n=hA(e),n=n===null?null:n.stateNode,n};xn.flushSync=function(n){return Yo(n)};xn.hydrate=function(n,e,t){if(!hp(e))throw Error(N(200));return dp(null,n,e,!0,t)};xn.hydrateRoot=function(n,e,t){if(!mv(n))throw Error(N(405));var i=t!=null&&t.hydratedSources||null,s=!1,r="",o=U_;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=$_(e,null,n,1,t??null,s,!1,r,o),n[xs]=e.current,tu(n),i)for(n=0;n<i.length;n++)t=i[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new up(e)};xn.render=function(n,e,t){if(!hp(e))throw Error(N(200));return dp(null,n,e,!1,t)};xn.unmountComponentAtNode=function(n){if(!hp(n))throw Error(N(40));return n._reactRootContainer?(Yo(function(){dp(null,null,n,!1,function(){n._reactRootContainer=null,n[xs]=null})}),!0):!1};xn.unstable_batchedUpdates=cv;xn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!hp(t))throw Error(N(200));if(n==null||n._reactInternals===void 0)throw Error(N(38));return dp(n,e,t,!1,i)};xn.version="18.3.1-next-f1338f8080-20240426";function W_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W_)}catch(n){console.error(n)}}W_(),Ww.exports=xn;var uC=Ww.exports,V_,Y0=uC;V_=Y0.createRoot,Y0.hydrateRoot;var yv={};Object.defineProperty(yv,"__esModule",{value:!0});yv.parse=yC;yv.serialize=vC;const hC=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,dC=/^[\u0021-\u003A\u003C-\u007E]*$/,fC=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pC=/^[\u0020-\u003A\u003D-\u007E]*$/,gC=Object.prototype.toString,mC=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function yC(n,e){const t=new mC,i=n.length;if(i<2)return t;const s=(e==null?void 0:e.decode)||wC;let r=0;do{const o=n.indexOf("=",r);if(o===-1)break;const a=n.indexOf(";",r),c=a===-1?i:a;if(o>c){r=n.lastIndexOf(";",o-1)+1;continue}const u=q0(n,r,o),h=K0(n,o,u),d=n.slice(u,h);if(t[d]===void 0){let f=q0(n,o+1,c),p=K0(n,c,f);const m=s(n.slice(f,p));t[d]=m}r=c+1}while(r<i);return t}function q0(n,e,t){do{const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}while(++e<t);return t}function K0(n,e,t){for(;e>t;){const i=n.charCodeAt(--e);if(i!==32&&i!==9)return e+1}return t}function vC(n,e,t){const i=(t==null?void 0:t.encode)||encodeURIComponent;if(!hC.test(n))throw new TypeError(`argument name is invalid: ${n}`);const s=i(e);if(!dC.test(s))throw new TypeError(`argument val is invalid: ${e}`);let r=n+"="+s;if(!t)return r;if(t.maxAge!==void 0){if(!Number.isInteger(t.maxAge))throw new TypeError(`option maxAge is invalid: ${t.maxAge}`);r+="; Max-Age="+t.maxAge}if(t.domain){if(!fC.test(t.domain))throw new TypeError(`option domain is invalid: ${t.domain}`);r+="; Domain="+t.domain}if(t.path){if(!pC.test(t.path))throw new TypeError(`option path is invalid: ${t.path}`);r+="; Path="+t.path}if(t.expires){if(!AC(t.expires)||!Number.isFinite(t.expires.valueOf()))throw new TypeError(`option expires is invalid: ${t.expires}`);r+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(r+="; HttpOnly"),t.secure&&(r+="; Secure"),t.partitioned&&(r+="; Partitioned"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():void 0){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${t.priority}`)}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:case"strict":r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"none":r+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${t.sameSite}`)}return r}function wC(n){if(n.indexOf("%")===-1)return n;try{return decodeURIComponent(n)}catch{return n}}function AC(n){return gC.call(n)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Q0="popstate";function _C(n={}){function e(i,s){let{pathname:r,search:o,hash:a}=i.location;return tm("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:uu(s)}return EC(e,t,null,n)}function Oe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Lr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xC(){return Math.random().toString(36).substring(2,10)}function J0(n,e){return{usr:n.state,key:n.key,idx:e}}function tm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Kl(e):e,state:t,key:e&&e.key||i||xC()}}function uu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Kl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function EC(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let E=h(),g=E==null?null:E-u;u=E,c&&c({action:a,location:w.location,delta:g})}function f(E,g){a="PUSH";let v=tm(w.location,E,g);u=h()+1;let _=J0(v,u),S=w.createHref(v);try{o.pushState(_,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(S)}r&&c&&c({action:a,location:w.location,delta:1})}function p(E,g){a="REPLACE";let v=tm(w.location,E,g);u=h();let _=J0(v,u),S=w.createHref(v);o.replaceState(_,"",S),r&&c&&c({action:a,location:w.location,delta:0})}function m(E){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:uu(E);return v=v.replace(/ $/,"%20"),Oe(g,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,g)}let w={get action(){return a},get location(){return n(s,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Q0,d),c=E,()=>{s.removeEventListener(Q0,d),c=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let g=m(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(E){return o.go(E)}};return w}function G_(n,e,t="/"){return SC(n,e,t,!1)}function SC(n,e,t,i){let s=typeof e=="string"?Kl(e):e,r=Er(s.pathname||"/",t);if(r==null)return null;let o=X_(n);bC(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=DC(r);a=NC(o[c],u,i)}return a}function X_(n,e=[],t=[],i=""){let s=(r,o,a)=>{let c={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let u=ys([i,c.relativePath]),h=t.concat(c);r.children&&r.children.length>0&&(Oe(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),X_(r.children,e,h,u)),!(r.path==null&&!r.index)&&e.push({path:u,score:MC(u,r.index),routesMeta:h})};return n.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let c of Y_(r.path))s(r,o,c)}),e}function Y_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=Y_(i.join("/")),a=[];return a.push(...o.map(c=>c===""?r:[r,c].join("/"))),s&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function bC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:IC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var CC=/^:[\w-]+$/,kC=3,TC=2,PC=1,RC=10,LC=-2,Z0=n=>n==="*";function MC(n,e){let t=n.split("/"),i=t.length;return t.some(Z0)&&(i+=LC),e&&(i+=TC),t.filter(s=>!Z0(s)).reduce((s,r)=>s+(CC.test(r)?kC:r===""?PC:RC),i)}function IC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function NC(n,e,t=!1){let{routesMeta:i}=n,s={},r="/",o=[];for(let a=0;a<i.length;++a){let c=i[a],u=a===i.length-1,h=r==="/"?e:e.slice(r.length)||"/",d=kf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d&&u&&t&&!i[i.length-1].route.index&&(d=kf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:ys([r,d.pathname]),pathnameBase:zC(ys([r,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(r=ys([r,d.pathnameBase]))}return o}function kf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=FC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:d},f)=>{if(h==="*"){let m=a[f]||"";o=r.slice(0,r.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:n}}function FC(n,e=!1,t=!0){Lr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(i.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function DC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Er(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function OC(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Kl(n):n;return{pathname:t?t.startsWith("/")?t:jC(t,e):e,search:BC(i),hash:$C(s)}}function jC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function tg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function q_(n){let e=HC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function K_(n,e,t,i=!1){let s;typeof n=="string"?s=Kl(n):(s={...n},Oe(!s.pathname||!s.pathname.includes("?"),tg("?","pathname","search",s)),Oe(!s.pathname||!s.pathname.includes("#"),tg("#","pathname","hash",s)),Oe(!s.search||!s.search.includes("#"),tg("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let c=OC(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(r||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var ys=n=>n.join("/").replace(/\/\/+/g,"/"),zC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$C=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function UC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Q_=["POST","PUT","PATCH","DELETE"];new Set(Q_);var WC=["GET",...Q_];new Set(WC);var Ql=T.createContext(null);Ql.displayName="DataRouter";var fp=T.createContext(null);fp.displayName="DataRouterState";var J_=T.createContext({isTransitioning:!1});J_.displayName="ViewTransition";var VC=T.createContext(new Map);VC.displayName="Fetchers";var GC=T.createContext(null);GC.displayName="Await";var Fi=T.createContext(null);Fi.displayName="Navigation";var Mh=T.createContext(null);Mh.displayName="Location";var Ts=T.createContext({outlet:null,matches:[],isDataRoute:!1});Ts.displayName="Route";var vv=T.createContext(null);vv.displayName="RouteError";function XC(n,{relative:e}={}){Oe(Ih(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=T.useContext(Fi),{hash:s,pathname:r,search:o}=Nh(n,{relative:e}),a=r;return t!=="/"&&(a=r==="/"?t:ys([t,r])),i.createHref({pathname:a,search:o,hash:s})}function Ih(){return T.useContext(Mh)!=null}function ia(){return Oe(Ih(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Mh).location}var Z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ex(n){T.useContext(Fi).static||T.useLayoutEffect(n)}function YC(){let{isDataRoute:n}=T.useContext(Ts);return n?ak():qC()}function qC(){Oe(Ih(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Ql),{basename:e,navigator:t}=T.useContext(Fi),{matches:i}=T.useContext(Ts),{pathname:s}=ia(),r=JSON.stringify(q_(i)),o=T.useRef(!1);return ex(()=>{o.current=!0}),T.useCallback((c,u={})=>{if(Lr(o.current,Z_),!o.current)return;if(typeof c=="number"){t.go(c);return}let h=K_(c,JSON.parse(r),s,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ys([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,r,s,n])}T.createContext(null);function Nh(n,{relative:e}={}){let{matches:t}=T.useContext(Ts),{pathname:i}=ia(),s=JSON.stringify(q_(t));return T.useMemo(()=>K_(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function KC(n,e){return tx(n,e)}function tx(n,e,t,i){var w;Oe(Ih(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(Fi),{matches:r}=T.useContext(Ts),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ia(),h;if(e){let E=typeof e=="string"?Kl(e):e;Oe(c==="/"||((w=E.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${E.pathname}" was given in the \`location\` prop.`),h=E}else h=u;let d=h.pathname||"/",f=d;if(c!=="/"){let E=c.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(E.length).join("/")}let p=G_(n,{pathname:f}),m=tk(p&&p.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ys([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:ys([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),r,t,i);return e&&m?T.createElement(Mh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},m):m}function QC(){let n=ok(),e=UC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:s},t):null,null)}var JC=T.createElement(QC,null),ZC=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(Ts.Provider,{value:this.props.routeContext},T.createElement(vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ek({routeContext:n,match:e,children:t}){let i=T.useContext(Ql);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Ts.Provider,{value:n},t)}function tk(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,r=t==null?void 0:t.errors;if(r!=null){let c=s.findIndex(u=>u.route.id&&(r==null?void 0:r[u.route.id])!==void 0);Oe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,a=-1;if(t)for(let c=0;c<s.length;c++){let u=s[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=c),u.route.id){let{loaderData:h,errors:d}=t,f=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((c,u,h)=>{let d,f=!1,p=null,m=null;t&&(d=r&&u.route.id?r[u.route.id]:void 0,p=u.route.errorElement||JC,o&&(a<0&&h===0?(lk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):a===h&&(f=!0,m=u.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,h+1)),E=()=>{let g;return d?g=p:f?g=m:u.route.Component?g=T.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,T.createElement(ek,{match:u,routeContext:{outlet:c,matches:w,isDataRoute:t!=null},children:g})};return t&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?T.createElement(ZC,{location:t.location,revalidation:t.revalidation,component:p,error:d,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}function wv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nk(n){let e=T.useContext(Ql);return Oe(e,wv(n)),e}function ik(n){let e=T.useContext(fp);return Oe(e,wv(n)),e}function sk(n){let e=T.useContext(Ts);return Oe(e,wv(n)),e}function Av(n){let e=sk(n),t=e.matches[e.matches.length-1];return Oe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rk(){return Av("useRouteId")}function ok(){var i;let n=T.useContext(vv),e=ik("useRouteError"),t=Av("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function ak(){let{router:n}=nk("useNavigate"),e=Av("useNavigate"),t=T.useRef(!1);return ex(()=>{t.current=!0}),T.useCallback(async(s,r={})=>{Lr(t.current,Z_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...r}))},[n,e])}var ew={};function lk(n,e,t){ew[n]||(ew[n]=!0,Lr(!1,t))}T.memo(ck);function ck({routes:n,future:e,state:t}){return tx(n,void 0,t,e)}function vc(n){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uk({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:r=!1}){Oe(!Ih(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof t=="string"&&(t=Kl(t));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=t,p=T.useMemo(()=>{let m=Er(c,o);return m==null?null:{location:{pathname:m,search:u,hash:h,state:d,key:f},navigationType:i}},[o,c,u,h,d,f,i]);return Lr(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:T.createElement(Fi.Provider,{value:a},T.createElement(Mh.Provider,{children:e,value:p}))}function hk({children:n,location:e}){return KC(nm(n),e)}function nm(n,e=[]){let t=[];return T.Children.forEach(n,(i,s)=>{if(!T.isValidElement(i))return;let r=[...e,s];if(i.type===T.Fragment){t.push.apply(t,nm(i.props.children,r));return}Oe(i.type===vc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=nm(i.props.children,r)),t.push(o)}),t}var Sd="get",bd="application/x-www-form-urlencoded";function pp(n){return n!=null&&typeof n.tagName=="string"}function dk(n){return pp(n)&&n.tagName.toLowerCase()==="button"}function fk(n){return pp(n)&&n.tagName.toLowerCase()==="form"}function pk(n){return pp(n)&&n.tagName.toLowerCase()==="input"}function gk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mk(n,e){return n.button===0&&(!e||e==="_self")&&!gk(n)}var rd=null;function yk(){if(rd===null)try{new FormData(document.createElement("form"),0),rd=!1}catch{rd=!0}return rd}var vk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ng(n){return n!=null&&!vk.has(n)?(Lr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bd}"`),null):n}function wk(n,e){let t,i,s,r,o;if(fk(n)){let a=n.getAttribute("action");i=a?Er(a,e):null,t=n.getAttribute("method")||Sd,s=ng(n.getAttribute("enctype"))||bd,r=new FormData(n)}else if(dk(n)||pk(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||a.getAttribute("action");if(i=c?Er(c,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||Sd,s=ng(n.getAttribute("formenctype"))||ng(a.getAttribute("enctype"))||bd,r=new FormData(a,n),!yk()){let{name:u,type:h,value:d}=n;if(h==="image"){let f=u?`${u}.`:"";r.append(`${f}x`,"0"),r.append(`${f}y`,"0")}else u&&r.append(u,d)}}else{if(pp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sd,i=null,s=bd,o=n}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:r,body:o}}function _v(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Ak(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _k(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xk(n,e,t){let i=await Promise.all(n.map(async s=>{let r=e.routes[s.route.id];if(r){let o=await Ak(r,t);return o.links?o.links():[]}return[]}));return Ck(i.flat(1).filter(_k).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function tw(n,e,t,i,s,r){let o=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,a=(c,u)=>{var h;return t[u].pathname!==c.pathname||((h=t[u].route.path)==null?void 0:h.endsWith("*"))&&t[u].params["*"]!==c.params["*"]};return r==="assets"?e.filter((c,u)=>o(c,u)||a(c,u)):r==="data"?e.filter((c,u)=>{var d;let h=i.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=t[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Ek(n,e){return Sk(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Sk(n){return[...new Set(n)]}function bk(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Ck(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let r=JSON.stringify(bk(s));return t.has(r)||(t.add(r),i.push({key:r,link:s})),i},[])}function kk(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Tk(){let n=T.useContext(Ql);return _v(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Pk(){let n=T.useContext(fp);return _v(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xv=T.createContext(void 0);xv.displayName="FrameworkContext";function nx(){let n=T.useContext(xv);return _v(n,"You must render this element inside a <HydratedRouter> element"),n}function Rk(n,e){let t=T.useContext(xv),[i,s]=T.useState(!1),[r,o]=T.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,f=T.useRef(null);T.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let w=g=>{g.forEach(v=>{o(v.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return f.current&&E.observe(f.current),()=>{E.disconnect()}}},[n]),T.useEffect(()=>{if(i){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return t?n!=="intent"?[r,f,{}]:[r,f,{onFocus:uc(a,p),onBlur:uc(c,m),onMouseEnter:uc(u,p),onMouseLeave:uc(h,m),onTouchStart:uc(d,p)}]:[!1,f,{}]}function uc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Lk({page:n,...e}){let{router:t}=Tk(),i=T.useMemo(()=>G_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?T.createElement(Ik,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function Mk(n){let{manifest:e,routeModules:t}=nx(),[i,s]=T.useState([]);return T.useEffect(()=>{let r=!1;return xk(n,e,t).then(o=>{r||s(o)}),()=>{r=!0}},[n,e,t]),i}function Ik({page:n,matches:e,...t}){let i=ia(),{manifest:s,routeModules:r}=nx(),{loaderData:o,matches:a}=Pk(),c=T.useMemo(()=>tw(n,e,a,s,i,"data"),[n,e,a,s,i]),u=T.useMemo(()=>tw(n,e,a,s,i,"assets"),[n,e,a,s,i]),h=T.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let p=new Set,m=!1;if(e.forEach(E=>{var v;let g=s.routes[E.route.id];!g||!g.hasLoader||(!c.some(_=>_.route.id===E.route.id)&&E.route.id in o&&((v=r[E.route.id])!=null&&v.shouldRevalidate)||g.hasClientLoader?m=!0:p.add(E.route.id))}),p.size===0)return[];let w=kk(n);return m&&p.size>0&&w.searchParams.set("_routes",e.filter(E=>p.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[o,i,s,c,e,n,r]),d=T.useMemo(()=>Ek(u,s),[u,s]),f=Mk(u);return T.createElement(T.Fragment,null,h.map(p=>T.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...t})),d.map(p=>T.createElement("link",{key:p,rel:"modulepreload",href:p,...t})),f.map(({key:p,link:m})=>T.createElement("link",{key:p,...m})))}function Nk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ix&&(window.__reactRouterVersion="7.0.1")}catch{}function Fk({basename:n,children:e,window:t}){let i=T.useRef();i.current==null&&(i.current=_C({window:t,v5Compat:!0}));let s=i.current,[r,o]=T.useState({action:s.action,location:s.location}),a=T.useCallback(c=>{T.startTransition(()=>o(c))},[o]);return T.useLayoutEffect(()=>s.listen(a),[s,a]),T.createElement(uk,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:s})}var sx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dr=T.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:d,...f},p){let{basename:m}=T.useContext(Fi),w=typeof u=="string"&&sx.test(u),E,g=!1;if(typeof u=="string"&&w&&(E=u,ix))try{let M=new URL(window.location.href),I=u.startsWith("//")?new URL(M.protocol+u):new URL(u),F=Er(I.pathname,m);I.origin===M.origin&&F!=null?u=F+I.search+I.hash:g=!0}catch{Lr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=XC(u,{relative:s}),[_,S,b]=Rk(i,f),C=Hk(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:d});function k(M){e&&e(M),M.defaultPrevented||C(M)}let P=T.createElement("a",{...f,...b,href:E||v,onClick:g||r?e:k,ref:Nk(p,S),target:c,"data-discover":!w&&t==="render"?"true":void 0});return _&&!w?T.createElement(T.Fragment,null,P,T.createElement(Lk,{page:v})):P});dr.displayName="Link";var Dk=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:a,children:c,...u},h){let d=Nh(o,{relative:u.relative}),f=ia(),p=T.useContext(fp),{navigator:m,basename:w}=T.useContext(Fi),E=p!=null&&Wk(d)&&a===!0,g=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,v=f.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(v=v.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase()),_&&w&&(_=Er(_,w)||_);const S=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let b=v===g||!s&&v.startsWith(g)&&v.charAt(S)==="/",C=_!=null&&(_===g||!s&&_.startsWith(g)&&_.charAt(g.length)==="/"),k={isActive:b,isPending:C,isTransitioning:E},P=b?e:void 0,M;typeof i=="function"?M=i(k):M=[i,b?"active":null,C?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let I=typeof r=="function"?r(k):r;return T.createElement(dr,{...u,"aria-current":P,className:M,ref:h,style:I,to:o,viewTransition:a},typeof c=="function"?c(k):c)});Dk.displayName="NavLink";var Ok=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:r,method:o=Sd,action:a,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:d,...f},p)=>{let m=$k(),w=Uk(a,{relative:u}),E=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&sx.test(a),v=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let S=_.nativeEvent.submitter,b=(S==null?void 0:S.getAttribute("formmethod"))||o;m(S||_.currentTarget,{fetcherKey:e,method:b,navigate:t,replace:s,state:r,relative:u,preventScrollReset:h,viewTransition:d})};return T.createElement("form",{ref:p,method:E,action:w,onSubmit:i?c:v,...f,"data-discover":!g&&n==="render"?"true":void 0})});Ok.displayName="Form";function jk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rx(n){let e=T.useContext(Ql);return Oe(e,jk(n)),e}function Hk(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let a=YC(),c=ia(),u=Nh(n,{relative:r});return T.useCallback(h=>{if(mk(h,e)){h.preventDefault();let d=t!==void 0?t:uu(c)===uu(u);a(n,{replace:d,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[c,a,u,t,i,e,n,s,r,o])}var zk=0,Bk=()=>`__${String(++zk)}__`;function $k(){let{router:n}=rx("useSubmit"),{basename:e}=T.useContext(Fi),t=rk();return T.useCallback(async(i,s={})=>{let{action:r,method:o,encType:a,formData:c,body:u}=wk(i,e);if(s.navigate===!1){let h=s.fetcherKey||Bk();await n.fetch(h,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await n.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function Uk(n,{relative:e}={}){let{basename:t}=T.useContext(Fi),i=T.useContext(Ts);Oe(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Nh(n||".",{relative:e})},o=ia();if(n==null){r.search=o.search;let a=new URLSearchParams(r.search),c=a.getAll("index");if(c.some(h=>h==="")){a.delete("index"),c.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();r.search=h?`?${h}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:ys([t,r.pathname])),uu(r)}function Wk(n,e={}){let t=T.useContext(J_);Oe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rx("useViewTransitionState"),s=Nh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let r=Er(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Er(t.nextLocation.pathname,i)||t.nextLocation.pathname;return kf(s.pathname,o)!=null||kf(s.pathname,r)!=null}new TextEncoder;const Tf="/paresh-dev/assets/Resume-C9x38AYf.pdf";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ox=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:o,...a},c)=>T.createElement("svg",{ref:c,...Gk,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:ox("lucide",s),...a},[...o.map(([u,h])=>T.createElement(u,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=(n,e)=>{const t=T.forwardRef(({className:i,...s},r)=>T.createElement(Xk,{ref:r,iconNode:e,className:ox(`lucide-${Vk(n)}`,i),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],qk=Jl("CodeXml",Yk);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["polygon",{points:"12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2",key:"srzb37"}],["line",{x1:"12",x2:"12",y1:"22",y2:"15.5",key:"1t73f2"}],["polyline",{points:"22 8.5 12 15.5 2 8.5",key:"ajlxae"}],["polyline",{points:"2 15.5 12 8.5 22 15.5",key:"susrui"}],["line",{x1:"12",x2:"12",y1:"2",y2:"8.5",key:"2cldga"}]],Qk=Jl("Codepen",Kk);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],ax=Jl("Github",Jk);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],eT=Jl("Instagram",Zk);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],nT=Jl("Linkedin",tT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],sT=Jl("Menu",iT),rT=()=>{const[n,e]=T.useState(!1);return R.jsxs("nav",{className:"relative bg-gradient-to-br z-20 from-gray-900 via-gray-800 to-gray-900 shadow-lg",children:[R.jsxs("div",{className:"container mx-auto flex justify-between items-center px-6 py-4",children:[R.jsxs(dr,{to:"/paresh-dev",className:"flex items-center space-x-3",children:[R.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/1096/1096090.png",alt:"Logo",className:"w-10 animate-pulse rounded-full border-4 border-gray-200"}),R.jsxs("span",{className:"text-white text-2xl font-extrabold tracking-wide",children:["Paresh",R.jsx("span",{className:"text-blue-500",children:".Dev"})]})]}),R.jsx("ul",{className:"hidden md:flex items-center space-x-8 text-gray-300 text-lg font-medium",children:["Home","Projects","Education&Skills","Resume"].map(t=>R.jsx("li",{children:R.jsx(dr,{to:t==="Home"?"/paresh-dev":"/"+t.toLowerCase(),className:"hover:text-blue-500 transition-colors duration-200",children:t})},t))}),R.jsx("button",{className:"md:hidden text-white",onClick:()=>e(!n),children:R.jsx(sT,{})})]}),R.jsxs("ul",{className:`md:hidden absolute bg-gray-800 text-gray-300 text-lg font-medium text-center space-y-4 py-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out w-full ${n?"translate-y-0 opacity-100":"-translate-y-6 opacity-0"}`,children:[["Home","Projects","Education&Skills","Resume"].map(t=>R.jsx("li",{children:R.jsx(dr,{to:t==="Home"?"/paresh-dev":"/"+t.toLowerCase(),className:"hover:text-blue-500 transition-colors duration-200",onClick:()=>e(!1),children:t})},t)),R.jsx("li",{children:R.jsx(dr,{variant:"primary",className:"inline-block px-6  py-3 bg-gradient-to-br from-blue-500 to-purple-600 text-white font-semibold rounded-full shadow-lg hover:shadow-2xl hover:scale-110 transform transition-transform",to:Tf,target:"_blank",style:{maxWidth:"250px"},children:"Download Resume"})})]})]})},oT="/paresh-dev/assets/Profileimg-Dk0oU7yT.jpg",aT=()=>{const n=[{title:"Visual Studio Code",image:R.jsx(Qk,{size:300,className:"mx-auto text-gray-500"}),link:"https://code.visualstudio.com/"},{title:"Github Version Control",image:R.jsx(ax,{size:300,className:"mx-auto text-gray-500"}),link:"https://github.com"},{title:"Leetcode",image:R.jsx(qk,{size:300,className:"mx-auto text-gray-500"}),link:"https://leetcode.com/"}];return R.jsxs(R.Fragment,{children:[R.jsxs("section",{className:"relative flex flex-col sm:flex-row items-center justify-around bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 px-8 py-16 shadow-2xl overflow-hidden",children:[R.jsx("div",{className:"absolute -top-16 -left-16 w-96 h-96 bg-blue-600 rounded-full blur-3xl opacity-20"}),R.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-purple-600 rounded-full blur-2xl opacity-20"}),R.jsxs("div",{className:"sm:w-1/2 text-center sm:text-left z-10",children:[R.jsx("h1",{className:"text-gradient bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500 font-extrabold text-5xl sm:text-6xl leading-tight mb-4",children:"Paresh Mistry"}),R.jsx("h3",{className:"text-gray-300 text-2xl sm:text-3xl font-semibold mb-6",children:"Full Stack Web Developer"}),R.jsx("p",{className:"text-gray-400 text-lg leading-relaxed mb-6",children:"Passionate about crafting elegant coding architectures and an avid contributor to open-source projects. Let's build something extraordinary together!!"}),R.jsx(dr,{variant:"primary",className:"inline-block px-6  py-3 bg-gradient-to-br from-blue-500 to-purple-600 text-white font-semibold rounded-full shadow-lg hover:shadow-2xl hover:scale-110 transform transition-transform",to:Tf,target:"_blank",style:{maxWidth:"250px"},children:"Download Resume"})]}),R.jsx("div",{className:"sm:w-1/3 mt-10 sm:mt-0 flex justify-center relative z-10",children:R.jsxs("div",{className:"relative",children:[R.jsx("img",{src:oT,alt:"Profile",className:"w-52 h-52 rounded-full border-4 border-blue-500 shadow-xl"}),R.jsx("div",{className:"absolute -bottom-4 -right-4 w-14 h-14 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full shadow-lg flex items-center justify-center text-white font-bold",children:"Hi!"}),R.jsx("div",{className:"absolute inset-0 bg-blue-400 opacity-10 rounded-full blur-xl"})]})})]}),R.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:R.jsxs("div",{className:"container mx-auto px-6",children:[R.jsx("h2",{className:"text-center text-5xl font-extrabold text-gray-200 mb-16",children:R.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-purple-500 to-pink-400",children:"My Software Tools"})}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:n.map(e=>R.jsx("a",{href:e.link,className:"group transform transition-transform duration-500 hover:scale-105",target:"_blank",rel:"noopener noreferrer",children:R.jsxs("div",{className:"relative bg-gray-800 rounded-xl overflow-hidden shadow-lg transition-shadow duration-500 hover:shadow-2xl",children:[R.jsx("span",{className:"text-center h-72 object-cover transition-transform duration-700 group-hover:scale-110",children:e.image}),R.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),R.jsx("div",{className:"absolute bottom-6 left-6 text-blue-500 font-bold text-2xl z-10 tracking-wide drop-shadow-md",children:R.jsx("h3",{className:"group-hover:text-blue-400 transition-colors duration-300",children:e.title})}),R.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:R.jsx("p",{className:"text-white bg-gray-700/90 px-6 py-3 rounded-lg text-sm shadow-lg",children:"Click to Learn More"})}),R.jsx("div",{className:"absolute top-4 right-4 bg-blue-400/80 text-white text-xs font-semibold px-3 py-1 rounded-full shadow-sm",children:"Tool"})]})},e.title))})]})})]})},lT=()=>R.jsx("footer",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white py-12 px-6",children:R.jsxs("div",{className:"container mx-auto text-center",children:[R.jsxs("div",{className:"mt-6 flex justify-center space-x-6",children:[R.jsx("a",{href:"https://www.linkedin.com/in/paresh-mistry-975b64270/",target:"_blank",rel:"noopener noreferrer",children:R.jsx(nT,{})}),R.jsx("a",{href:"https://github.com/Paresh-Mistry",target:"_blank",rel:"noopener noreferrer",children:R.jsx(ax,{})}),R.jsx("a",{href:"https://leetcode.com/",target:"_blank",rel:"noopener noreferrer",children:R.jsx(eT,{})})]}),R.jsx("div",{className:"mt-6 text-sm",children:R.jsxs("p",{children:[" ",new Date().getFullYear()," ",R.jsx("b",{className:"text-yellow-300",children:"Paresh-Dev. "}),"All rights reserved."]})})]})}),cT=[{title:"WeChat Application",description:"A chat application with real-time messaging capabilities, built using Node.js and Socket.io.",link:"Wechat-Application",tech:"Python, Flask, WebSockets, Bootstrap, HTML, CSS",image:"https://images.pexels.com/photos/3888151/pexels-photo-3888151.jpeg?auto=compress&cs=tinysrgb&w=400"},{title:"E-commerce Website",description:"An e-commerce platform with features like product listings, shopping cart, and secure payment gateway integration.",link:"",tech:"Python, Django, SQLite Database, HTML, TailwindCSS, CSS",image:"https://images.pexels.com/photos/3845970/pexels-photo-3845970.jpeg?auto=compress&cs=tinysrgb&w=400"},{title:"Blog Platform",description:"A blogging platform where users can create and manage blogs, comment on posts, and follow other users.",link:"",tech:"Python, Django, SQLite Database, HTML, TailwindCSS, CSS",image:"https://images.pexels.com/photos/3408747/pexels-photo-3408747.jpeg?auto=compress&cs=tinysrgb&w=400"},{title:"Movies Application",description:"A movies platform where users can see latest movies card and search movies .",link:"Movies-Application",tech:"ReactJS , TailwindCSS ",image:"https://images.pexels.com/photos/3408747/pexels-photo-3408747.jpeg?auto=compress&cs=tinysrgb&w=400"},{title:"News Application",description:"A News platform using OMDB Api where users can latest News , topstories and Sports news by applying filters.",link:"Movies-Application",tech:"ReactJS , Restful API , TailwindCSS",image:"https://images.pexels.com/photos/3408747/pexels-photo-3408747.jpeg?auto=compress&cs=tinysrgb&w=400"}],uT=()=>R.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 mx-auto px-6 py-12",children:[R.jsx("h1",{className:"text-4xl font-extrabold text-center text-indigo-600 mb-12",children:"My Projects"}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:cT.map((n,e)=>R.jsxs("div",{className:"group relative rounded-lg border border-gray-200 shadow-lg hover:shadow-xl transition duration-300",children:[R.jsx("img",{src:n.image||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7xeSWhzrwWx0oUytpl4O5E8o3zw4McnnzJg&s",alt:n.title,className:"w-full h-48 object-cover rounded-t-lg group-hover:opacity-80 transition duration-300"}),R.jsxs("div",{className:"p-6 bg- black rounded-b-lg",children:[R.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:n.title}),R.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),R.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Tech Stack: ",n.tech]}),R.jsx("a",{href:"https://github.com/paresh-mistry/"+n.link||"#",target:"_blank",rel:"noopener noreferrer",className:`inline-block px-4 py-2 rounded-full shadow-md transition duration-300 ${n.link?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-400 text-gray-200 cursor-not-allowed"}`,children:n.link?"View on GitHub":"Coming Soon"})]})]},e))})]}),hT=()=>R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white",children:R.jsxs("div",{className:"container mx-auto py-12 px-6",children:[R.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"My Education Journey"}),R.jsx("div",{className:"absolute -top-16 -left-16 w-96 h-96 bg-blue-600 rounded-full blur-3xl opacity-15"}),R.jsxs("div",{className:"bg-white text-gray-900 rounded-lg shadow-lg p-6 mb-12",children:[R.jsx("h2",{className:"text-3xl font-semibold text-center mb-6",children:"University"}),R.jsx("p",{className:"text-xl text-center mb-4",children:"Bachelor's in Electronics & Telecommunications Engineering"}),R.jsx("p",{className:"text-center text-lg text-gray-700",children:"K.J. Somaiya College of Engineering"}),R.jsx("p",{className:"text-center text-lg text-gray-700",children:new Date().getFullYear()>2026?"Under Graduated":new Date().getFullYear()+" - Present"}),R.jsx("p",{className:"text-center text-lg text-gray-700",children:"CGPA : 8.09"})]}),R.jsxs("div",{className:"bg-white text-gray-900 rounded-lg shadow-lg p-6 mb-12",children:[R.jsx("h2",{className:"text-3xl font-semibold text-center mb-6",children:"Relevant Courses"}),R.jsxs("ul",{className:"list-disc pl-6 text-lg text-gray-700",children:[R.jsx("li",{children:"Data Structures & Algorithms"}),R.jsx("li",{children:"Digital Circuits & Microprocessors"}),R.jsx("li",{children:"Machine Learning"}),R.jsx("li",{children:"Web Development"}),R.jsx("li",{children:"Operating System"}),R.jsx("li",{children:"Computer Networks"})]})]}),R.jsxs("div",{className:"bg-white text-gray-900 rounded-lg shadow-lg p-6 mb-12",children:[R.jsx("h2",{className:"text-3xl font-semibold text-center mb-6",children:"Skills Acquired"}),R.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:["JavaScript Frameworks","HTML & CSS","Embedded Programming","Python Frameworks","SQL/NoSQL Database"].map(n=>R.jsx("div",{className:"bg-indigo-600 text-white px-4 py-2 rounded-full",children:n}))})]}),R.jsxs("div",{className:"bg-white text-gray-900 rounded-lg shadow-lg p-6 mb-12",children:[R.jsx("h2",{className:"text-3xl font-semibold text-center mb-6",children:"Certifications"}),R.jsxs("ul",{className:"list-disc pl-6 text-lg text-gray-700",children:[R.jsx("li",{children:"Certified React Developer - Simplilearn"}),R.jsx("li",{children:"Java for Beginner - Coursera"}),R.jsx("li",{children:"Python - Spoken Tutorial"}),R.jsx("li",{children:"Cloud Computing Fundamentals - Simplilearn"})]})]})]})}),dT="modulepreload",fT=function(n){return"/paresh-dev/"+n},nw={},od=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(c=>{if(c=fT(c),c in nw)return;nw[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":dT,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})};var Wc={};Wc.d=(n,e)=>{for(var t in e)Wc.o(e,t)&&!Wc.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Wc.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var K=globalThis.pdfjsLib={};Wc.d(K,{AbortException:()=>ra,AnnotationEditorLayer:()=>py,AnnotationEditorParamsType:()=>q,AnnotationEditorType:()=>te,AnnotationEditorUIManager:()=>Ko,AnnotationLayer:()=>hR,AnnotationMode:()=>Ds,ColorPicker:()=>Mf,DOMSVGFactory:()=>Nv,DrawLayer:()=>vy,FeatureTest:()=>$t,GlobalWorkerOptions:()=>fs,ImageKind:()=>Cd,InvalidPDFException:()=>cx,MissingPDFException:()=>sa,OPS:()=>Wn,OutputScale:()=>am,PDFDataRangeTransport:()=>rE,PDFDateString:()=>kv,PDFWorker:()=>ja,PasswordResponses:()=>yT,PermissionFlag:()=>mT,PixelsPerInch:()=>Sr,RenderingCancelledException:()=>bv,TextLayer:()=>Fm,UnexpectedResponseException:()=>vp,Util:()=>$,VerbosityLevel:()=>gp,XfaLayer:()=>aE,build:()=>VP,createValidAbsoluteUrl:()=>_T,fetchData:()=>Ap,getDocument:()=>DP,getFilenameFromUrl:()=>RT,getPdfFilenameFromUrl:()=>LT,getXfaPageViewport:()=>MT,isDataScheme:()=>_p,isPdfFile:()=>Cv,noContextMenu:()=>Hn,normalizeUnicode:()=>kT,setLayerDimensions:()=>qo,shadow:()=>ce,version:()=>WP});const It=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),lx=[1,0,0,1,0,0],im=[.001,0,0,.001,0,0],pT=1e7,ig=1.35,gn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ds={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},gT="pdfjs_internal_editor_",te={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},q={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},mT={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},bt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Cd={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Qe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},hc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},gp={ERRORS:0,WARNINGS:1,INFOS:5},Wn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},yT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let mp=gp.WARNINGS;function vT(n){Number.isInteger(n)&&(mp=n)}function wT(){return mp}function yp(n){mp>=gp.INFOS&&console.log(`Info: ${n}`)}function ie(n){mp>=gp.WARNINGS&&console.log(`Warning: ${n}`)}function Ce(n){throw new Error(n)}function nt(n,e){n||Ce(e)}function AT(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _T(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=CT(n)}catch{}}const i=e?new URL(n,e):new URL(n);if(AT(i))return i}catch{}return null}function ce(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Mr=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class sm extends Mr{constructor(e,t){super(e,"PasswordException"),this.code=t}}class rm extends Mr{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class cx extends Mr{constructor(e){super(e,"InvalidPDFException")}}class sa extends Mr{constructor(e){super(e,"MissingPDFException")}}class vp extends Mr{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class xT extends Mr{constructor(e){super(e,"FormatError")}}class ra extends Mr{constructor(e){super(e,"AbortException")}}function ux(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ce("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<e;s+=t){const r=Math.min(s+t,e),o=n.subarray(s,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function wp(n){typeof n!="string"&&Ce("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function ET(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Ev(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}function ST(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function bT(){try{return new Function(""),!0}catch{return!1}}class $t{static get isLittleEndian(){return ce(this,"isLittleEndian",ST())}static get isEvalSupported(){return ce(this,"isEvalSupported",bT())}static get isOffscreenCanvasSupported(){return ce(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?ce(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):ce(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return ce(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const sg=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var ws,kd,om;class ${static makeHexColor(e,t,i){return`#${sg[e]}${sg[t]}${sg[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[i,s]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,r=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[s,r]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],s[0],r[0],o[0]),Math.min(i[1],s[1],r[1],o[1]),Math.max(i[0],s[0],r[0],o[0]),Math.max(i[1],s[1],r[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,c=Math.sqrt((i+o)**2-4*(i*o-r*s))/2,u=a+c||1,h=a-c||1;return[Math.sqrt(u),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>s)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>o?null:[i,r,s,o]}static bezierBoundingBox(e,t,i,s,r,o,a,c,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,c)):u=[Math.min(e,a),Math.min(t,c),Math.max(e,a),Math.max(t,c)],A(this,ws,om).call(this,e,i,r,a,t,s,o,c,3*(-e+3*(i-r)+a),6*(e-2*i+r),3*(i-e),u),A(this,ws,om).call(this,e,i,r,a,t,s,o,c,3*(-t+3*(s-o)+c),6*(t-2*s+o),3*(s-t),u),u}}ws=new WeakSet,kd=function(e,t,i,s,r,o,a,c,u,h){if(u<=0||u>=1)return;const d=1-u,f=u*u,p=f*u,m=d*(d*(d*e+3*u*t)+3*f*i)+p*s,w=d*(d*(d*r+3*u*o)+3*f*a)+p*c;h[0]=Math.min(h[0],m),h[1]=Math.min(h[1],w),h[2]=Math.max(h[2],m),h[3]=Math.max(h[3],w)},om=function(e,t,i,s,r,o,a,c,u,h,d,f){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&A(this,ws,kd).call(this,e,t,i,s,r,o,a,c,-d/h,f);return}const p=h**2-4*d*u;if(p<0)return;const m=Math.sqrt(p),w=2*u;A(this,ws,kd).call(this,e,t,i,s,r,o,a,c,(-h+m)/w,f),A(this,ws,kd).call(this,e,t,i,s,r,o,a,c,(-h-m)/w,f)},x($,ws);function CT(n){return decodeURIComponent(escape(n))}let rg=null,iw=null;function kT(n){return rg||(rg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,iw=new Map([["","t"]])),n.replaceAll(rg,(e,t,i)=>t?t.normalize("NFKC"):iw.get(i))}function TT(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return ux(n)}const Sv="pdfjs_internal_id_",Di={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function PT(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(ux(n))}const ji="http://www.w3.org/2000/svg",zr=class zr{};Y(zr,"CSS",96),Y(zr,"PDF",72),Y(zr,"PDF_TO_CSS_UNITS",zr.CSS/zr.PDF);let Sr=zr;async function Ap(n,e="text"){if(wc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class Fh{constructor({viewBox:e,scale:t,rotation:i,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=s,this.offsetY=r;const a=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,h,d,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,h=0,d=0,f=1;break;case 90:u=0,h=1,d=1,f=0;break;case 270:u=0,h=-1,d=-1,f=0;break;case 0:u=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,m,w,E;u===0?(p=Math.abs(c-e[1])*t+s,m=Math.abs(a-e[0])*t+r,w=(e[3]-e[1])*t,E=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+s,m=Math.abs(c-e[1])*t+r,w=(e[2]-e[0])*t,E=(e[3]-e[1])*t),this.transform=[u*t,h*t,d*t,f*t,p-u*t*a-d*t*c,m-h*t*a-f*t*c],this.width=w,this.height=E}get rawDims(){const{viewBox:e}=this;return ce(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new Fh({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(e,t){return $.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=$.applyTransform([e[0],e[1]],this.transform),i=$.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return $.applyInverseTransform([e,t],this.transform)}}class bv extends Mr{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function _p(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Cv(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function RT(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function LT(n,e="document.pdf"){if(typeof n!="string")return e;if(_p(n))return ie('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(n);let r=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=i.exec(decodeURIComponent(r))[0]}catch{}return r||e}class sw{constructor(){Y(this,"started",Object.create(null));Y(this,"times",[])}time(e){e in this.started&&ie(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ie(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:s,end:r}of this.times)e.push(`${i.padEnd(t)} ${r-s}ms
`);return e.join("")}}function wc(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Hn(n){n.preventDefault()}function rw(n){console.log("Deprecated API usage: "+n)}var du;class kv{static toDateObject(e){if(!e||typeof e!="string")return null;l(this,du)||y(this,du,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=l(this,du).exec(e);if(!t)return null;const i=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(o+=h,a+=d):u==="+"&&(o-=h,a-=d),new Date(Date.UTC(i,s,r,o,a,c))}}du=new WeakMap,x(kv,du);function MT(n,{scale:e=1,rotation:t=0}){const{width:i,height:s}=n.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new Fh({viewBox:r,scale:e,rotation:t})}function Tv(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ie(`Not a valid color format: "${n}"`),[0,0,0])}function IT(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,Tv(i))}e.remove()}function Ne(n){const{a:e,b:t,c:i,d:s,e:r,f:o}=n.getTransform();return[e,t,i,s,r,o]}function Oi(n){const{a:e,b:t,c:i,d:s,e:r,f:o}=n.getTransform().invertSelf();return[e,t,i,s,r,o]}function qo(n,e,t=!1,i=!0){if(e instanceof Fh){const{pageWidth:s,pageHeight:r}=e.rawDims,{style:o}=n,a=$t.isCSSRoundSupported,c=`var(--scale-factor) * ${s}px`,u=`var(--scale-factor) * ${r}px`,h=a?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,d=a?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}i&&n.setAttribute("data-main-rotation",e.rotation)}class am{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Os,Vr,Vn,Gr,fu,pu,Nf,hx,Ut,dx,fx,Td,px,cm;const zi=class zi{constructor(e){x(this,Ut);x(this,Os,null);x(this,Vr,null);x(this,Vn);x(this,Gr,null);x(this,fu,null);y(this,Vn,e),l(zi,pu)||y(zi,pu,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=y(this,Os,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=l(this,Vn)._uiManager._signal;e.addEventListener("contextmenu",Hn,{signal:t}),e.addEventListener("pointerdown",A(zi,Nf,hx),{signal:t});const i=y(this,Gr,document.createElement("div"));i.className="buttons",e.append(i);const s=l(this,Vn).toolbarPosition;if(s){const{style:r}=e,o=l(this,Vn)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,Ut,px).call(this),e}get div(){return l(this,Os)}hide(){var e;l(this,Os).classList.add("hidden"),(e=l(this,Vr))==null||e.hideDropdown()}show(){var e;l(this,Os).classList.remove("hidden"),(e=l(this,fu))==null||e.shown()}async addAltText(e){const t=await e.render();A(this,Ut,Td).call(this,t),l(this,Gr).prepend(t,l(this,Ut,cm)),y(this,fu,e)}addColorPicker(e){y(this,Vr,e);const t=e.renderButton();A(this,Ut,Td).call(this,t),l(this,Gr).prepend(t,l(this,Ut,cm))}remove(){var e;l(this,Os).remove(),(e=l(this,Vr))==null||e.destroy(),y(this,Vr,null)}};Os=new WeakMap,Vr=new WeakMap,Vn=new WeakMap,Gr=new WeakMap,fu=new WeakMap,pu=new WeakMap,Nf=new WeakSet,hx=function(e){e.stopPropagation()},Ut=new WeakSet,dx=function(e){l(this,Vn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},fx=function(e){l(this,Vn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Td=function(e){const t=l(this,Vn)._uiManager._signal;e.addEventListener("focusin",A(this,Ut,dx).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,Ut,fx).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Hn,{signal:t})},px=function(){const{editorType:e,_uiManager:t}=l(this,Vn),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",l(zi,pu)[e]),A(this,Ut,Td).call(this,i),i.addEventListener("click",s=>{t.delete()},{signal:t._signal}),l(this,Gr).append(i)},cm=function(){const e=document.createElement("div");return e.className="divider",e},x(zi,Nf),x(zi,pu,null);let lm=zi;var gu,Xr,Yr,Cr,gx,mx,yx;class NT{constructor(e){x(this,Cr);x(this,gu,null);x(this,Xr,null);x(this,Yr);y(this,Yr,e)}show(e,t,i){const[s,r]=A(this,Cr,mx).call(this,t,i),{style:o}=l(this,Xr)||y(this,Xr,A(this,Cr,gx).call(this));e.append(l(this,Xr)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,Xr).remove()}}gu=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,Cr=new WeakSet,gx=function(){const e=y(this,Xr,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Hn,{signal:l(this,Yr)._signal});const t=y(this,gu,document.createElement("div"));return t.className="buttons",e.append(t),A(this,Cr,yx).call(this),e},mx=function(e,t){let i=0,s=0;for(const r of e){const o=r.y+r.height;if(o<i)continue;const a=r.x+(t?r.width:0);if(o>i){s=a,i=o;continue}t?a>s&&(s=a):a<s&&(s=a)}return[t?1-s:s,i]},yx=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=l(this,Yr)._signal;e.addEventListener("contextmenu",Hn,{signal:i}),e.addEventListener("click",()=>{l(this,Yr).highlightSelection("floating_button")},{signal:i}),l(this,gu).append(e)};function Pf(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}function FT(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Ff;class DT{constructor(){x(this,Ff,0)}get id(){return`${gT}${Dt(this,Ff)._++}`}}Ff=new WeakMap;var Ba,mu,kt,$a,Pd;const Dv=class Dv{constructor(){x(this,$a);x(this,Ba,TT());x(this,mu,0);x(this,kt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ce(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:i,size:s,type:r}=e;return A(this,$a,Pd).call(this,`${t}_${i}_${s}_${r}`,e)}async getFromUrl(e){return A(this,$a,Pd).call(this,e,e)}async getFromBlob(e,t){const i=await t;return A(this,$a,Pd).call(this,e,i)}async getFromId(e){l(this,kt)||y(this,kt,new Map);const t=l(this,kt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,kt)||y(this,kt,new Map);let i=l(this,kt).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${l(this,Ba)}_${Dt(this,mu)._++}`,refCounter:1,isSvg:!1},l(this,kt).set(e,i),l(this,kt).set(i.id,i),i}getSvgUrl(e){const t=l(this,kt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;l(this,kt)||y(this,kt,new Map);const t=l(this,kt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=r.convertToBlob()}(s=i.close)==null||s.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,Ba)}_`)}};Ba=new WeakMap,mu=new WeakMap,kt=new WeakMap,$a=new WeakSet,Pd=async function(e,t){l(this,kt)||y(this,kt,new Map);let i=l(this,kt).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${l(this,Ba)}_${Dt(this,mu)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(i.url=t,s=await Ap(t,"blob")):t instanceof File?s=i.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const r=Dv._isSVGFittingCanvas,o=new FileReader,a=new Image,c=new Promise((u,h)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,u()},o.onload=async()=>{const d=i.svgUrl=o.result;a.src=await r?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(s),await c}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){console.error(s),i=null}return l(this,kt).set(e,i),i&&l(this,kt).set(i.id,i),i};let um=Dv;var at,js,yu,lt;class OT{constructor(e=128){x(this,at,[]);x(this,js,!1);x(this,yu);x(this,lt,-1);y(this,yu,e)}add({cmd:e,undo:t,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(s&&e(),l(this,js))return;const c={cmd:e,undo:t,post:i,type:r};if(l(this,lt)===-1){l(this,at).length>0&&(l(this,at).length=0),y(this,lt,0),l(this,at).push(c);return}if(o&&l(this,at)[l(this,lt)].type===r){a&&(c.undo=l(this,at)[l(this,lt)].undo),l(this,at)[l(this,lt)]=c;return}const u=l(this,lt)+1;u===l(this,yu)?l(this,at).splice(0,1):(y(this,lt,u),u<l(this,at).length&&l(this,at).splice(u)),l(this,at).push(c)}undo(){if(l(this,lt)===-1)return;y(this,js,!0);const{undo:e,post:t}=l(this,at)[l(this,lt)];e(),t==null||t(),y(this,js,!1),y(this,lt,l(this,lt)-1)}redo(){if(l(this,lt)<l(this,at).length-1){y(this,lt,l(this,lt)+1),y(this,js,!0);const{cmd:e,post:t}=l(this,at)[l(this,lt)];e(),t==null||t(),y(this,js,!1)}}hasSomethingToUndo(){return l(this,lt)!==-1}hasSomethingToRedo(){return l(this,lt)<l(this,at).length-1}destroy(){y(this,at,null)}}at=new WeakMap,js=new WeakMap,yu=new WeakMap,lt=new WeakMap;var Df,vx;class Dh{constructor(e){x(this,Df);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=$t.platform;for(const[i,s,r={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:s,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(A(this,Df,vx).call(this,t));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(s.bind(e,...o,t)(),r||(t.stopPropagation(),t.preventDefault()))}}Df=new WeakSet,vx=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Of=class Of{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return IT(e),ce(this,"_colors",e)}convert(e){const t=Tv(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,s]of this._colors)if(s.every((r,o)=>r===t[o]))return Of._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?$.makeHexColor(...t):e}};Y(Of,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let hm=Of;var Ua,an,Je,gt,Wa,Ui,Va,Gn,Hs,Ga,qr,pi,Xn,Kr,vu,wu,Xa,Au,gi,zs,Ya,Bs,mi,jf,$s,_u,Us,Qr,xu,Eu,ct,ge,Wi,Jr,Su,bu,Ws,yi,Vi,Cu,bn,O,Rd,dm,wx,Ax,Ld,_x,xx,Ex,fm,Sx,pm,gm,bx,Ot,Rs,Cx,kx,mm,Tx,Ac,ym;const Ra=class Ra{constructor(e,t,i,s,r,o,a,c,u,h,d){x(this,O);x(this,Ua,new AbortController);x(this,an,null);x(this,Je,new Map);x(this,gt,new Map);x(this,Wa,null);x(this,Ui,null);x(this,Va,null);x(this,Gn,new OT);x(this,Hs,null);x(this,Ga,0);x(this,qr,new Set);x(this,pi,null);x(this,Xn,null);x(this,Kr,new Set);x(this,vu,!1);x(this,wu,!1);x(this,Xa,!1);x(this,Au,null);x(this,gi,null);x(this,zs,null);x(this,Ya,null);x(this,Bs,!1);x(this,mi,null);x(this,jf,new DT);x(this,$s,!1);x(this,_u,!1);x(this,Us,null);x(this,Qr,null);x(this,xu,null);x(this,Eu,null);x(this,ct,te.NONE);x(this,ge,new Set);x(this,Wi,null);x(this,Jr,null);x(this,Su,null);x(this,bu,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,Ws,[0,0]);x(this,yi,null);x(this,Vi,null);x(this,Cu,null);x(this,bn,null);const f=this._signal=l(this,Ua).signal;y(this,Vi,e),y(this,Cu,t),y(this,Wa,i),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:f}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),s._on("setpreference",this.onSetPreference.bind(this),{signal:f}),s._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:f}),A(this,O,_x).call(this),A(this,O,bx).call(this),A(this,O,fm).call(this),y(this,Ui,r.annotationStorage),y(this,Au,r.filterFactory),y(this,Jr,o),y(this,Ya,a||null),y(this,vu,c),y(this,wu,u),y(this,Xa,h),y(this,Eu,d||null),this.viewParameters={realScale:Sr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ra.prototype,t=o=>l(o,Vi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return ce(this,"_keyboardManager",new Dh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,Vi).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,Vi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,i,s;(e=l(this,bn))==null||e.resolve(),y(this,bn,null),(t=l(this,Ua))==null||t.abort(),y(this,Ua,null),this._signal=null;for(const r of l(this,gt).values())r.destroy();l(this,gt).clear(),l(this,Je).clear(),l(this,Kr).clear(),y(this,an,null),l(this,ge).clear(),l(this,Gn).destroy(),(i=l(this,Wa))==null||i.destroy(),(s=l(this,mi))==null||s.hide(),y(this,mi,null),l(this,gi)&&(clearTimeout(l(this,gi)),y(this,gi,null)),l(this,yi)&&(clearTimeout(l(this,yi)),y(this,yi,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,Eu)}get useNewAltTextFlow(){return l(this,wu)}get useNewAltTextWhenAddingImage(){return l(this,Xa)}get hcmFilter(){return ce(this,"hcmFilter",l(this,Jr)?l(this,Au).addHCMFilter(l(this,Jr).foreground,l(this,Jr).background):"none")}get direction(){return ce(this,"direction",getComputedStyle(l(this,Vi)).direction)}get highlightColors(){return ce(this,"highlightColors",l(this,Ya)?new Map(l(this,Ya).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return ce(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){y(this,xu,e)}editAltText(e,t=!1){var i;(i=l(this,Wa))==null||i.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":y(this,Xa,t);break}}onPageChanging({pageNumber:e}){y(this,Ga,e-1)}focusMainContainer(){l(this,Vi).focus()}findParent(e,t){for(const i of l(this,gt).values()){const{x:s,y:r,width:o,height:a}=i.div.getBoundingClientRect();if(e>=s&&e<=s+o&&t>=r&&t<=r+a)return i}return null}disableUserSelect(e=!1){l(this,Cu).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,Kr).add(e)}removeShouldRescale(e){l(this,Kr).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Sr.PDF_TO_CSS_UNITS;for(const t of l(this,Kr))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:o}=t,a=t.toString(),u=A(this,O,Rd).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(u);if(!h)return;t.empty();const d=A(this,O,dm).call(this,u),f=l(this,ct)===te.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(te.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&l(this,Ui)&&!l(this,Ui).has(e.id)&&l(this,Ui).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,l(this,Bs)&&(y(this,Bs,!1),A(this,O,Ld).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,ge))if(t.div.contains(e)){y(this,Qr,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,Qr))return;const[e,t]=l(this,Qr);y(this,Qr,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,O,fm).call(this),A(this,O,pm).call(this)}removeEditListeners(){A(this,O,Sx).call(this),A(this,O,gm).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of l(this,Xn))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of l(this,Xn))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=l(this,an))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of l(this,ge)){const r=s.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const o of l(this,Xn))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){ie(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const c of i){const u=await s.deserialize(c);if(!u)return;r.push(u)}const o=()=>{for(const c of r)A(this,O,mm).call(this,c);A(this,O,ym).call(this,r)},a=()=>{for(const c of r)c.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(r){ie(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,ct)!==te.NONE&&!this.isEditorHandlingKeyboard&&Ra._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,Bs)&&(y(this,Bs,!1),A(this,O,Ld).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,O,xx).call(this),A(this,O,pm).call(this),A(this,O,Ot).call(this,{isEditing:l(this,ct)!==te.NONE,isEmpty:A(this,O,Ac).call(this),hasSomethingToUndo:l(this,Gn).hasSomethingToUndo(),hasSomethingToRedo:l(this,Gn).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,O,Ex).call(this),A(this,O,gm).call(this),A(this,O,Ot).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,Xn)){y(this,Xn,e);for(const t of l(this,Xn))A(this,O,Rs).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,jf).id}get currentLayer(){return l(this,gt).get(l(this,Ga))}getLayer(e){return l(this,gt).get(e)}get currentPageIndex(){return l(this,Ga)}addLayer(e){l(this,gt).set(e.pageIndex,e),l(this,$s)?e.enable():e.disable()}removeLayer(e){l(this,gt).delete(e.pageIndex)}async updateMode(e,t=null,i=!1){if(l(this,ct)!==e&&!(l(this,bn)&&(await l(this,bn).promise,!l(this,bn)))){if(y(this,bn,Promise.withResolvers()),y(this,ct,e),e===te.NONE){this.setEditingState(!1),A(this,O,kx).call(this),l(this,bn).resolve();return}this.setEditingState(!0),await A(this,O,Cx).call(this),this.unselectAll();for(const s of l(this,gt).values())s.updateMode(e);if(!t){i&&this.addNewEditorFromKeyboard(),l(this,bn).resolve();return}for(const s of l(this,Je).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();l(this,bn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==l(this,ct)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(l(this,Xn)){switch(e){case q.CREATE:this.currentLayer.addNewEditor();return;case q.HIGHLIGHT_DEFAULT_COLOR:(i=l(this,xu))==null||i.updateColor(t);break;case q.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,Su)||y(this,Su,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of l(this,ge))s.updateParams(e,t);for(const s of l(this,Xn))s.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var r;for(const o of l(this,Je).values())o.editorType===e&&o.show(t);(((r=l(this,Su))==null?void 0:r.get(q.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,O,Rs).call(this,[[q.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,_u)!==e){y(this,_u,e);for(const t of l(this,gt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of l(this,Je).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return l(this,Je).get(e)}addEditor(e){l(this,Je).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(l(this,gi)&&clearTimeout(l(this,gi)),y(this,gi,setTimeout(()=>{this.focusMainContainer(),y(this,gi,null)},0))),l(this,Je).delete(e.id),this.unselect(e),(!e.annotationElementId||!l(this,qr).has(e.annotationElementId))&&((t=l(this,Ui))==null||t.remove(e.id))}addDeletedAnnotationElement(e){l(this,qr).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,qr).has(e)}removeDeletedAnnotationElement(e){l(this,qr).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,an)!==e&&(y(this,an,e),e&&A(this,O,Rs).call(this,e.propertiesToUpdate))}updateUI(e){l(this,O,Tx)===e&&A(this,O,Rs).call(this,e.propertiesToUpdate)}toggleSelected(e){if(l(this,ge).has(e)){l(this,ge).delete(e),e.unselect(),A(this,O,Ot).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,ge).add(e),e.select(),A(this,O,Rs).call(this,e.propertiesToUpdate),A(this,O,Ot).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of l(this,ge))t!==e&&t.unselect();l(this,ge).clear(),l(this,ge).add(e),e.select(),A(this,O,Rs).call(this,e.propertiesToUpdate),A(this,O,Ot).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,ge).has(e)}get firstSelectedEditor(){return l(this,ge).values().next().value}unselect(e){e.unselect(),l(this,ge).delete(e),A(this,O,Ot).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,ge).size!==0}get isEnterHandled(){return l(this,ge).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){l(this,Gn).undo(),A(this,O,Ot).call(this,{hasSomethingToUndo:l(this,Gn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,O,Ac).call(this)})}redo(){l(this,Gn).redo(),A(this,O,Ot).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,Gn).hasSomethingToRedo(),isEmpty:A(this,O,Ac).call(this)})}addCommands(e){l(this,Gn).add(e),A(this,O,Ot).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,O,Ac).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...l(this,ge)],t=()=>{for(const s of e)s.remove()},i=()=>{for(const s of e)A(this,O,mm).call(this,s)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=l(this,an))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,an)||this.hasSelection}selectAll(){for(const e of l(this,ge))e.commit();A(this,O,ym).call(this,l(this,Je).values())}unselectAll(){if(!(l(this,an)&&(l(this,an).commitOrRemove(),l(this,ct)!==te.NONE))&&this.hasSelection){for(const e of l(this,ge))e.unselect();l(this,ge).clear(),A(this,O,Ot).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;l(this,Ws)[0]+=e,l(this,Ws)[1]+=t;const[s,r]=l(this,Ws),o=[...l(this,ge)],a=1e3;l(this,yi)&&clearTimeout(l(this,yi)),y(this,yi,setTimeout(()=>{y(this,yi,null),l(this,Ws)[0]=l(this,Ws)[1]=0,this.addCommands({cmd:()=>{for(const c of o)l(this,Je).has(c.id)&&c.translateInPage(s,r)},undo:()=>{for(const c of o)l(this,Je).has(c.id)&&c.translateInPage(-s,-r)},mustExec:!1})},a));for(const c of o)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),y(this,pi,new Map);for(const e of l(this,ge))l(this,pi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,pi))return!1;this.disableUserSelect(!1);const e=l(this,pi);y(this,pi,null);let t=!1;for(const[{x:s,y:r,pageIndex:o},a]of e)a.newX=s,a.newY=r,a.newPageIndex=o,t||(t=s!==a.savedX||r!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const i=(s,r,o,a)=>{if(l(this,Je).has(s.id)){const c=l(this,gt).get(a);c?s._setParentAndPosition(c,r,o):(s.pageIndex=a,s.x=r,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:o,newPageIndex:a}]of e)i(s,r,o,a)},undo:()=>{for(const[s,{savedX:r,savedY:o,savedPageIndex:a}]of e)i(s,r,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,pi))for(const i of l(this,pi).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,ge).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,an)===e}getActive(){return l(this,an)}getMode(){return l(this,ct)}get imageManager(){return ce(this,"imageManager",new um)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,h,d,f)=>({x:(h-s)/o,y:1-(u+d-i)/r,width:f/o,height:d/r});break;case"180":a=(u,h,d,f)=>({x:1-(u+d-i)/r,y:1-(h+f-s)/o,width:d/r,height:f/o});break;case"270":a=(u,h,d,f)=>({x:1-(h+f-s)/o,y:(u-i)/r,width:f/o,height:d/r});break;default:a=(u,h,d,f)=>({x:(u-i)/r,y:(h-s)/o,width:d/r,height:f/o});break}const c=[];for(let u=0,h=t.rangeCount;u<h;u++){const d=t.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:m,height:w}of d.getClientRects())m===0||w===0||c.push(a(f,p,m,w))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,Va)||y(this,Va,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,Va))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=l(this,Va))==null?void 0:s.get(e.data.id);if(!t)return;const i=l(this,Ui).getRawValue(t);i&&(l(this,ct)===te.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};Ua=new WeakMap,an=new WeakMap,Je=new WeakMap,gt=new WeakMap,Wa=new WeakMap,Ui=new WeakMap,Va=new WeakMap,Gn=new WeakMap,Hs=new WeakMap,Ga=new WeakMap,qr=new WeakMap,pi=new WeakMap,Xn=new WeakMap,Kr=new WeakMap,vu=new WeakMap,wu=new WeakMap,Xa=new WeakMap,Au=new WeakMap,gi=new WeakMap,zs=new WeakMap,Ya=new WeakMap,Bs=new WeakMap,mi=new WeakMap,jf=new WeakMap,$s=new WeakMap,_u=new WeakMap,Us=new WeakMap,Qr=new WeakMap,xu=new WeakMap,Eu=new WeakMap,ct=new WeakMap,ge=new WeakMap,Wi=new WeakMap,Jr=new WeakMap,Su=new WeakMap,bu=new WeakMap,Ws=new WeakMap,yi=new WeakMap,Vi=new WeakMap,Cu=new WeakMap,bn=new WeakMap,O=new WeakSet,Rd=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},dm=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of l(this,gt).values())if(i.hasTextLayer(e))return i;return null},wx=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=A(this,O,Rd).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(l(this,mi)||y(this,mi,new NT(this)),l(this,mi).show(i,s,this.direction==="ltr"))},Ax=function(){var r,o,a;const e=document.getSelection();if(!e||e.isCollapsed){l(this,Wi)&&((r=l(this,mi))==null||r.hide(),y(this,Wi,null),A(this,O,Ot).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,Wi))return;const s=A(this,O,Rd).call(this,e).closest(".textLayer");if(!s){l(this,Wi)&&((o=l(this,mi))==null||o.hide(),y(this,Wi,null),A(this,O,Ot).call(this,{hasSelectedText:!1}));return}if((a=l(this,mi))==null||a.hide(),y(this,Wi,t),A(this,O,Ot).call(this,{hasSelectedText:!0}),!(l(this,ct)!==te.HIGHLIGHT&&l(this,ct)!==te.NONE)&&(l(this,ct)===te.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),y(this,Bs,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=l(this,ct)===te.HIGHLIGHT?A(this,O,dm).call(this,s):null;c==null||c.toggleDrawing();const u=new AbortController,h=this.combinedSignal(u),d=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&A(this,O,Ld).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}},Ld=function(e=""){l(this,ct)===te.HIGHLIGHT?this.highlightSelection(e):l(this,vu)&&A(this,O,wx).call(this)},_x=function(){document.addEventListener("selectionchange",A(this,O,Ax).bind(this),{signal:this._signal})},xx=function(){if(l(this,zs))return;y(this,zs,new AbortController);const e=this.combinedSignal(l(this,zs));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Ex=function(){var e;(e=l(this,zs))==null||e.abort(),y(this,zs,null)},fm=function(){if(l(this,Us))return;y(this,Us,new AbortController);const e=this.combinedSignal(l(this,Us));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Sx=function(){var e;(e=l(this,Us))==null||e.abort(),y(this,Us,null)},pm=function(){if(l(this,Hs))return;y(this,Hs,new AbortController);const e=this.combinedSignal(l(this,Hs));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},gm=function(){var e;(e=l(this,Hs))==null||e.abort(),y(this,Hs,null)},bx=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ot=function(e){Object.entries(e).some(([i,s])=>l(this,bu)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,bu),e)}),l(this,ct)===te.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,O,Rs).call(this,[[q.HIGHLIGHT_FREE,!0]]))},Rs=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Cx=async function(){if(!l(this,$s)){y(this,$s,!0);const e=[];for(const t of l(this,gt).values())e.push(t.enable());await Promise.all(e);for(const t of l(this,Je).values())t.enable()}},kx=function(){if(this.unselectAll(),l(this,$s)){y(this,$s,!1);for(const e of l(this,gt).values())e.disable();for(const e of l(this,Je).values())e.disable()}},mm=function(e){const t=l(this,gt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Tx=function(){let e=null;for(e of l(this,ge));return e},Ac=function(){if(l(this,Je).size===0)return!0;if(l(this,Je).size===1)for(const e of l(this,Je).values())return e.isEmpty();return!1},ym=function(e){for(const t of l(this,ge))t.unselect();l(this,ge).clear();for(const t of e)t.isEmpty()||(l(this,ge).add(t),t.select());A(this,O,Ot).call(this,{hasSelectedEditor:this.hasSelection})},Y(Ra,"TRANSLATE_SMALL",1),Y(Ra,"TRANSLATE_BIG",10);let Ko=Ra;var ut,vi,Yn,qa,wi,ln,Ka,Ai,qt,Gi,Zr,_i,Vs,oi,_c,Md;const jt=class jt{constructor(e){x(this,oi);x(this,ut,null);x(this,vi,!1);x(this,Yn,null);x(this,qa,null);x(this,wi,null);x(this,ln,null);x(this,Ka,!1);x(this,Ai,null);x(this,qt,null);x(this,Gi,null);x(this,Zr,null);x(this,_i,!1);y(this,qt,e),y(this,_i,e._uiManager.useNewAltTextFlow),l(jt,Vs)||y(jt,Vs,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){jt._l10n??(jt._l10n=e)}async render(){const e=y(this,Yn,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=y(this,qa,document.createElement("span"));e.append(t),l(this,_i)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(jt,Vs).missing),t.setAttribute("data-l10n-id",l(jt,Vs)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=l(this,qt)._uiManager._signal;e.addEventListener("contextmenu",Hn,{signal:i}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),l(this,qt)._uiManager.editAltText(l(this,qt)),l(this,_i)&&l(this,qt)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,oi,_c)}})};return e.addEventListener("click",s,{capture:!0,signal:i}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(y(this,Ka,!0),s(r))},{signal:i}),await A(this,oi,Md).call(this),e}finish(){l(this,Yn)&&(l(this,Yn).focus({focusVisible:l(this,Ka)}),y(this,Ka,!1))}isEmpty(){return l(this,_i)?l(this,ut)===null:!l(this,ut)&&!l(this,vi)}hasData(){return l(this,_i)?l(this,ut)!==null||!!l(this,Gi):this.isEmpty()}get guessedText(){return l(this,Gi)}async setGuessedText(e){l(this,ut)===null&&(y(this,Gi,e),y(this,Zr,await jt._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),A(this,oi,Md).call(this))}toggleAltTextBadge(e=!1){var t;if(!l(this,_i)||l(this,ut)){(t=l(this,Ai))==null||t.remove(),y(this,Ai,null);return}if(!l(this,Ai)){const i=y(this,Ai,document.createElement("div"));i.className="noAltTextBadge",l(this,qt).div.append(i)}l(this,Ai).classList.toggle("hidden",!e)}serialize(e){let t=l(this,ut);return!e&&l(this,Gi)===t&&(t=l(this,Zr)),{altText:t,decorative:l(this,vi),guessedText:l(this,Gi),textWithDisclaimer:l(this,Zr)}}get data(){return{altText:l(this,ut),decorative:l(this,vi)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:s,cancel:r=!1}){i&&(y(this,Gi,i),y(this,Zr,s)),!(l(this,ut)===e&&l(this,vi)===t)&&(r||(y(this,ut,e),y(this,vi,t)),A(this,oi,Md).call(this))}toggle(e=!1){l(this,Yn)&&(!e&&l(this,ln)&&(clearTimeout(l(this,ln)),y(this,ln,null)),l(this,Yn).disabled=!e)}shown(){l(this,qt)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,oi,_c)}})}destroy(){var e,t;(e=l(this,Yn))==null||e.remove(),y(this,Yn,null),y(this,qa,null),y(this,wi,null),(t=l(this,Ai))==null||t.remove(),y(this,Ai,null)}};ut=new WeakMap,vi=new WeakMap,Yn=new WeakMap,qa=new WeakMap,wi=new WeakMap,ln=new WeakMap,Ka=new WeakMap,Ai=new WeakMap,qt=new WeakMap,Gi=new WeakMap,Zr=new WeakMap,_i=new WeakMap,Vs=new WeakMap,oi=new WeakSet,_c=function(){return l(this,ut)&&"added"||l(this,ut)===null&&this.guessedText&&"review"||"missing"},Md=async function(){var s,r,o;const e=l(this,Yn);if(!e)return;if(l(this,_i)){if(e.classList.toggle("done",!!l(this,ut)),e.setAttribute("data-l10n-id",l(jt,Vs)[l(this,oi,_c)]),(s=l(this,qa))==null||s.setAttribute("data-l10n-id",l(jt,Vs)[`${l(this,oi,_c)}-label`]),!l(this,ut)){(r=l(this,wi))==null||r.remove();return}}else{if(!l(this,ut)&&!l(this,vi)){e.classList.remove("done"),(o=l(this,wi))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,wi);if(!t){y(this,wi,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,qt).id}`;const a=100,c=l(this,qt)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(l(this,ln)),y(this,ln,null)},{once:!0}),e.addEventListener("mouseenter",()=>{y(this,ln,setTimeout(()=>{y(this,ln,null),l(this,wi).classList.add("show"),l(this,qt)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;l(this,ln)&&(clearTimeout(l(this,ln)),y(this,ln,null)),(u=l(this,wi))==null||u.classList.remove("show")},{signal:c})}l(this,vi)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,ut)),t.parentNode||e.append(t);const i=l(this,qt).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},x(jt,Vs,null),Y(jt,"_l10n",null);let Rf=jt;var eo,qn,Me,Qa,to,mt,no,Gs,ku,io,Xs,Tu,so,Xi,xi,Ja,Za,Cn,Pu,Hf,ne,vm,Ru,wm,Am,Px,Rx,_m,xm,Em,Lx,Sm,Mx,Ix,Nx,bm,xc;const fe=class fe{constructor(e){x(this,ne);x(this,eo,null);x(this,qn,null);x(this,Me,null);x(this,Qa,!1);x(this,to,!1);x(this,mt,null);x(this,no,null);x(this,Gs,null);x(this,ku,"");x(this,io,!1);x(this,Xs,null);x(this,Tu,!1);x(this,so,!1);x(this,Xi,!1);x(this,xi,null);x(this,Ja,0);x(this,Za,0);x(this,Cn,null);Y(this,"_editToolbar",null);Y(this,"_initialOptions",Object.create(null));Y(this,"_initialData",null);Y(this,"_isVisible",!0);Y(this,"_uiManager",null);Y(this,"_focusEventsAllowed",!0);x(this,Pu,!1);x(this,Hf,fe._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,o];const[a,c]=this.parentDimensions;this.x=e.x/a,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=fe.prototype._resizeWithKeyboard,t=Ko.TRANSLATE_SMALL,i=Ko.TRANSLATE_BIG;return ce(this,"_resizerKeyboardManager",new Dh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],fe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return ce(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new jT({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(fe._l10n??(fe._l10n=e),fe._l10nResizer||(fe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),fe._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);fe._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ce("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,Pu)}set _isDraggable(e){var t;y(this,Pu,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Hf)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,ne,xc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,io)?y(this,io,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,s){const[r,o]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/r,this.y=(t+s)/o,this.fixAndSetPosition()}translate(e,t){A(this,ne,vm).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,Xs)||y(this,Xs,[this.x,this.y]),A(this,ne,vm).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){l(this,Xs)||y(this,Xs,[this.x,this.y]);const[i,s]=this.parentDimensions;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:o}=this;const[a,c]=this.getBaseTranslation();r+=a,o+=c,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!l(this,Xs)&&(l(this,Xs)[0]!==this.x||l(this,Xs)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=fe,s=i/e,r=i/t;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:s,y:r,width:o,height:a}=this;if(o*=t,a*=i,s*=t,r*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-o,s)),r=Math.max(0,Math.min(i-a,r));break;case 90:s=Math.max(0,Math.min(t-a,s)),r=Math.min(i,Math.max(o,r));break;case 180:s=Math.min(t,Math.max(o,s)),r=Math.min(i,Math.max(a,r));break;case 270:s=Math.min(t,Math.max(a,s)),r=Math.max(0,Math.min(i-o,r));break}this.x=s/=t,this.y=r/=i;const[c,u]=this.getBaseTranslation();s+=c,r+=u;const{style:h}=this.div;h.left=`${(100*s).toFixed(2)}%`,h.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return A(i=fe,Ru,wm).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return A(i=fe,Ru,wm).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(e,t){const[i,s]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,l(this,to)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,s=i.endsWith("%"),r=!l(this,to)&&t.endsWith("%");if(s&&r)return;const[o,a]=this.parentDimensions;s||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!l(this,to)&&!r&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=l(this,Me))==null||e.finish()}async addEditToolbar(){return this._editToolbar||l(this,so)?this._editToolbar:(this._editToolbar=new lm(this),this.div.append(this._editToolbar.render()),l(this,Me)&&await this._editToolbar.addAltText(l(this,Me)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=l(this,Me))==null||e.destroy())}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){l(this,Me)||(Rf.initialize(fe._l10n),y(this,Me,new Rf(this)),l(this,eo)&&(l(this,Me).data=l(this,eo),y(this,eo,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=l(this,Me))==null?void 0:e.data}set altTextData(e){l(this,Me)&&(l(this,Me).data=e)}get guessedAltText(){var e;return(e=l(this,Me))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=l(this,Me))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=l(this,Me))==null?void 0:t.serialize(e)}hasAltText(){return!!l(this,Me)&&!l(this,Me).isEmpty()}hasAltTextData(){var e;return((e=l(this,Me))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=l(this,Qa)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),A(this,ne,Sm).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Pf(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=$t.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(y(this,io,!0),this._isDraggable){A(this,ne,Lx).call(this,e);return}A(this,ne,Em).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){l(this,xi)&&clearTimeout(l(this,xi)),y(this,xi,setTimeout(()=>{var e;y(this,xi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const s=this.parentScale,[r,o]=this.pageDimensions,[a,c]=this.pageTranslation,u=e/s,h=t/s,d=this.x*r,f=this.y*o,p=this.width*r,m=this.height*o;switch(i){case 0:return[d+u+a,o-f-h-m+c,d+u+p+a,o-f-h+c];case 90:return[d+h+a,o-f+u+c,d+h+m+a,o-f+u+p+c];case 180:return[d-u-p+a,o-f+h+c,d-u+a,o-f+h+m+c];case 270:return[d-h-m+a,o-f-u-p+c,d-h+a,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,s,r,o]=e,a=r-i,c=o-s;switch(this.rotation){case 0:return[i,t-o,a,c];case 90:return[i,t-s,c,a];case 180:return[r,t-s,a,c];case 270:return[r,t-o,c,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){y(this,so,!0)}disableEditMode(){y(this,so,!1)}isInEditMode(){return l(this,so)}shouldGetKeyboardEvents(){return l(this,Xi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){A(this,ne,Sm).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Ce("An editor must be serializable")}static async deserialize(e,t,i){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});s.rotation=e.rotation,y(s,eo,e.accessibilityData);const[r,o]=s.pageDimensions,[a,c,u,h]=s.getRectInCurrentCoords(e.rect,o);return s.x=a/r,s.y=c/o,s.width=u/r,s.height=h/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=l(this,Gs))==null||e.abort(),y(this,Gs,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,xi)&&(clearTimeout(l(this,xi)),y(this,xi,null)),A(this,ne,xc).call(this),this.removeEditToolbar(),l(this,Cn)){for(const t of l(this,Cn).values())clearTimeout(t);y(this,Cn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,ne,Px).call(this),l(this,mt).classList.remove("hidden"),Pf(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),y(this,no,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,mt).children;if(!l(this,qn)){y(this,qn,Array.from(t));const o=A(this,ne,Mx).bind(this),a=A(this,ne,Ix).bind(this),c=this._uiManager._signal;for(const u of l(this,qn)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",a,{signal:c}),u.addEventListener("focus",A(this,ne,Nx).bind(this,h),{signal:c}),u.setAttribute("data-l10n-id",fe._l10nResizer[h])}}const i=l(this,qn)[0];let s=0;for(const o of t){if(o===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(l(this,qn).length/4);if(r!==s){if(r<s)for(let a=0;a<s-r;a++)l(this,mt).append(l(this,mt).firstChild);else if(r>s)for(let a=0;a<r-s;a++)l(this,mt).firstChild.before(l(this,mt).lastChild);let o=0;for(const a of t){const u=l(this,qn)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",fe._l10nResizer[u])}}A(this,ne,bm).call(this,0),y(this,Xi,!0),l(this,mt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,Xi)&&A(this,ne,xm).call(this,l(this,ku),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,ne,xc).call(this),this.div.focus()}select(){var e,t,i;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(t=this._editToolbar)==null||t.show(),(i=l(this,Me))==null||i.toggleAltTextBadge(!1)}unselect(){var e,t,i,s,r;(e=l(this,mt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=l(this,Me))==null||r.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return l(this,Tu)}set isEditing(e){y(this,Tu,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){y(this,to,!0);const i=e/t,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,Cn)||y(this,Cn,new Map);const{action:i}=e;let s=l(this,Cn).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),l(this,Cn).delete(i),l(this,Cn).size===0&&y(this,Cn,null)},fe._telemetryTimeout),l(this,Cn).set(i,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),y(this,Qa,!1)}disable(){this.div&&(this.div.tabIndex=-1),y(this,Qa,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};eo=new WeakMap,qn=new WeakMap,Me=new WeakMap,Qa=new WeakMap,to=new WeakMap,mt=new WeakMap,no=new WeakMap,Gs=new WeakMap,ku=new WeakMap,io=new WeakMap,Xs=new WeakMap,Tu=new WeakMap,so=new WeakMap,Xi=new WeakMap,xi=new WeakMap,Ja=new WeakMap,Za=new WeakMap,Cn=new WeakMap,Pu=new WeakMap,Hf=new WeakMap,ne=new WeakSet,vm=function([e,t],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/e,this.y+=s/t,this.fixAndSetPosition()},Ru=new WeakSet,wm=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Am=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},Px=function(){if(l(this,mt))return;y(this,mt,document.createElement("div")),l(this,mt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const s=document.createElement("div");l(this,mt).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",A(this,ne,Rx).bind(this,i),{signal:t}),s.addEventListener("contextmenu",Hn,{signal:t}),s.tabIndex=-1}this.div.prepend(l(this,mt))},Rx=function(e,t){var m;t.preventDefault();const{isMac:i}=$t.platform;if(t.button!==0||t.ctrlKey&&i)return;(m=l(this,Me))==null||m.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",A(this,ne,xm).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",Hn,{signal:o});const a=this.x,c=this.y,u=this.width,h=this.height,d=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var w;r.abort(),this.parent.togglePointerEvents(!0),(w=l(this,Me))==null||w.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=d,this.div.style.cursor=f,A(this,ne,_m).call(this,a,c,u,h)};window.addEventListener("pointerup",p,{signal:o}),window.addEventListener("blur",p,{signal:o})},_m=function(e,t,i,s){const r=this.x,o=this.y,a=this.width,c=this.height;r===e&&o===t&&a===i&&c===s||this.addCommands({cmd:()=>{this.width=a,this.height=c,this.x=r,this.y=o;const[u,h]=this.parentDimensions;this.setDims(u*a,h*c),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=s,this.x=e,this.y=t;const[u,h]=this.parentDimensions;this.setDims(u*i,h*s),this.fixAndSetPosition()},mustExec:!0})},xm=function(e,t){const[i,s]=this.parentDimensions,r=this.x,o=this.y,a=this.width,c=this.height,u=fe.MIN_SIZE/i,h=fe.MIN_SIZE/s,d=H=>Math.round(H*1e4)/1e4,f=A(this,ne,Am).call(this,this.rotation),p=(H,L)=>[f[0]*H+f[2]*L,f[1]*H+f[3]*L],m=A(this,ne,Am).call(this,360-this.rotation),w=(H,L)=>[m[0]*H+m[2]*L,m[1]*H+m[3]*L];let E,g,v=!1,_=!1;switch(e){case"topLeft":v=!0,E=(H,L)=>[0,0],g=(H,L)=>[H,L];break;case"topMiddle":E=(H,L)=>[H/2,0],g=(H,L)=>[H/2,L];break;case"topRight":v=!0,E=(H,L)=>[H,0],g=(H,L)=>[0,L];break;case"middleRight":_=!0,E=(H,L)=>[H,L/2],g=(H,L)=>[0,L/2];break;case"bottomRight":v=!0,E=(H,L)=>[H,L],g=(H,L)=>[0,0];break;case"bottomMiddle":E=(H,L)=>[H/2,L],g=(H,L)=>[H/2,0];break;case"bottomLeft":v=!0,E=(H,L)=>[0,L],g=(H,L)=>[H,0];break;case"middleLeft":_=!0,E=(H,L)=>[0,L/2],g=(H,L)=>[H,L/2];break}const S=E(a,c),b=g(a,c);let C=p(...b);const k=d(r+C[0]),P=d(o+C[1]);let M=1,I=1,[F,Q]=this.screenToPageTranslation(t.movementX,t.movementY);if([F,Q]=w(F/i,Q/s),v){const H=Math.hypot(a,c);M=I=Math.max(Math.min(Math.hypot(b[0]-S[0]-F,b[1]-S[1]-Q)/H,1/a,1/c),u/a,h/c)}else _?M=Math.max(u,Math.min(1,Math.abs(b[0]-S[0]-F)))/a:I=Math.max(h,Math.min(1,Math.abs(b[1]-S[1]-Q)))/c;const G=d(a*M),V=d(c*I);C=p(...g(G,V));const J=k-C[0],X=P-C[1];this.width=G,this.height=V,this.x=J,this.y=X,this.setDims(i*G,s*V),this.fixAndSetPosition()},Em=function(e){const{isMac:t}=$t.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Lx=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const i=new AbortController,s=this._uiManager.combinedSignal(i);if(t){this.div.classList.add("moving"),y(this,Ja,e.clientX),y(this,Za,e.clientY);const o=a=>{const{clientX:c,clientY:u}=a,[h,d]=this.screenToPageTranslation(c-l(this,Ja),u-l(this,Za));y(this,Ja,c),y(this,Za,u),this._uiManager.dragSelectedEditors(h,d)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:s})}const r=()=>{i.abort(),t&&this.div.classList.remove("moving"),y(this,io,!1),this._uiManager.endDragSession()||A(this,ne,Em).call(this,e)};window.addEventListener("pointerup",r,{signal:s}),window.addEventListener("blur",r,{signal:s})},Sm=function(){if(l(this,Gs)||!this.div)return;y(this,Gs,new AbortController);const e=this._uiManager.combinedSignal(l(this,Gs));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Mx=function(e){fe._resizerKeyboardManager.exec(this,e)},Ix=function(e){var t;l(this,Xi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,mt)&&A(this,ne,xc).call(this)},Nx=function(e){y(this,ku,l(this,Xi)?e:"")},bm=function(e){if(l(this,qn))for(const t of l(this,qn))t.tabIndex=e},xc=function(){if(y(this,Xi,!1),A(this,ne,bm).call(this,-1),l(this,no)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:s}=l(this,no);A(this,ne,_m).call(this,e,t,i,s),y(this,no,null)}},x(fe,Ru),Y(fe,"_l10n",null),Y(fe,"_l10nResizer",null),Y(fe,"_borderLineWidth",-1),Y(fe,"_colorManager",new hm),Y(fe,"_zIndex",1),Y(fe,"_telemetryTimeout",1e3);let ye=fe;class jT extends ye{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const ow=3285377520,Sn=4294901760,di=65535;class Fx{constructor(e){this.h1=e?e&4294967295:ow,this.h2=e?e&4294967295:ow}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let w=0,E=e.length;w<E;w++){const g=e.charCodeAt(w);g<=255?t[i++]=g:(t[i++]=g>>>8,t[i++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,o=new Uint32Array(t.buffer,0,s);let a=0,c=0,u=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&di,m=f&di;for(let w=0;w<s;w++)w&1?(a=o[w],a=a*d&Sn|a*p&di,a=a<<15|a>>>17,a=a*f&Sn|a*m&di,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[w],c=c*d&Sn|c*p&di,c=c<<15|c>>>17,c=c*f&Sn|c*m&di,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,r){case 3:a^=t[s*4+2]<<16;case 2:a^=t[s*4+1]<<8;case 1:a^=t[s*4],a=a*d&Sn|a*p&di,a=a<<15|a>>>17,a=a*f&Sn|a*m&di,s&1?u^=a:h^=a}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Sn|e*36045&di,t=t*4283543511&Sn|((t<<16|e>>>16)*2950163797&Sn)>>>16,e^=t>>>1,e=e*444984403&Sn|e*60499&di,t=t*3301882366&Sn|((t<<16|e>>>16)*3120437893&Sn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Cm=Object.freeze({map:null,hash:"",transfer:void 0});var ro,oo,ht,zf,Dx;class Pv{constructor(){x(this,zf);x(this,ro,!1);x(this,oo,null);x(this,ht,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=l(this,ht).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return l(this,ht).get(e)}remove(e){if(l(this,ht).delete(e),l(this,ht).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of l(this,ht).values())if(t instanceof ye)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=l(this,ht).get(e);let s=!1;if(i!==void 0)for(const[r,o]of Object.entries(t))i[r]!==o&&(s=!0,i[r]=o);else s=!0,l(this,ht).set(e,t);s&&A(this,zf,Dx).call(this),t instanceof ye&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return l(this,ht).has(e)}getAll(){return l(this,ht).size>0?Ev(l(this,ht)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return l(this,ht).size}resetModified(){l(this,ro)&&(y(this,ro,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Ox(this)}get serializable(){if(l(this,ht).size===0)return Cm;const e=new Map,t=new Fx,i=[],s=Object.create(null);let r=!1;for(const[o,a]of l(this,ht)){const c=a instanceof ye?a.serialize(!1,s):a;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),r||(r=!!c.bitmap))}if(r)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Cm}get editorStats(){let e=null;const t=new Map;for(const i of l(this,ht).values()){if(!(i instanceof ye))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:r}=s;t.has(r)||t.set(r,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[r]||(e[r]=new Map);for(const[a,c]of Object.entries(s)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const h=u.get(c)??0;u.set(c,h+1)}}for(const[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){y(this,oo,null)}get modifiedIds(){if(l(this,oo))return l(this,oo);const e=[];for(const t of l(this,ht).values())!(t instanceof ye)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return y(this,oo,{ids:new Set(e),hash:e.join(",")})}}ro=new WeakMap,oo=new WeakMap,ht=new WeakMap,zf=new WeakSet,Dx=function(){l(this,ro)||(y(this,ro,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Lu;class Ox extends Pv{constructor(t){super();x(this,Lu);const{map:i,hash:s,transfer:r}=t.serializable,o=structuredClone(i,r?{transfer:r}:null);y(this,Lu,{map:o,hash:s,transfer:r})}get print(){Ce("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,Lu)}get modifiedIds(){return ce(this,"modifiedIds",{ids:new Set,hash:""})}}Lu=new WeakMap;var el;class HT{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){x(this,el,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,el).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||l(this,el).has(e.loadedName))){if(nt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:r}=e,o=new FontFace(i,s,r);this.addNativeFontFace(o);try{await o.load(),l(this,el).add(i),t==null||t(e)}catch{ie(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ce("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw ie(`Failed to load font '${i.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ce(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(It||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),ce(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(nt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:t,callback:e};return i.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ce(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(S,b){return S.charCodeAt(b)<<24|S.charCodeAt(b+1)<<16|S.charCodeAt(b+2)<<8|S.charCodeAt(b+3)&255}function s(S,b,C,k){const P=S.substring(0,b),M=S.substring(b+C);return P+k+M}let r,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let u=0;function h(S,b){if(++u>30){ie("Load test font never loaded."),b();return}if(c.font="30px "+S,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){b();return}setTimeout(h.bind(null,S,b))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,d.length,d);const m=16,w=1482184792;let E=i(f,m);for(r=0,o=d.length-3;r<o;r+=4)E=E-w+i(d,r)|0;r<d.length&&(E=E-w+i(d+"XXX",r)|0),f=s(f,m,4,ET(E));const g=`url(data:font/opentype;base64,${btoa(f)});`,v=`@font-face {font-family:"${d}";src:${g}}`;this.insertRule(v);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const S of[e.loadedName,d]){const b=this._document.createElement("span");b.textContent="Hi",b.style.fontFamily=S,_.append(b)}this._document.body.append(_),h(d,()=>{_.remove(),t.complete()})}}el=new WeakMap;class zT{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${PT(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(r){ie(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(r,o){};const s=[];for(let r=0,o=i.length;r<o;)switch(i[r++]){case Di.BEZIER_CURVE_TO:{const[a,c,u,h,d,f]=i.slice(r,r+6);s.push(p=>p.bezierCurveTo(a,c,u,h,d,f)),r+=6}break;case Di.MOVE_TO:{const[a,c]=i.slice(r,r+2);s.push(u=>u.moveTo(a,c)),r+=2}break;case Di.LINE_TO:{const[a,c]=i.slice(r,r+2);s.push(u=>u.lineTo(a,c)),r+=2}break;case Di.QUADRATIC_CURVE_TO:{const[a,c,u,h]=i.slice(r,r+4);s.push(d=>d.quadraticCurveTo(a,c,u,h)),r+=4}break;case Di.RESTORE:s.push(a=>a.restore());break;case Di.SAVE:s.push(a=>a.save());break;case Di.SCALE:nt(s.length===2,"Scale command is only valid at the third position.");break;case Di.TRANSFORM:{const[a,c,u,h,d,f]=i.slice(r,r+6);s.push(p=>p.transform(a,c,u,h,d,f)),r+=6}break;case Di.TRANSLATE:{const[a,c]=i.slice(r,r+2);s.push(u=>u.translate(a,c)),r+=2}break}return this.compiledGlyphs[t]=function(o,a){s[0](o),s[1](o),o.scale(a,-a);for(let c=2,u=s.length;c<u;c++)s[c](o)}}}var Mu;class jx{constructor({enableHWA:e=!1}){x(this,Mu,!1);y(this,Mu,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!l(this,Mu)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ce("Abstract method `_createCanvas` called.")}}Mu=new WeakMap;class BT extends jx{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class Hx{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ce("Abstract method `_fetch` called.")}}class zx extends Hx{async _fetch(e){const t=await Ap(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):wp(t)}}class Bx{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,s,r){return"none"}destroy(e=!1){}}var ao,lo,Ei,Yi,Tt,Bf,co,j,Ct,ua,ha,Id,da,$x,km,fa,Ec,Sc,Tm,bc;class $T extends Bx{constructor({docId:t,ownerDocument:i=globalThis.document}){super();x(this,j);x(this,ao);x(this,lo);x(this,Ei);x(this,Yi);x(this,Tt);x(this,Bf);x(this,co,0);y(this,Yi,t),y(this,Tt,i)}addFilter(t){if(!t)return"none";let i=l(this,j,Ct).get(t);if(i)return i;const[s,r,o]=A(this,j,Id).call(this,t),a=t.length===1?s:`${s}${r}${o}`;if(i=l(this,j,Ct).get(a),i)return l(this,j,Ct).set(t,i),i;const c=`g_${l(this,Yi)}_transfer_map_${Dt(this,co)._++}`,u=A(this,j,da).call(this,c);l(this,j,Ct).set(t,u),l(this,j,Ct).set(a,u);const h=A(this,j,fa).call(this,c);return A(this,j,Sc).call(this,s,r,o,h),u}addHCMFilter(t,i){var m;const s=`${t}-${i}`,r="base";let o=l(this,j,ua).get(r);if((o==null?void 0:o.key)===s||(o?((m=o.filter)==null||m.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},l(this,j,ua).set(r,o)),!t||!i))return o.url;const a=A(this,j,bc).call(this,t);t=$.makeHexColor(...a);const c=A(this,j,bc).call(this,i);if(i=$.makeHexColor(...c),l(this,j,ha).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const u=new Array(256);for(let w=0;w<=255;w++){const E=w/255;u[w]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const h=u.join(","),d=`g_${l(this,Yi)}_hcm_filter`,f=o.filter=A(this,j,fa).call(this,d);A(this,j,Sc).call(this,h,h,h,f),A(this,j,km).call(this,f);const p=(w,E)=>{const g=a[w]/255,v=c[w]/255,_=new Array(E+1);for(let S=0;S<=E;S++)_[S]=g+S/E*(v-g);return _.join(",")};return A(this,j,Sc).call(this,p(0,5),p(1,5),p(2,5),f),o.url=A(this,j,da).call(this,d),o.url}addAlphaFilter(t){let i=l(this,j,Ct).get(t);if(i)return i;const[s]=A(this,j,Id).call(this,[t]),r=`alpha_${s}`;if(i=l(this,j,Ct).get(r),i)return l(this,j,Ct).set(t,i),i;const o=`g_${l(this,Yi)}_alpha_map_${Dt(this,co)._++}`,a=A(this,j,da).call(this,o);l(this,j,Ct).set(t,a),l(this,j,Ct).set(r,a);const c=A(this,j,fa).call(this,o);return A(this,j,Tm).call(this,s,c),a}addLuminosityFilter(t){let i=l(this,j,Ct).get(t||"luminosity");if(i)return i;let s,r;if(t?([s]=A(this,j,Id).call(this,[t]),r=`luminosity_${s}`):r="luminosity",i=l(this,j,Ct).get(r),i)return l(this,j,Ct).set(t,i),i;const o=`g_${l(this,Yi)}_luminosity_map_${Dt(this,co)._++}`,a=A(this,j,da).call(this,o);l(this,j,Ct).set(t,a),l(this,j,Ct).set(r,a);const c=A(this,j,fa).call(this,o);return A(this,j,$x).call(this,c),t&&A(this,j,Tm).call(this,s,c),a}addHighlightHCMFilter(t,i,s,r,o){var v;const a=`${i}-${s}-${r}-${o}`;let c=l(this,j,ua).get(t);if((c==null?void 0:c.key)===a||(c?((v=c.filter)==null||v.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},l(this,j,ua).set(t,c)),!i||!s))return c.url;const[u,h]=[i,s].map(A(this,j,bc).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,m]=[r,o].map(A(this,j,bc).bind(this));f<d&&([d,f,p,m]=[f,d,m,p]),l(this,j,ha).style.color="";const w=(_,S,b)=>{const C=new Array(256),k=(f-d)/b,P=_/255,M=(S-_)/(255*b);let I=0;for(let F=0;F<=b;F++){const Q=Math.round(d+F*k),G=P+F*M;for(let V=I;V<=Q;V++)C[V]=G;I=Q+1}for(let F=I;F<256;F++)C[F]=C[I-1];return C.join(",")},E=`g_${l(this,Yi)}_hcm_${t}_filter`,g=c.filter=A(this,j,fa).call(this,E);return A(this,j,km).call(this,g),A(this,j,Sc).call(this,w(p[0],m[0],5),w(p[1],m[1],5),w(p[2],m[2],5),g),c.url=A(this,j,da).call(this,E),c.url}destroy(t=!1){t&&l(this,j,ua).size!==0||(l(this,Ei)&&(l(this,Ei).parentNode.parentNode.remove(),y(this,Ei,null)),l(this,lo)&&(l(this,lo).clear(),y(this,lo,null)),y(this,co,0))}}ao=new WeakMap,lo=new WeakMap,Ei=new WeakMap,Yi=new WeakMap,Tt=new WeakMap,Bf=new WeakMap,co=new WeakMap,j=new WeakSet,Ct=function(){return l(this,lo)||y(this,lo,new Map)},ua=function(){return l(this,Bf)||y(this,Bf,new Map)},ha=function(){if(!l(this,Ei)){const t=l(this,Tt).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=l(this,Tt).createElementNS(ji,"svg");s.setAttribute("width",0),s.setAttribute("height",0),y(this,Ei,l(this,Tt).createElementNS(ji,"defs")),t.append(s),s.append(l(this,Ei)),l(this,Tt).body.append(t)}return l(this,Ei)},Id=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=u[f]/255;const d=h.join(",");return[d,d,d]}const[i,s,r]=t,o=new Array(256),a=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=i[u]/255,a[u]=s[u]/255,c[u]=r[u]/255;return[o.join(","),a.join(","),c.join(",")]},da=function(t){if(l(this,ao)===void 0){y(this,ao,"");const i=l(this,Tt).URL;i!==l(this,Tt).baseURI&&(_p(i)?ie('#createUrl: ignore "data:"-URL for performance reasons.'):y(this,ao,i.split("#",1)[0]))}return`url(${l(this,ao)}#${t})`},$x=function(t){const i=l(this,Tt).createElementNS(ji,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},km=function(t){const i=l(this,Tt).createElementNS(ji,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},fa=function(t){const i=l(this,Tt).createElementNS(ji,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),l(this,j,ha).append(i),i},Ec=function(t,i,s){const r=l(this,Tt).createElementNS(ji,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),t.append(r)},Sc=function(t,i,s,r){const o=l(this,Tt).createElementNS(ji,"feComponentTransfer");r.append(o),A(this,j,Ec).call(this,o,"feFuncR",t),A(this,j,Ec).call(this,o,"feFuncG",i),A(this,j,Ec).call(this,o,"feFuncB",s)},Tm=function(t,i){const s=l(this,Tt).createElementNS(ji,"feComponentTransfer");i.append(s),A(this,j,Ec).call(this,s,"feFuncA",t)},bc=function(t){return l(this,j,ha).style.color=t,Tv(getComputedStyle(l(this,j,ha)).getPropertyValue("color"))};class Ux{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ce("Abstract method `_fetch` called.")}}class Wx extends Ux{async _fetch(e){const t=await Ap(e,"arraybuffer");return new Uint8Array(t)}}if(It){var Pm=Promise.withResolvers(),Vc=null;(async()=>{const e=await od(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await od(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await od(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await od(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,o;return new Map(Object.entries({fs:e,http:t,https:i,url:s,canvas:r,path2d:o}))})().then(e=>{Vc=e,Pm.resolve()},e=>{ie(`loadPackages: ${e}`),Vc=new Map,Pm.resolve()})}class br{static get promise(){return Pm.promise}static get(e){return Vc==null?void 0:Vc.get(e)}}async function Vx(n){const t=await br.get("fs").promises.readFile(n);return new Uint8Array(t)}class UT extends Bx{}class WT extends jx{_createCanvas(e,t){return br.get("canvas").createCanvas(e,t)}}class VT extends Hx{async _fetch(e){return Vx(e)}}class GT extends Ux{async _fetch(e){return Vx(e)}}const zt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Rm(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,i),n.clip(s)}class Rv{getPattern(){Ce("Abstract method `getPattern` called.")}}class XT extends Rv{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,s){let r;if(s===zt.STROKE||s===zt.FILL){const o=t.current.getClippedPathBoundingBox(s,Ne(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,c),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),i=$.transform(i,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),Rm(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),r=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(i);r.setTransform(d)}else Rm(e,this._bbox),r=this._createGradient(e);return r}}function og(n,e,t,i,s,r,o,a){const c=e.coords,u=e.colors,h=n.data,d=n.width*4;let f;c[t+1]>c[i+1]&&(f=t,t=i,i=f,f=r,r=o,o=f),c[i+1]>c[s+1]&&(f=i,i=s,s=f,f=o,o=a,a=f),c[t+1]>c[i+1]&&(f=t,t=i,i=f,f=r,r=o,o=f);const p=(c[t]+e.offsetX)*e.scaleX,m=(c[t+1]+e.offsetY)*e.scaleY,w=(c[i]+e.offsetX)*e.scaleX,E=(c[i+1]+e.offsetY)*e.scaleY,g=(c[s]+e.offsetX)*e.scaleX,v=(c[s+1]+e.offsetY)*e.scaleY;if(m>=v)return;const _=u[r],S=u[r+1],b=u[r+2],C=u[o],k=u[o+1],P=u[o+2],M=u[a],I=u[a+1],F=u[a+2],Q=Math.round(m),G=Math.round(v);let V,J,X,H,L,B,U,se;for(let ee=Q;ee<=G;ee++){if(ee<E){const le=ee<m?0:(m-ee)/(m-E);V=p-(p-w)*le,J=_-(_-C)*le,X=S-(S-k)*le,H=b-(b-P)*le}else{let le;ee>v?le=1:E===v?le=0:le=(E-ee)/(E-v),V=w-(w-g)*le,J=C-(C-M)*le,X=k-(k-I)*le,H=P-(P-F)*le}let de;ee<m?de=0:ee>v?de=1:de=(m-ee)/(m-v),L=p-(p-g)*de,B=_-(_-M)*de,U=S-(S-I)*de,se=b-(b-F)*de;const He=Math.round(Math.min(V,L)),Ft=Math.round(Math.max(V,L));let pe=d*ee+He*4;for(let le=He;le<=Ft;le++)de=(V-le)/(V-L),de<0?de=0:de>1&&(de=1),h[pe++]=J-(J-B)*de|0,h[pe++]=X-(X-U)*de|0,h[pe++]=H-(H-se)*de|0,h[pe++]=255}}function YT(n,e,t){const i=e.coords,s=e.colors;let r,o;switch(e.type){case"lattice":const a=e.verticesPerRow,c=Math.floor(i.length/a)-1,u=a-1;for(r=0;r<c;r++){let h=r*a;for(let d=0;d<u;d++,h++)og(n,t,i[h],i[h+1],i[h+a],s[h],s[h+1],s[h+a]),og(n,t,i[h+a+1],i[h+1],i[h+a],s[h+a+1],s[h+1],s[h+a])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)og(n,t,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class qT extends Rv{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-c,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=u/d,m=h/f,w={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/p,scaleY:1/m},E=d+2*2,g=f+2*2,v=i.getCanvas("mesh",E,g),_=v.context,S=_.createImageData(d,f);if(t){const C=S.data;for(let k=0,P=C.length;k<P;k+=4)C[k]=t[0],C[k+1]=t[1],C[k+2]=t[2],C[k+3]=255}for(const C of this._figures)YT(S,C,w);return _.putImageData(S,2,2),{canvas:v.canvas,offsetX:a-2*p,offsetY:c-2*m,scaleX:p,scaleY:m}}getPattern(e,t,i,s){Rm(e,this._bbox);let r;if(s===zt.SHADING)r=$.singularValueDecompose2dScale(Ne(e));else if(r=$.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=$.singularValueDecompose2dScale(this.matrix);r=[r[0]*a[0],r[1]*a[1]]}const o=this._createMeshCanvas(r,s===zt.SHADING?null:this._background,t.cachedCanvases);return s!==zt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class KT extends Rv{getPattern(){return"hotpink"}}function QT(n){switch(n[0]){case"RadialAxial":return new XT(n);case"Mesh":return new qT(n);case"Dummy":return new KT}throw new Error(`Unknown IR type: ${n[0]}`)}const aw={COLORED:1,UNCOLORED:2},$f=class $f{constructor(e,t,i,s,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:i,paintType:s,tilingType:r,color:o,canvasGraphicsFactory:a}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),yp("TilingType: "+r);const h=t[0],d=t[1],f=t[2],p=t[3],m=f-h,w=p-d,E=$.singularValueDecompose2dScale(this.matrix),g=$.singularValueDecompose2dScale(this.baseTransform),v=E[0]*g[0],_=E[1]*g[1];let S=m,b=w,C=!1,k=!1;const P=Math.ceil(c*v),M=Math.ceil(u*_),I=Math.ceil(m*v),F=Math.ceil(w*_);P>=I?S=c:C=!0,M>=F?b=u:k=!0;const Q=this.getSizeAndScale(S,this.ctx.canvas.width,v),G=this.getSizeAndScale(b,this.ctx.canvas.height,_),V=e.cachedCanvases.getCanvas("pattern",Q.size,G.size),J=V.context,X=a.createCanvasGraphics(J);if(X.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(X,s,o),J.translate(-Q.scale*h,-G.scale*d),X.transform(Q.scale,0,0,G.scale,0,0),J.save(),this.clipBbox(X,h,d,f,p),X.baseTransform=Ne(X.ctx),X.executeOperatorList(i),X.endDrawing(),J.restore(),C||k){const H=V.canvas;C&&(S=c),k&&(b=u);const L=this.getSizeAndScale(S,this.ctx.canvas.width,v),B=this.getSizeAndScale(b,this.ctx.canvas.height,_),U=L.size,se=B.size,ee=e.cachedCanvases.getCanvas("pattern-workaround",U,se),de=ee.context,He=C?Math.floor(m/c):0,Ft=k?Math.floor(w/u):0;for(let pe=0;pe<=He;pe++)for(let le=0;le<=Ft;le++)de.drawImage(H,U*pe,se*le,U,se,0,0,U,se);return{canvas:ee.canvas,scaleX:L.scale,scaleY:B.scale,offsetX:h,offsetY:d}}return{canvas:V.canvas,scaleX:Q.scale,scaleY:G.scale,offsetX:h,offsetY:d}}getSizeAndScale(e,t,i){const s=Math.max($f.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*i);return r>=s?r=s:i=r/e,{scale:i,size:r}}clipBbox(e,t,i,s,r){const o=s-t,a=r-i;e.ctx.rect(t,i,o,a),e.current.updateRectMinMax(Ne(e.ctx),[t,i,s,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const s=e.ctx,r=e.current;switch(t){case aw.COLORED:const o=this.ctx;s.fillStyle=o.fillStyle,s.strokeStyle=o.strokeStyle,r.fillColor=o.fillStyle,r.strokeColor=o.strokeStyle;break;case aw.UNCOLORED:const a=$.makeHexColor(i[0],i[1],i[2]);s.fillStyle=a,s.strokeStyle=a,r.fillColor=a,r.strokeColor=a;break;default:throw new xT(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,s){let r=i;s!==zt.SHADING&&(r=$.transform(r,t.baseTransform),this.matrix&&(r=$.transform(r,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(r);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(a),c}};Y($f,"MAX_PATTERN_SIZE",3e3);let Lm=$f;function JT({src:n,srcPos:e=0,dest:t,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const a=$t.isLittleEndian?4278190080:255,[c,u]=o?[r,a]:[a,r],h=i>>3,d=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let m=0;m<s;m++){for(const E=e+h;e<E;e++){const g=e<f?n[e]:255;t[p++]=g&128?u:c,t[p++]=g&64?u:c,t[p++]=g&32?u:c,t[p++]=g&16?u:c,t[p++]=g&8?u:c,t[p++]=g&4?u:c,t[p++]=g&2?u:c,t[p++]=g&1?u:c}if(d===0)continue;const w=e<f?n[e++]:255;for(let E=0;E<d;E++)t[p++]=w&1<<7-E?u:c}return{srcPos:e,destPos:p}}const lw=16,cw=100,ZT=15,uw=10,hw=1e3,Jt=16;function eP(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,s){e.translate(i,s),this.__originalTranslate(i,s)},n.scale=function(i,s){e.scale(i,s),this.__originalScale(i,s)},n.transform=function(i,s,r,o,a,c){e.transform(i,s,r,o,a,c),this.__originalTransform(i,s,r,o,a,c)},n.setTransform=function(i,s,r,o,a,c){e.setTransform(i,s,r,o,a,c),this.__originalSetTransform(i,s,r,o,a,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,s,r,o,a){e.bezierCurveTo(t,i,s,r,o,a),this.__originalBezierCurveTo(t,i,s,r,o,a)},n.rect=function(t,i,s,r){e.rect(t,i,s,r),this.__originalRect(t,i,s,r)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class tP{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,i)):(s=this.canvasFactory.create(t,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function ad(n,e,t,i,s,r,o,a,c,u){const[h,d,f,p,m,w]=Ne(n);if(d===0&&f===0){const v=o*h+m,_=Math.round(v),S=a*p+w,b=Math.round(S),C=(o+c)*h+m,k=Math.abs(Math.round(C)-_)||1,P=(a+u)*p+w,M=Math.abs(Math.round(P)-b)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),_,b),n.drawImage(e,t,i,s,r,0,0,k,M),n.setTransform(h,d,f,p,m,w),[k,M]}if(h===0&&p===0){const v=a*f+m,_=Math.round(v),S=o*d+w,b=Math.round(S),C=(a+u)*f+m,k=Math.abs(Math.round(C)-_)||1,P=(o+c)*d+w,M=Math.abs(Math.round(P)-b)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,_,b),n.drawImage(e,t,i,s,r,0,0,M,k),n.setTransform(h,d,f,p,m,w),[M,k]}n.drawImage(e,t,i,s,r,o,a,c,u);const E=Math.hypot(h,d),g=Math.hypot(f,p);return[E*c,g*u]}function nP(n){const{width:e,height:t}=n;if(e>hw||t>hw)return null;const i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1;let o=new Uint8Array(r*(t+1)),a,c,u;const h=e+7&-8;let d=new Uint8Array(h*t),f=0;for(const g of n.data){let v=128;for(;v>0;)d[f++]=g&v?0:255,v>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),c=1;c<e;c++)d[f]!==d[f+1]&&(o[c]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[c]=2,++p),a=1;a<t;a++){f=a*h,u=a*r,d[f-h]!==d[f]&&(o[u]=d[f]?1:8,++p);let g=(d[f]?4:0)+(d[f-h]?8:0);for(c=1;c<e;c++)g=(g>>2)+(d[f+1]?4:0)+(d[f-h+1]?8:0),s[g]&&(o[u+c]=s[g],++p),f++;if(d[f-h]!==d[f]&&(o[u+c]=d[f]?2:4,++p),p>i)return null}for(f=h*(t-1),u=a*r,d[f]!==0&&(o[u]=8,++p),c=1;c<e;c++)d[f]!==d[f+1]&&(o[u+c]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[u+c]=4,++p),p>i)return null;const m=new Int32Array([0,r,-1,0,-r,0,0,0,1]),w=new Path2D;for(a=0;p&&a<=t;a++){let g=a*r;const v=g+e;for(;g<v&&!o[g];)g++;if(g===v)continue;w.moveTo(g%r,a);const _=g;let S=o[g];do{const b=m[S];do g+=b;while(!o[g]);const C=o[g];C!==5&&C!==10?(S=C,o[g]=0):(S=C&51*S>>4,o[g]&=S>>2|S<<2),w.lineTo(g%r,g/r|0),o[g]||--p}while(_!==g);--a}return d=null,o=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(w),g.beginPath(),g.restore()}}class dw{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=lx,this.textMatrixScale=1,this.fontMatrix=im,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=bt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=$.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=$.applyTransform(t,e),s=$.applyTransform(t.slice(2),e),r=$.applyTransform([t[0],t[3]],e),o=$.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],s[0],r[0],o[0]),this.minY=Math.min(this.minY,i[1],s[1],r[1],o[1]),this.maxX=Math.max(this.maxX,i[0],s[0],r[0],o[0]),this.maxY=Math.max(this.maxY,i[1],s[1],r[1],o[1])}updateScalingPathMinMax(e,t){$.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,s,r,o,a,c,u,h){const d=$.bezierBoundingBox(t,i,s,r,o,a,c,u,h);h||this.updateRectMinMax(e,d)}getPathBoundingBox(e=zt.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===zt.STROKE){t||Ce("Stroke bounding box must include transform.");const s=$.singularValueDecompose2dScale(t),r=s[0]*this.lineWidth/2,o=s[1]*this.lineWidth/2;i[0]-=r,i[1]-=o,i[2]+=r,i[3]+=o}return i}updateClipFromPath(){const e=$.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=zt.FILL,t=null){return $.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function fw(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,s=t%Jt,r=(t-s)/Jt,o=s===0?r:r+1,a=n.createImageData(i,Jt);let c=0,u;const h=e.data,d=a.data;let f,p,m,w;if(e.kind===Cd.GRAYSCALE_1BPP){const E=h.byteLength,g=new Uint32Array(d.buffer,0,d.byteLength>>2),v=g.length,_=i+7>>3,S=4294967295,b=$t.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<r?Jt:s,u=0,p=0;p<m;p++){const C=E-c;let k=0;const P=C>_?i:C*8-7,M=P&-8;let I=0,F=0;for(;k<M;k+=8)F=h[c++],g[u++]=F&128?S:b,g[u++]=F&64?S:b,g[u++]=F&32?S:b,g[u++]=F&16?S:b,g[u++]=F&8?S:b,g[u++]=F&4?S:b,g[u++]=F&2?S:b,g[u++]=F&1?S:b;for(;k<P;k++)I===0&&(F=h[c++],I=128),g[u++]=F&I?S:b,I>>=1}for(;u<v;)g[u++]=0;n.putImageData(a,0,f*Jt)}}else if(e.kind===Cd.RGBA_32BPP){for(p=0,w=i*Jt*4,f=0;f<r;f++)d.set(h.subarray(c,c+w)),c+=w,n.putImageData(a,0,p),p+=Jt;f<o&&(w=i*s*4,d.set(h.subarray(c,c+w)),n.putImageData(a,0,p))}else if(e.kind===Cd.RGB_24BPP)for(m=Jt,w=i*m,f=0;f<o;f++){for(f>=r&&(m=s,w=i*m),u=0,p=w;p--;)d[u++]=h[c++],d[u++]=h[c++],d[u++]=h[c++],d[u++]=255;n.putImageData(a,0,f*Jt)}else throw new Error(`bad image kind: ${e.kind}`)}function pw(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,s=t%Jt,r=(t-s)/Jt,o=s===0?r:r+1,a=n.createImageData(i,Jt);let c=0;const u=e.data,h=a.data;for(let d=0;d<o;d++){const f=d<r?Jt:s;({srcPos:c}=JT({src:u,srcPos:c,dest:h,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,d*Jt)}}function dc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function ld(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!It){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function gw(n,e){if(e)return!0;const t=$.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Sr.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const iP=["butt","round","square"],sP=["miter","round","bevel"],rP={},mw={};var kr,Mm,Im;const Ov=class Ov{constructor(e,t,i,s,r,{optionalContentConfig:o,markedContentStack:a=null},c,u){x(this,kr);this.ctx=e,this.current=new dw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new tP(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=a,i){const c=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Ne(this.compositeCtx))}this.ctx.save(),ld(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ne(this.ctx)}executeOperatorList(e,t,i,s){const r=e.argsArray,o=e.fnArray;let a=t||0;const c=r.length;if(c===a)return a;const u=c-a>uw&&typeof i=="function",h=u?Date.now()+ZT:0;let d=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(s!==void 0&&a===s.nextBreakPoint)return s.breakIt(a,i),a;if(m=o[a],m!==Wn.dependency)this[m].apply(this,r[a]);else for(const w of r[a]){const E=w.startsWith("g_")?f:p;if(!E.has(w))return E.get(w,i),a}if(a++,a===c)return a;if(u&&++d>uw){if(Date.now()>h)return i(),a;d=0}}}endDrawing(){A(this,kr,Mm).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,kr,Im).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,s=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,c=s,u="prescale1",h,d;for(;r>2&&a>1||o>2&&c>1;){let f=a,p=c;r>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),r/=a/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),h=this.cachedCanvases.getCanvas(u,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,c,0,0,f,p),e=h.canvas,a=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:s}=e,r=this.current.fillColor,o=this.current.patternFill,a=Ne(t);let c,u,h,d;if((e.bitmap||e.data)&&e.count>1){const P=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),r]),c=this._cachedBitmapsMap.get(P),c||(c=new Map,this._cachedBitmapsMap.set(P,c));const M=c.get(u);if(M&&!o){const I=Math.round(Math.min(a[0],a[2])+a[4]),F=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:I,offsetY:F}}h=M}h||(d=this.cachedCanvases.getCanvas("maskCanvas",i,s),pw(d.context,e));let f=$.transform(a,[1/i,0,0,-1/s,0,0]);f=$.transform(f,[1,0,0,1,0,-s]);const[p,m,w,E]=$.getAxialAlignedBoundingBox([0,0,i,s],f),g=Math.round(w-p)||1,v=Math.round(E-m)||1,_=this.cachedCanvases.getCanvas("fillCanvas",g,v),S=_.context,b=p,C=m;S.translate(-b,-C),S.transform(...f),h||(h=this._scaleImage(d.canvas,Oi(S)),h=h.img,c&&o&&c.set(u,h)),S.imageSmoothingEnabled=gw(Ne(S),e.interpolate),ad(S,h,0,0,h.width,h.height,0,0,i,s),S.globalCompositeOperation="source-in";const k=$.transform(Oi(S),[1,0,0,1,-b,-C]);return S.fillStyle=o?r.getPattern(t,this,k,zt.FILL):r,S.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,_.canvas)),{canvas:_.canvas,offsetX:Math.round(b),offsetY:Math.round(C)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=iP[e]}setLineJoin(e){this.ctx.lineJoin=sP[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const r=this.ctx;r.setTransform(...Ne(this.suspendedCtx)),dc(this.suspendedCtx,r),eP(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),dc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,s){const r=s[0],o=s[1],a=s[2]-r,c=s[3]-o;a===0||c===0||(this.genericComposeSMask(t.context,i,a,c,t.subtype,t.backdrop,t.transferMap,r,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,s,r,o,a,c,u,h,d){let f=e.canvas,p=c-h,m=u-d;if(o){const E=$.makeHexColor(...o);if(p<0||m<0||p+i>f.width||m+s>f.height){const g=this.cachedCanvases.getCanvas("maskExtension",i,s),v=g.context;v.drawImage(f,-p,-m),v.globalCompositeOperation="destination-atop",v.fillStyle=E,v.fillRect(0,0,i,s),v.globalCompositeOperation="source-over",f=g.canvas,p=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(p,m,i,s),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=E,e.fillRect(p,m,i,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const w=new Path2D;w.rect(c,u,i,s),t.clip(w),t.globalCompositeOperation="destination-in",t.drawImage(f,p,m,i,s,c,u,i,s),t.restore()}save(){this.inSMaskMode?(dc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),dc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,s,r,o){this.ctx.transform(e,t,i,s,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const s=this.ctx,r=this.current;let o=r.x,a=r.y,c,u;const h=Ne(s),d=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,f=d?i.slice(0):null;for(let p=0,m=0,w=e.length;p<w;p++)switch(e[p]|0){case Wn.rectangle:o=t[m++],a=t[m++];const E=t[m++],g=t[m++],v=o+E,_=a+g;s.moveTo(o,a),E===0||g===0?s.lineTo(v,_):(s.lineTo(v,a),s.lineTo(v,_),s.lineTo(o,_)),d||r.updateRectMinMax(h,[o,a,v,_]),s.closePath();break;case Wn.moveTo:o=t[m++],a=t[m++],s.moveTo(o,a),d||r.updatePathMinMax(h,o,a);break;case Wn.lineTo:o=t[m++],a=t[m++],s.lineTo(o,a),d||r.updatePathMinMax(h,o,a);break;case Wn.curveTo:c=o,u=a,o=t[m+4],a=t[m+5],s.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],o,a),r.updateCurvePathMinMax(h,c,u,t[m],t[m+1],t[m+2],t[m+3],o,a,f),m+=6;break;case Wn.curveTo2:c=o,u=a,s.bezierCurveTo(o,a,t[m],t[m+1],t[m+2],t[m+3]),r.updateCurvePathMinMax(h,c,u,o,a,t[m],t[m+1],t[m+2],t[m+3],f),o=t[m+2],a=t[m+3],m+=4;break;case Wn.curveTo3:c=o,u=a,o=t[m+2],a=t[m+3],s.bezierCurveTo(t[m],t[m+1],o,a,o,a),r.updateCurvePathMinMax(h,c,u,t[m],t[m+1],o,a,o,a,f),m+=4;break;case Wn.closePath:s.closePath();break}d&&r.updateScalingPathMinMax(h,f),r.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,Oi(t),zt.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let r=!1;s&&(t.save(),t.fillStyle=i.getPattern(t,this,Oi(t),zt.FILL),r=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=rP}eoClip(){this.pendingClip=mw}beginText(){this.current.textMatrix=lx,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||im,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&ie("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const r=i.loadedName||"sans-serif",o=((h=i.systemFontInfo)==null?void 0:h.css)||`"${r}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const c=i.italic?"italic":"normal";let u=t;t<lw?u=lw:t>cw&&(u=cw),this.current.fontSizeScale=t/u,this.ctx.font=`${c} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,s,r,o){this.current.textMatrix=[e,t,i,s,r,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,s){const r=this.ctx,o=this.current,a=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,h=c&bt.FILL_STROKE_MASK,d=!!(c&bt.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(r.save(),r.translate(t,i),r.beginPath(),p(r,u),s&&r.setTransform(...s),(h===bt.FILL||h===bt.FILL_STROKE)&&r.fill(),(h===bt.STROKE||h===bt.FILL_STROKE)&&r.stroke(),r.restore()):((h===bt.FILL||h===bt.FILL_STROKE)&&r.fillText(e,t,i),(h===bt.STROKE||h===bt.FILL_STROKE)&&r.strokeText(e,t,i)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ne(r),x:t,y:i,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){i=!0;break}return ce(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const r=this.ctx,o=t.fontSizeScale,a=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,d=e.length,f=i.vertical,p=f?1:-1,m=i.defaultVMetrics,w=s*t.fontMatrix[0],E=t.textRenderingMode===bt.FILL&&!i.disableFontFace&&!t.patternFill;r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),u>0?r.scale(h,-1):r.scale(h,1);let g;if(t.patternFill){r.save();const C=t.fillColor.getPattern(r,this,Oi(r),zt.FILL);g=Ne(r),r.restore(),r.fillStyle=C}let v=t.lineWidth;const _=t.textMatrixScale;if(_===0||v===0){const C=t.textRenderingMode&bt.FILL_STROKE_MASK;(C===bt.STROKE||C===bt.FILL_STROKE)&&(v=this.getSinglePixelWidth())}else v/=_;if(o!==1&&(r.scale(o,o),v/=o),r.lineWidth=v,i.isInvalidPDFjsFont){const C=[];let k=0;for(const P of e)C.push(P.unicode),k+=P.width;r.fillText(C.join(""),0,0),t.x+=k*w*h,r.restore(),this.compose();return}let S=0,b;for(b=0;b<d;++b){const C=e[b];if(typeof C=="number"){S+=p*C*s/1e3;continue}let k=!1;const P=(C.isSpace?c:0)+a,M=C.fontChar,I=C.accent;let F,Q,G=C.width;if(f){const J=C.vmetric||m,X=-(C.vmetric?J[1]:G*.5)*w,H=J[2]*w;G=J?-J[0]:G,F=X/o,Q=(S+H)/o}else F=S/o,Q=0;if(i.remeasure&&G>0){const J=r.measureText(M).width*1e3/s*o;if(G<J&&this.isFontSubpixelAAEnabled){const X=G/J;k=!0,r.save(),r.scale(X,1),F/=X}else G!==J&&(F+=(G-J)/2e3*s/o)}if(this.contentVisible&&(C.isInFont||i.missingFile)){if(E&&!I)r.fillText(M,F,Q);else if(this.paintChar(M,F,Q,g),I){const J=F+s*I.offset.x/o,X=Q-s*I.offset.y/o;this.paintChar(I.fontChar,J,X,g)}}const V=f?G*w-P*u:G*w+P*u;S+=V,k&&r.restore()}f?t.y-=S:t.x+=S*h,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,s=i.font,r=i.fontSize,o=i.fontDirection,a=s.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,h=i.textHScale*o,d=i.fontMatrix||im,f=e.length,p=i.textRenderingMode===bt.INVISIBLE;let m,w,E,g;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(h,o),m=0;m<f;++m){if(w=e[m],typeof w=="number"){g=a*w*r/1e3,this.ctx.translate(g,0),i.x+=g*h;continue}const v=(w.isSpace?u:0)+c,_=s.charProcOperatorList[w.operatorListId];if(!_){ie(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),t.scale(r,r),t.transform(...d),this.executeOperatorList(_),this.restore()),E=$.applyTransform([w.width,0],d)[0]*r+v,t.translate(E,0),i.x+=E*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,s,r,o){this.ctx.rect(i,s,r-i,o-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],s=this.baseTransform||Ne(this.ctx),r={createCanvasGraphics:o=>new Ov(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Lm(e,i,this.ctx,r,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=$.makeHexColor(e,t,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=$.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=QT(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,Oi(t),zt.SHADING);const s=Oi(t);if(s){const{width:r,height:o}=t.canvas,[a,c,u,h]=$.getAxialAlignedBoundingBox([0,0,r,o],s);this.ctx.fillRect(a,c,u-a,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ce("Should not call beginInlineImage")}beginImageData(){Ce("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ne(this.ctx),t)){const i=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],i,s),this.current.updateRectMinMax(Ne(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||yp("TODO: Support non-isolated groups."),e.knockout&&ie("Knockout groups not supported.");const i=Ne(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=$.getAxialAlignedBoundingBox(e.bbox,Ne(t));const r=[0,0,t.canvas.width,t.canvas.height];s=$.intersect(s,r)||[0,0,0,0];const o=Math.floor(s[0]),a=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-a,1);this.current.startNewPathAndClipBox([0,0,c,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,c,u),f=d.context;f.translate(-o,-a),f.transform(...i),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),dc(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Ne(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=$.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,i,s,r){if(A(this,kr,Mm).call(this),ld(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[c,u]=$.singularValueDecompose2dScale(Ne(this.ctx)),{viewportScale:h}=this,d=Math.ceil(o*this.outputScaleX*h),f=Math.ceil(a*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(c,0,0,-u,0,a*u),ld(this.ctx)}else ld(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new dw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,kr,Im).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=nP(e)),s.compiled)){s.compiled(i);return}const r=this._createMaskCanvas(e),o=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,r.offsetX,r.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,s=0,r,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const c=Ne(a);a.transform(t,i,s,r,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let h=0,d=o.length;h<d;h+=2){const f=$.transform(c,[t,i,s,r,o[h],o[h+1]]),[p,m]=$.applyTransform([0,0],f);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const r of e){const{data:o,width:a,height:c,transform:u}=r,h=this.cachedCanvases.getCanvas("maskCanvas",a,c),d=h.context;d.save();const f=this.getObject(o,r);pw(d,f),d.globalCompositeOperation="source-in",d.fillStyle=s?i.getPattern(d,this,Oi(t),zt.FILL):i,d.fillRect(0,0,a,c),d.restore(),t.save(),t.transform(...u),t.scale(1,-1),ad(t,h.canvas,0,0,a,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ie("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,s){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){ie("Dependent image isn't ready yet");return}const o=r.width,a=r.height,c=[];for(let u=0,h=s.length;u<h;u+=2)c.push({transform:[t,0,0,i,s[u],s[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(r,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:s}=e,r=this.cachedCanvases.getCanvas("inlineImage",i,s),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,s=this.ctx;if(this.save(),!It){const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none")}s.scale(1/t,-1/i);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,i).context;fw(c,e),r=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(r,Oi(s));s.imageSmoothingEnabled=gw(Ne(s),e.interpolate),ad(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const r=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",r,o).context;fw(c,e),s=this.applyTransferMapsToCanvas(c)}for(const r of t)i.save(),i.transform(...r.transform),i.scale(1,-1),ad(i,s,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===mw?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ne(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:s,d:r}=this.ctx.getTransform();let o,a;if(i===0&&s===0){const c=Math.abs(t),u=Math.abs(r);if(c===u)if(e===0)o=a=1/c;else{const h=c*e;o=a=h<1?1/h:1}else if(e===0)o=1/c,a=1/u;else{const h=c*e,d=u*e;o=h<1?1/h:1,a=d<1?1/d:1}}else{const c=Math.abs(t*r-i*s),u=Math.hypot(t,i),h=Math.hypot(s,r);if(e===0)o=h/c,a=u/c;else{const d=e*c;o=h>d?h/d:1,a=u>d?u/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[s,r]=this.getScaleForStroking();if(t.lineWidth=i||1,s===1&&r===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(s,r),o.length>0){const a=Math.max(s,r);t.setLineDash(o.map(c=>c/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};kr=new WeakSet,Mm=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Im=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Oa=Ov;for(const n in Wn)Oa.prototype[n]!==void 0&&(Oa.prototype[Wn[n]]=Oa.prototype[n]);var Iu,Nu;class fs{static get workerPort(){return l(this,Iu)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");y(this,Iu,e)}static get workerSrc(){return l(this,Nu)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");y(this,Nu,e)}}Iu=new WeakMap,Nu=new WeakMap,x(fs,Iu,null),x(fs,Nu,"");const cd={UNKNOWN:0,DATA:1,ERROR:2},Xe={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function on(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Ce('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ra(n.message);case"MissingPDFException":return new sa(n.message);case"PasswordException":return new sm(n.message,n.code);case"UnexpectedResponseException":return new vp(n.message,n.status);case"UnknownErrorException":return new rm(n.message,n.details);default:return new rm(n.message,n.toString())}}var tl,Dn,Gx,Xx,Yx,Nd;class Cc{constructor(e,t,i){x(this,Dn);x(this,tl,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",A(this,Dn,Gx).bind(this),{signal:l(this,tl).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},i)}catch(o){r.reject(o)}return r.promise}sendWithStream(e,t,i,s){const r=this.streamId++,o=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[r]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:a,action:e,streamId:r,data:t,desiredSize:u.desiredSize},s),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[r].pullCall=h,c.postMessage({sourceName:o,targetName:a,stream:Xe.PULL,streamId:r,desiredSize:u.desiredSize}),h.promise},cancel:u=>{nt(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[r].cancelCall=h,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:o,targetName:a,stream:Xe.CANCEL,streamId:r,reason:on(u)}),h.promise}},i)}destroy(){var e;(e=l(this,tl))==null||e.abort(),y(this,tl,null)}}tl=new WeakMap,Dn=new WeakSet,Gx=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){A(this,Dn,Yx).call(this,e);return}if(e.callback){const i=e.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===cd.DATA)s.resolve(e.data);else if(e.callback===cd.ERROR)s.reject(on(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,s=e.sourceName,r=this.comObj;new Promise(function(o){o(t(e.data))}).then(function(o){r.postMessage({sourceName:i,targetName:s,callback:cd.DATA,callbackId:e.callbackId,data:o})},function(o){r.postMessage({sourceName:i,targetName:s,callback:cd.ERROR,callbackId:e.callbackId,reason:on(o)})});return}if(e.streamId){A(this,Dn,Xx).call(this,e);return}t(e.data)},Xx=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,o=this,a=this.actionHandler[e.action],c={enqueue(u,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:Xe.ENQUEUE,streamId:t,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:Xe.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){nt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:Xe.ERROR,streamId:t,reason:on(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(u){u(a(e.data,c))}).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Xe.START_COMPLETE,streamId:t,success:!0})},function(u){r.postMessage({sourceName:i,targetName:s,stream:Xe.START_COMPLETE,streamId:t,reason:on(u)})})},Yx=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Xe.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(on(e.reason));break;case Xe.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(on(e.reason));break;case Xe.PULL:if(!a){r.postMessage({sourceName:i,targetName:s,stream:Xe.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(c){var u;c((u=a.onPull)==null?void 0:u.call(a))}).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Xe.PULL_COMPLETE,streamId:t,success:!0})},function(c){r.postMessage({sourceName:i,targetName:s,stream:Xe.PULL_COMPLETE,streamId:t,reason:on(c)})});break;case Xe.ENQUEUE:if(nt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Xe.CLOSE:if(nt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),A(this,Dn,Nd).call(this,o,t);break;case Xe.ERROR:nt(o,"error should have stream controller"),o.controller.error(on(e.reason)),A(this,Dn,Nd).call(this,o,t);break;case Xe.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(on(e.reason)),A(this,Dn,Nd).call(this,o,t);break;case Xe.CANCEL:if(!a)break;new Promise(function(c){var u;c((u=a.onCancel)==null?void 0:u.call(a,on(e.reason)))}).then(function(){r.postMessage({sourceName:i,targetName:s,stream:Xe.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){r.postMessage({sourceName:i,targetName:s,stream:Xe.CANCEL_COMPLETE,streamId:t,reason:on(c)})}),a.sinkCapability.reject(on(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Nd=async function(e,t){var i,s,r;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(s=e.pullCall)==null?void 0:s.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var uo,Fu;class oP{constructor({parsedData:e,rawData:t}){x(this,uo);x(this,Fu);y(this,uo,e),y(this,Fu,t)}getRaw(){return l(this,Fu)}get(e){return l(this,uo).get(e)??null}getAll(){return Ev(l(this,uo))}has(e){return l(this,uo).has(e)}}uo=new WeakMap,Fu=new WeakMap;const pa=Symbol("INTERNAL");var Du,Ou,ju,nl;class aP{constructor(e,{name:t,intent:i,usage:s,rbGroups:r}){x(this,Du,!1);x(this,Ou,!1);x(this,ju,!1);x(this,nl,!0);y(this,Du,!!(e&gn.DISPLAY)),y(this,Ou,!!(e&gn.PRINT)),this.name=t,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(l(this,ju))return l(this,nl);if(!l(this,nl))return!1;const{print:e,view:t}=this.usage;return l(this,Du)?(t==null?void 0:t.viewState)!=="OFF":l(this,Ou)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==pa&&Ce("Internal method `_setVisible` called."),y(this,ju,i),y(this,nl,t)}}Du=new WeakMap,Ou=new WeakMap,ju=new WeakMap,nl=new WeakMap;var Ys,me,il,sl,Hu,Nm;class lP{constructor(e,t=gn.DISPLAY){x(this,Hu);x(this,Ys,null);x(this,me,new Map);x(this,il,null);x(this,sl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,y(this,sl,e.order);for(const i of e.groups)l(this,me).set(i.id,new aP(t,i));if(e.baseState==="OFF")for(const i of l(this,me).values())i._setVisible(pa,!1);for(const i of e.on)l(this,me).get(i)._setVisible(pa,!0);for(const i of e.off)l(this,me).get(i)._setVisible(pa,!1);y(this,il,this.getHash())}}isVisible(e){if(l(this,me).size===0)return!0;if(!e)return yp("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,me).has(e.id)?l(this,me).get(e.id).visible:(ie(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,Hu,Nm).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,me).has(t))return ie(`Optional content group not found: ${t}`),!0;if(l(this,me).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,me).has(t))return ie(`Optional content group not found: ${t}`),!0;if(!l(this,me).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,me).has(t))return ie(`Optional content group not found: ${t}`),!0;if(!l(this,me).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,me).has(t))return ie(`Optional content group not found: ${t}`),!0;if(l(this,me).get(t).visible)return!1}return!0}return ie(`Unknown optional content policy ${e.policy}.`),!0}return ie(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var r;const s=l(this,me).get(e);if(!s){ie(`Optional content group not found: ${e}`);return}if(i&&t&&s.rbGroups.length)for(const o of s.rbGroups)for(const a of o)a!==e&&((r=l(this,me).get(a))==null||r._setVisible(pa,!1,!0));s._setVisible(pa,!!t,!0),y(this,Ys,null)}setOCGState({state:e,preserveRB:t}){let i;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=l(this,me).get(s);if(r)switch(i){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!r.visible,t);break}}y(this,Ys,null)}get hasInitialVisibility(){return l(this,il)===null||this.getHash()===l(this,il)}getOrder(){return l(this,me).size?l(this,sl)?l(this,sl).slice():[...l(this,me).keys()]:null}getGroups(){return l(this,me).size>0?Ev(l(this,me)):null}getGroup(e){return l(this,me).get(e)||null}getHash(){if(l(this,Ys)!==null)return l(this,Ys);const e=new Fx;for(const[t,i]of l(this,me))e.update(`${t}:${i.visible}`);return y(this,Ys,e.hexdigest())}}Ys=new WeakMap,me=new WeakMap,il=new WeakMap,sl=new WeakMap,Hu=new WeakSet,Nm=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let s=1;s<t;s++){const r=e[s];let o;if(Array.isArray(r))o=A(this,Hu,Nm).call(this,r);else if(l(this,me).has(r))o=l(this,me).get(r).visible;else return ie(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class cP{constructor(e,{disableRange:t=!1,disableStream:i=!1}){nt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(r==null?void 0:r.length)>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(i),!0)});nt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,s,r;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){nt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new uP(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new hP(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class uP{constructor(e,t,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=Cv(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class hP{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function dP(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=c(h),h=u(h),r(h)}if(t=o(n),t){const h=u(t);return r(h)}if(t=i("filename","i").exec(n),t){t=t[1];let h=a(t);return h=u(h),r(h)}function i(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=wp(d);d=f.decode(p),e=!1}catch{}}return d}function r(h){return e&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),e&&(h=s("iso-8859-1",h))),h}function o(h){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,w,E,g]=f;if(w=parseInt(w,10),w in d){if(w===0)break;continue}d[w]=[E,g]}const m=[];for(let w=0;w<d.length&&w in d;++w){let[E,g]=d[w];g=a(g),E&&(g=unescape(g),w===0&&(g=c(g))),m.push(g)}return m.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function c(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),m=h.slice(d+1).replace(/^[^']*'/,"");return s(f,m)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,E){return String.fromCharCode(parseInt(E,16))}),s(f,m);try{m=atob(m)}catch{}return s(f,m)})}return""}function Lv(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const s=e[i];s!==void 0&&t.append(i,s)}return t}function Mv({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Iv(n){const e=n.get("Content-Disposition");if(e){let t=dP(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Cv(t))return t}return null}function xp(n,e){return n===404||n===0&&e.startsWith("file:")?new sa('Missing PDF "'+e+'".'):new vp(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function qx(n){return n===200||n===206}function Kx(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Qx(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ie(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class yw{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Lv(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return nt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new fP(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new pP(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class fP{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),s=t.url;fetch(s,Kx(i,this._withCredentials,this._abortController)).then(r=>{if(!qx(r.status))throw xp(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:a,suggestedLength:c}=Mv({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=c||this._contentLength,this._filename=Iv(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ra("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Qx(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class pP{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${i-1}`);const o=s.url;fetch(o,Kx(r,this._withCredentials,this._abortController)).then(a=>{if(!qx(a.status))throw xp(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:Qx(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const ag=200,lg=206;function gP(n){const e=n.response;return typeof e!="string"?e:wp(e).buffer}class mP{constructor({url:e,httpHeaders:t,withCredentials:i}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Lv(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const s={begin:e,end:t};for(const r in i)s[r]=i[r];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,o]of this.headers)t.setRequestHeader(r,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=lg):s.expectedStatus=ag,t.responseType="arraybuffer",e.onError&&(t.onerror=function(r){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var s;const i=this.pendingRequests[e];i&&((s=i.onProgress)==null||s.call(i,t))}onStateChange(e,t){var c,u,h;const i=this.pendingRequests[e];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(c=i.onError)==null||c.call(i,s.status);return}const r=s.status||ag;if(!(r===ag&&i.expectedStatus===lg)&&r!==i.expectedStatus){(u=i.onError)==null||u.call(i,s.status);return}const a=gP(s);if(r===lg){const d=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);i.onDone({begin:parseInt(f[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):(h=i.onError)==null||h.call(i,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class yP{constructor(e){this._source=e,this._manager=new mP(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return nt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new vP(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new wP(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class vP{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[a,...c]=o.split(": ");return[a,c.join(": ")]})),{allowRangeRequests:s,suggestedLength:r}=Mv({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=Iv(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=xp(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class wP{constructor(e,t,i){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=xp(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const AP=/^[a-z][a-z0-9\-+.]+:/i;function _P(n){if(AP.test(n))return new URL(n);const e=br.get("url");return new URL(e.pathToFileURL(n))}function Jx(n,e,t){return n.protocol==="http:"?br.get("http").request(n,{headers:e},t):br.get("https").request(n,{headers:e},t)}class xP{constructor(e){this.source=e,this.url=_P(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=Lv(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return nt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new bP(this):new EP(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new CP(this,e,t):new SP(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Zx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ra("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class eE{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class EP extends Zx{constructor(e){super(e);const t=Object.fromEntries(e.headers),i=s=>{if(s.statusCode===404){const c=new sa(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(s);const r=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:a}=Mv({responseHeaders:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=Iv(r)};this._request=Jx(this._url,t,i),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class SP extends eE{constructor(e,t,i){super(e);const s=Object.fromEntries(e.headers);s.Range=`bytes=${t}-${i-1}`;const r=o=>{if(o.statusCode===404){const a=new sa(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(o)};this._request=Jx(this._url,s,r),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class bP extends Zx{constructor(e){super(e);const t=br.get("fs");t.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new sa(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class CP extends eE{constructor(e,t,i){super(e);const s=br.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}}const kP=1e5,Xt=30,TP=.8;var Lw,qs,Kt,zu,Bu,ho,qi,$u,Uu,fo,rl,ol,Ks,al,Wu,ll,po,Vu,Gu,Be,go,mo,Xu,Qs,cl,bs,tE,nE,Dm,An,Fd,Om,iE,sE;let Fm=(Be=class{constructor({textContentSource:e,container:t,viewport:i}){x(this,bs);x(this,qs,Promise.withResolvers());x(this,Kt,null);x(this,zu,!1);x(this,Bu,!!((Lw=globalThis.FontInspector)!=null&&Lw.enabled));x(this,ho,null);x(this,qi,null);x(this,$u,0);x(this,Uu,0);x(this,fo,null);x(this,rl,null);x(this,ol,0);x(this,Ks,0);x(this,al,Object.create(null));x(this,Wu,[]);x(this,ll,null);x(this,po,[]);x(this,Vu,new WeakMap);x(this,Gu,null);var c;if(e instanceof ReadableStream)y(this,ll,e);else if(typeof e=="object")y(this,ll,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');y(this,Kt,y(this,rl,t)),y(this,Ks,i.scale*(globalThis.devicePixelRatio||1)),y(this,ol,i.rotation),y(this,qi,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:o,pageY:a}=i.rawDims;y(this,Gu,[1,0,0,-1,-o,a+r]),y(this,Uu,s),y(this,$u,r),A(c=Be,An,iE).call(c),qo(t,i),l(this,qs).promise.finally(()=>{l(Be,cl).delete(this),y(this,qi,null),y(this,al,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=$t.platform;return ce(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{l(this,fo).read().then(({value:t,done:i})=>{if(i){l(this,qs).resolve();return}l(this,ho)??y(this,ho,t.lang),Object.assign(l(this,al),t.styles),A(this,bs,tE).call(this,t.items),e()},l(this,qs).reject)};return y(this,fo,l(this,ll).getReader()),l(Be,cl).add(this),e(),l(this,qs).promise}update({viewport:e,onBefore:t=null}){var r;const i=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==l(this,ol)&&(t==null||t(),y(this,ol,s),qo(l(this,rl),{rotation:s})),i!==l(this,Ks)){t==null||t(),y(this,Ks,i);const o={div:null,properties:null,ctx:A(r=Be,An,Fd).call(r,l(this,ho))};for(const a of l(this,po))o.properties=l(this,Vu).get(a),o.div=a,A(this,bs,Dm).call(this,o)}}cancel(){var t;const e=new ra("TextLayer task cancelled.");(t=l(this,fo))==null||t.cancel(e).catch(()=>{}),y(this,fo,null),l(this,qs).reject(e)}get textDivs(){return l(this,po)}get textContentItemsStr(){return l(this,Wu)}static cleanup(){if(!(l(this,cl).size>0)){l(this,go).clear();for(const{canvas:e}of l(this,mo).values())e.remove();l(this,mo).clear()}}},qs=new WeakMap,Kt=new WeakMap,zu=new WeakMap,Bu=new WeakMap,ho=new WeakMap,qi=new WeakMap,$u=new WeakMap,Uu=new WeakMap,fo=new WeakMap,rl=new WeakMap,ol=new WeakMap,Ks=new WeakMap,al=new WeakMap,Wu=new WeakMap,ll=new WeakMap,po=new WeakMap,Vu=new WeakMap,Gu=new WeakMap,go=new WeakMap,mo=new WeakMap,Xu=new WeakMap,Qs=new WeakMap,cl=new WeakMap,bs=new WeakSet,tE=function(e){var s,r;if(l(this,zu))return;(r=l(this,qi)).ctx??(r.ctx=A(s=Be,An,Fd).call(s,l(this,ho)));const t=l(this,po),i=l(this,Wu);for(const o of e){if(t.length>kP){ie("Ignoring additional textDivs for performance reasons."),y(this,zu,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=l(this,Kt);y(this,Kt,document.createElement("span")),l(this,Kt).classList.add("markedContent"),o.id!==null&&l(this,Kt).setAttribute("id",`${o.id}`),a.append(l(this,Kt))}else o.type==="endMarkedContent"&&y(this,Kt,l(this,Kt).parentNode);continue}i.push(o.str),A(this,bs,nE).call(this,o)}},nE=function(e){var w;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,po).push(t);const s=$.transform(l(this,Gu),e.transform);let r=Math.atan2(s[1],s[0]);const o=l(this,al)[e.fontName];o.vertical&&(r+=Math.PI/2);let a=l(this,Bu)&&o.fontSubstitution||o.fontFamily;a=Be.fontFamilyMap.get(a)||a;const c=Math.hypot(s[2],s[3]),u=c*A(w=Be,An,sE).call(w,a,l(this,ho));let h,d;r===0?(h=s[4],d=s[5]-u):(h=s[4]+u*Math.sin(r),d=s[5]-u*Math.cos(r));const f="calc(var(--scale-factor)*",p=t.style;l(this,Kt)===l(this,rl)?(p.left=`${(100*h/l(this,Uu)).toFixed(2)}%`,p.top=`${(100*d/l(this,$u)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(l(Be,Qs)*c).toFixed(2)}px)`,p.fontFamily=a,i.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,Bu)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),r!==0&&(i.angle=r*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);E!==g&&Math.max(E,g)/Math.min(E,g)>1.5&&(m=!0)}if(m&&(i.canvasWidth=o.vertical?e.height:e.width),l(this,Vu).set(t,i),l(this,qi).div=t,l(this,qi).properties=i,A(this,bs,Dm).call(this,l(this,qi)),i.hasText&&l(this,Kt).append(t),i.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),l(this,Kt).append(E)}},Dm=function(e){var a;const{div:t,properties:i,ctx:s}=e,{style:r}=t;let o="";if(l(Be,Qs)>1&&(o=`scale(${1/l(Be,Qs)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=r,{canvasWidth:u,fontSize:h}=i;A(a=Be,An,Om).call(a,s,h*l(this,Ks),c);const{width:d}=s.measureText(t.textContent);d>0&&(o=`scaleX(${u*l(this,Ks)/d}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(r.transform=o)},An=new WeakSet,Fd=function(e=null){let t=l(this,mo).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,mo).set(e,t),l(this,Xu).set(t,{size:0,family:""})}return t},Om=function(e,t,i){const s=l(this,Xu).get(e);t===s.size&&i===s.family||(e.font=`${t}px ${i}`,s.size=t,s.family=i)},iE=function(){if(l(this,Qs)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),y(this,Qs,e.getBoundingClientRect().height),e.remove()},sE=function(e,t){const i=l(this,go).get(e);if(i)return i;const s=A(this,An,Fd).call(this,t);s.canvas.width=s.canvas.height=Xt,A(this,An,Om).call(this,s,Xt,e);const r=s.measureText("");let o=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);if(o){const h=o/(o+a);return l(this,go).set(e,h),s.canvas.width=s.canvas.height=0,h}s.strokeStyle="red",s.clearRect(0,0,Xt,Xt),s.strokeText("g",0,0);let c=s.getImageData(0,0,Xt,Xt).data;a=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){a=Math.ceil(h/4/Xt);break}s.clearRect(0,0,Xt,Xt),s.strokeText("A",0,Xt),c=s.getImageData(0,0,Xt,Xt).data,o=0;for(let h=0,d=c.length;h<d;h+=4)if(c[h]>0){o=Xt-Math.floor(h/4/Xt);break}s.canvas.width=s.canvas.height=0;const u=o?o/(o+a):TP;return l(this,go).set(e,u),u},x(Be,An),x(Be,go,new Map),x(Be,mo,new Map),x(Be,Xu,new WeakMap),x(Be,Qs,null),x(Be,cl,new Set),Be);class hu{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function s(r){var c;if(!r)return;let o=null;const a=r.name;if(a==="#text")o=r.value;else if(hu.shouldBuildText(a))(c=r==null?void 0:r.attributes)!=null&&c.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&t.push({str:o}),!!r.children)for(const u of r.children)s(u)}return s(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const PP=65536,RP=100,LP=5e3,MP=It?WT:BT,IP=It?VT:zx,NP=It?UT:$T,FP=It?GT:Wx;function DP(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new jm,{docId:t}=e,i=n.url?OP(n.url):null,s=n.data?jP(n.data):null,r=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,c=n.range instanceof rE?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:PP;let h=n.worker instanceof ja?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!_p(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,m=n.cMapPacked!==!1,w=n.CMapReaderFactory||IP,E=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||FP,v=n.stopAtErrors!==!0,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,S=n.isEvalSupported!==!1,b=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!It,C=typeof n.isChrome=="boolean"?n.isChrome:!$t.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,P=typeof n.disableFontFace=="boolean"?n.disableFontFace:It,M=n.fontExtraProperties===!0,I=n.enableXfa===!0,F=n.ownerDocument||globalThis.document,Q=n.disableRange===!0,G=n.disableStream===!0,V=n.disableAutoFetch===!0,J=n.pdfBug===!0,X=n.CanvasFactory||MP,H=n.FilterFactory||NP,L=n.enableHWA===!0,B=c?c.length:n.length??NaN,U=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!It&&!P,se=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:w===zx&&g===Wx&&p&&E&&wc(p,document.baseURI)&&wc(E,document.baseURI);n.canvasFactory&&rw("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&rw("`filterFactory`-instance option, please use `FilterFactory` instead.");const ee=null;vT(d);const de={canvasFactory:new X({ownerDocument:F,enableHWA:L}),filterFactory:new H({docId:t,ownerDocument:F}),cMapReaderFactory:se?null:new w({baseUrl:p,isCompressed:m}),standardFontDataFactory:se?null:new g({baseUrl:E})};if(!h){const pe={verbosity:d,port:fs.workerPort};h=pe.port?ja.fromPort(pe):new ja(pe),e._worker=h}const He={docId:t,apiVersion:"4.8.69",data:s,password:a,disableAutoFetch:V,rangeChunkSize:u,length:B,docBaseUrl:f,enableXfa:I,evaluatorOptions:{maxImageSize:_,disableFontFace:P,ignoreErrors:v,isEvalSupported:S,isOffscreenCanvasSupported:b,isChrome:C,canvasMaxAreaInBytes:k,fontExtraProperties:M,useSystemFonts:U,cMapUrl:se?p:null,standardFontDataUrl:se?E:null}},Ft={disableFontFace:P,fontExtraProperties:M,ownerDocument:F,pdfBug:J,styleElement:ee,loadingParams:{disableAutoFetch:V,enableXfa:I}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const pe=h.messageHandler.sendWithPromise("GetDocRequest",He,s?[s.buffer]:null);let le;if(c)le=new cP(c,{disableRange:Q,disableStream:G});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");let ui;It?ui=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&wc(i)?yw:xP:ui=wc(i)?yw:yP,le=new ui({url:i,length:B,httpHeaders:r,withCredentials:o,rangeChunkSize:u,disableRange:Q,disableStream:G})}return pe.then(ui=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const zn=new Cc(t,ui,h.port),Te=new $P(zn,e,le,Ft,de);e._transport=Te,zn.send("Ready",null)})}).catch(e._capability.reject),e}function OP(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(It&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function jP(n){if(It&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return wp(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function vw(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Uf;const Wf=class Wf{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Dt(Wf,Uf)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Uf=new WeakMap,x(Wf,Uf,0);let jm=Wf,rE=class{constructor(e,t,i=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ce("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class HP{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ce(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Js,Ki,Mn,ga,Dd;class zP{constructor(e,t,i,s=!1){x(this,Mn);x(this,Js,null);x(this,Ki,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=s?new sw:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new oE,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new Fh({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ce(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:s=Ds.ENABLE,transform:r=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:h=null,isEditing:d=!1}){var S,b;(S=this._stats)==null||S.time("Overall");const f=this._transport.getRenderingIntent(i,s,h,d),{renderingIntent:p,cacheKey:m}=f;y(this,Ki,!1),A(this,Mn,Dd).call(this),a||(a=this._transport.getOptionalContentConfig(p));let w=this._intentStates.get(m);w||(w=Object.create(null),this._intentStates.set(m,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const E=!!(p&gn.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(b=this._stats)==null||b.time("Page Request"),this._pumpOperatorList(f));const g=C=>{var k;w.renderTasks.delete(v),(this._maybeCleanupAfterRender||E)&&y(this,Ki,!0),A(this,Mn,ga).call(this,!E),C?(v.capability.reject(C),this._abortOperatorList({intentState:w,reason:C instanceof Error?C:new Error(C)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new zm({callback:g,params:{canvasContext:e,viewport:t,transform:r,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:u});(w.renderTasks||(w.renderTasks=new Set)).add(v);const _=v.task;return Promise.all([w.displayReadyCapability.promise,a]).then(([C,k])=>{var P;if(this.destroyed){g();return}if((P=this._stats)==null||P.time("Rendering"),!(k.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:C,optionalContentConfig:k}),v.operatorListChanged()}).catch(g),_}getOperatorList({intent:e="display",annotationMode:t=Ds.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var u;function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,i,s,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let c;return a.opListReadCapability||(c=Object.create(null),c.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>hu.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,s){function r(){o.read().then(function({value:c,done:u}){if(u){i(a);return}a.lang??(a.lang=c.lang),Object.assign(a.styles,c.styles),a.items.push(...c.items),r()},s)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),y(this,Ki,!1),A(this,Mn,Dd).call(this),Promise.all(e)}cleanup(e=!1){y(this,Ki,!0);const t=A(this,Mn,ga).call(this,!1);return e&&t&&this._stats&&(this._stats=new sw),t}_startRenderPage(e,t){var s,r;const i=this._intentStates.get(t);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let i=0,s=e.length;i<s;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&A(this,Mn,ga).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:s}){const{map:r,transfer:o}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:s},o).getReader(),u=this._intentStates.get(t);u.streamReader=c;const h=()=>{c.read().then(({value:d,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,u),h())},d=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();A(this,Mn,ga).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(d);else if(u.opListReadCapability)u.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof bv){let s=RP;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new ra(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Js=new WeakMap,Ki=new WeakMap,Mn=new WeakSet,ga=function(e=!1){if(A(this,Mn,Dd).call(this),!l(this,Ki)||this.destroyed)return!1;if(e)return y(this,Js,setTimeout(()=>{y(this,Js,null),A(this,Mn,ga).call(this,!1)},LP)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),y(this,Ki,!1),!0},Dd=function(){l(this,Js)&&(clearTimeout(l(this,Js)),y(this,Js,null))};var Qi,Vf;class BP{constructor(){x(this,Qi,new Map);x(this,Vf,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};l(this,Vf).then(()=>{for(const[s]of l(this,Qi))s.call(this,i)})}addEventListener(e,t,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){ie("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);s=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}l(this,Qi).set(t,s)}removeEventListener(e,t){const i=l(this,Qi).get(t);i==null||i(),l(this,Qi).delete(t)}terminate(){for(const[,e]of l(this,Qi))e==null||e();l(this,Qi).clear()}}Qi=new WeakMap,Vf=new WeakMap;var Gf,yo,vo,ul,Od,hl,jd;const Pe=class Pe{constructor({name:e=null,port:t=null,verbosity:i=wT()}={}){x(this,ul);var s;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=l(Pe,vo))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(l(Pe,vo)||y(Pe,vo,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return It?Promise.all([br.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Cc("main","worker",e),this._messageHandler.on("ready",function(){}),A(this,ul,Od).call(this)}_initialize(){if(l(Pe,yo)||l(Pe,hl,jd)){this._setupFakeWorker();return}let{workerSrc:e}=Pe;try{Pe._isSameOrigin(window.location.href,e)||(e=Pe._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Cc("main","worker",t),s=()=>{r.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:r.signal}),i.on("test",a=>{if(r.abort(),this.destroyed||!a){s();return}this._messageHandler=i,this._port=t,this._webWorker=t,A(this,ul,Od).call(this)}),i.on("ready",a=>{if(r.abort(),this.destroyed){s();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{yp("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){l(Pe,yo)||(ie("Setting up fake worker."),y(Pe,yo,!0)),Pe._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new BP;this._port=t;const i=`fake${Dt(Pe,Gf)._++}`,s=new Cc(i+"_worker",i,t);e.setup(s,t),this._messageHandler=new Cc(i,i+"_worker",t),A(this,ul,Od).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=l(Pe,vo))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=l(this,vo))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Pe(e)}static get workerSrc(){if(fs.workerSrc)return fs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ce(this,"_setupFakeWorkerGlobal",(async()=>l(this,hl,jd)?l(this,hl,jd):(await import(this.workerSrc)).WorkerMessageHandler)())}};Gf=new WeakMap,yo=new WeakMap,vo=new WeakMap,ul=new WeakSet,Od=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},hl=new WeakSet,jd=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},x(Pe,hl),x(Pe,Gf,0),x(Pe,yo,!1),x(Pe,vo),It&&(y(Pe,yo,!0),fs.workerSrc||(fs.workerSrc="./pdf.worker.mjs")),Pe._isSameOrigin=(e,t)=>{let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}const s=new URL(t,i);return i.origin===s.origin},Pe._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let ja=Pe;var Ji,Si,dl,fl,bi,wo,kc;class $P{constructor(e,t,i,s,r){x(this,wo);x(this,Ji,new Map);x(this,Si,new Map);x(this,dl,new Map);x(this,fl,new Map);x(this,bi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new oE,this.fontLoader=new HT({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ce(this,"annotationStorage",new Pv)}getRenderingIntent(e,t=Ds.ENABLE,i=null,s=!1,r=!1){let o=gn.DISPLAY,a=Cm;switch(e){case"any":o=gn.ANY;break;case"display":break;case"print":o=gn.PRINT;break;default:ie(`getRenderingIntent - invalid intent: ${e}`)}const c=o&gn.PRINT&&i instanceof Ox?i:this.annotationStorage;switch(t){case Ds.DISABLE:o+=gn.ANNOTATIONS_DISABLE;break;case Ds.ENABLE:break;case Ds.ENABLE_FORMS:o+=gn.ANNOTATIONS_FORMS;break;case Ds.ENABLE_STORAGE:o+=gn.ANNOTATIONS_STORAGE,a=c.serializable;break;default:ie(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(o+=gn.IS_EDITING),r&&(o+=gn.OPLIST);const{ids:u,hash:h}=c.modifiedIds,d=[o,a.hash,h];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=l(this,bi))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of l(this,Si).values())e.push(s._destroy());l(this,Si).clear(),l(this,dl).clear(),l(this,fl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),l(this,Ji).clear(),this.filterFactory.destroy(),Fm.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new ra("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,s)=>{nt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){s.close();return}nt(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:o}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:o}}),e.on("GetRangeReader",(i,s)=>{nt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:o,done:a}){if(a){s.close();return}nt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{r.cancel(o),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new HP(i,this))}),e.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new sm(i.message,i.code);break;case"InvalidPDFException":s=new cx(i.message);break;case"MissingPDFException":s=new sa(i.message);break;case"UnexpectedResponseException":s=new vp(i.message,i.status);break;case"UnknownErrorException":s=new rm(i.message,i.details);break;default:Ce("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",i=>{if(y(this,bi,Promise.withResolvers()),t.onPassword){const s=r=>{r instanceof Error?l(this,bi).reject(r):l(this,bi).resolve({password:r})};try{t.onPassword(s,i.code)}catch(r){l(this,bi).reject(r)}}else l(this,bi).reject(new sm(i.message,i.code));return l(this,bi).promise}),e.on("DataLoaded",i=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;l(this,Si).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,r])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":const{disableFontFace:a,fontExtraProperties:c,pdfBug:u}=this._params;if("error"in r){const p=r.error;ie(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const h=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new zT(r,{disableFontFace:a,inspectFont:h});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=r;nt(f,"The imageRef must be defined.");for(const p of l(this,Si).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([i,s,r,o])=>{var c;if(this.destroyed)return;const a=l(this,Si).get(s);if(!a.objs.has(i)){if(a._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(r){case"Image":a.objs.resolve(i,o),(o==null?void 0:o.dataLen)>pT&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",i=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),e.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ie("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=l(this,dl).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&l(this,fl).set(r.refStr,e);const o=new zP(t,r,this,this._params.pdfBug);return l(this,Si).set(t,o),o});return l(this,dl).set(t,s),s}getPageIndex(e){return vw(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,wo,kc).call(this,"GetFieldObjects")}hasJSActions(){return A(this,wo,kc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,wo,kc).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,wo,kc).call(this,"GetOptionalContentConfig").then(t=>new lP(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,Ji).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(s=>{var r,o;return{info:s[0],metadata:s[1]?new oP(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return l(this,Ji).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,Si).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,Ji).clear(),this.filterFactory.destroy(!0),Fm.cleanup()}}cachedPageNumber(e){if(!vw(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,fl).get(t)??null}}Ji=new WeakMap,Si=new WeakMap,dl=new WeakMap,fl=new WeakMap,bi=new WeakMap,wo=new WeakSet,kc=function(e,t=null){const i=l(this,Ji).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,t);return l(this,Ji).set(e,s),s};const ud=Symbol("INITIAL_DATA");var Kn,Yu,Hm;class oE{constructor(){x(this,Yu);x(this,Kn,Object.create(null))}get(e,t=null){if(t){const s=A(this,Yu,Hm).call(this,e);return s.promise.then(()=>t(s.data)),null}const i=l(this,Kn)[e];if(!i||i.data===ud)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=l(this,Kn)[e];return!!t&&t.data!==ud}resolve(e,t=null){const i=A(this,Yu,Hm).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in l(this,Kn)){const{data:i}=l(this,Kn)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}y(this,Kn,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,Kn)){const{data:t}=l(this,Kn)[e];t!==ud&&(yield[e,t])}}}Kn=new WeakMap,Yu=new WeakSet,Hm=function(e){var t;return(t=l(this,Kn))[e]||(t[e]={...Promise.withResolvers(),data:ud})};var Zs;class UP{constructor(e){x(this,Zs,null);y(this,Zs,e),this.onContinue=null}get promise(){return l(this,Zs).capability.promise}cancel(e=0){l(this,Zs).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,Zs).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,Zs);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Zs=new WeakMap;var er,Ao;const Br=class Br{constructor({callback:e,params:t,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:o,pageIndex:a,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null}){x(this,er,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new UP(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,c;if(this.cancelled)return;if(this._canvas){if(l(Br,Ao).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Br,Ao).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:r,background:o}=this.params;this.gfx=new Oa(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:s,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),l(this,er)&&(window.cancelAnimationFrame(l(this,er)),y(this,er,null)),l(Br,Ao).delete(this._canvas),this.callback(e||new bv(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?y(this,er,window.requestAnimationFrame(()=>{y(this,er,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Br,Ao).delete(this._canvas),this.callback())))}};er=new WeakMap,Ao=new WeakMap,x(Br,Ao,new WeakSet);let zm=Br;const WP="4.8.69",VP="3634dab10";function ww(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function fc(n){return Math.max(0,Math.min(255,255*n))}class Aw{static CMYK_G([e,t,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=fc(e),[e,e,e]}static G_HTML([e]){const t=ww(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(fc)}static RGB_HTML(e){return`#${e.map(ww).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,i,s]){return[fc(1-Math.min(1,e+s)),fc(1-Math.min(1,i+s)),fc(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const s=1-e,r=1-t,o=1-i,a=Math.min(s,r,o);return["CMYK",s,r,o,a]}}class GP{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ce("Abstract method `_createSVG` called.")}}class Nv extends GP{_createSVG(e){return document.createElementNS(ji,e)}}class aE{static setupStorage(e,t,i,s,r){const o=s.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),r==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",a=>{s.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),r==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const c=a.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:s,linkService:r}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}a&&r.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var d,f;const t=e.annotationStorage,i=e.linkService,s=e.xfaHtml,r=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:r,linkService:i});const a=r!=="richText",c=e.div;if(c.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}a&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);o.append(p),a&&hu.shouldBuildText(s.name)&&u.push(p)}return{textDivs:u}}const h=[[s,-1,o]];for(;h.length>0;){const[p,m,w]=h.at(-1);if(m+1===p.children.length){h.pop();continue}const E=p.children[++h.at(-1)[1]];if(E===null)continue;const{name:g}=E;if(g==="#text"){const _=document.createTextNode(E.value);u.push(_),w.append(_);continue}const v=(d=E==null?void 0:E.attributes)!=null&&d.xmlns?document.createElementNS(E.attributes.xmlns,g):document.createElement(g);if(w.append(v),E.attributes&&this.setAttributes({html:v,element:E,storage:t,intent:r,linkService:i}),((f=E.children)==null?void 0:f.length)>0)h.push([E,-1,v]);else if(E.value){const _=document.createTextNode(E.value);a&&hu.shouldBuildText(g)&&u.push(_),v.append(_)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Oh=1e3,XP=9,Qo=new WeakSet;function vs(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class YP{static create(e){switch(e.data.annotationType){case Qe.LINK:return new lE(e);case Qe.TEXT:return new qP(e);case Qe.WIDGET:switch(e.data.fieldType){case"Tx":return new KP(e);case"Btn":return e.data.radioButton?new hE(e):e.data.checkBox?new JP(e):new ZP(e);case"Ch":return new eR(e);case"Sig":return new QP(e)}return new oa(e);case Qe.POPUP:return new $m(e);case Qe.FREETEXT:return new mE(e);case Qe.LINE:return new nR(e);case Qe.SQUARE:return new iR(e);case Qe.CIRCLE:return new sR(e);case Qe.POLYLINE:return new yE(e);case Qe.CARET:return new oR(e);case Qe.INK:return new Fv(e);case Qe.POLYGON:return new rR(e);case Qe.HIGHLIGHT:return new vE(e);case Qe.UNDERLINE:return new aR(e);case Qe.SQUIGGLY:return new lR(e);case Qe.STRIKEOUT:return new cR(e);case Qe.STAMP:return new wE(e);case Qe.FILEATTACHMENT:return new uR(e);default:return new Ve(e)}}}var _o,pl,gl,qu,Bm;const jv=class jv{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){x(this,qu);x(this,_o,null);x(this,pl,!1);x(this,gl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return jv._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;l(this,_o)||y(this,_o,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,qu,Bm).call(this,t),(i=l(this,gl))==null||i.popup.updateEdited(e)}resetEdited(){var e;l(this,_o)&&(A(this,qu,Bm).call(this,l(this,_o).rect),(e=l(this,gl))==null||e.popup.resetEdited(),y(this,_o,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof oa||(r.tabIndex=Oh);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof $m){const{rotation:w}=t;return!t.hasOwnCanvas&&w!==0&&this.setRotation(w,r),r}const{width:a,height:c}=vs(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const w=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(w>0||E>0){const v=`calc(${w}px * var(--scale-factor)) / calc(${E}px * var(--scale-factor))`;o.borderRadius=v}else if(this instanceof hE){const v=`calc(${a}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;o.borderRadius=v}switch(t.borderStyle.style){case hc.SOLID:o.borderStyle="solid";break;case hc.DASHED:o.borderStyle="dashed";break;case hc.BEVELED:ie("Unimplemented border style: beveled");break;case hc.INSET:ie("Unimplemented border style: inset");break;case hc.UNDERLINE:o.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(y(this,pl,!0),o.borderColor=$.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const u=$.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=s.rawDims;o.left=`${100*(u[0]-f)/h}%`,o.top=`${100*(u[1]-p)/d}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(o.width=`${100*a/h}%`,o.height=`${100*c/d}%`):this.setRotation(m,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims,{width:r,height:o}=vs(this.data.rect);let a,c;e%180===0?(a=100*r/i,c=100*o/s):(a=100*o/i,c=100*r/s),t.style.width=`${a}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,s)=>{const r=s.detail[t],o=r[0],a=r.slice(1);s.target.style[i]=Aw[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:Aw[`${o}_rgb`](a)})};return ce(this,"_commonActions",{display:t=>{const{display:i}=t.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const s of Object.keys(t.detail)){const r=e[s]||i[s];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[s,r]of Object.entries(t)){const o=i[s];if(o){const a={detail:{[s]:r},target:e};o(a),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,s,r]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,E,g,v]=e.subarray(2,6);if(s===w&&r===E&&t===g&&i===v)return}const{style:o}=this.container;let a;if(l(this,pl)){const{borderColor:w,borderWidth:E}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const c=s-t,u=r-i,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let w=2,E=e.length;w<E;w+=8){const g=e[w],v=e[w+1],_=e[w+2],S=e[w+3],b=h.createElement("rect"),C=(_-t)/c,k=(r-v)/u,P=(g-_)/c,M=(v-S)/u;b.setAttribute("x",C),b.setAttribute("y",k),b.setAttribute("width",P),b.setAttribute("height",M),p.append(b),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${k}" width="${P}" height="${M}"/>`)}l(this,pl)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,t=y(this,gl,new $m({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Ce("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:r,id:o,exportValues:a}of s){if(r===-1||o===t)continue;const c=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Qo.has(u)){ie(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:c,domElement:u})}return i}for(const s of document.getElementsByName(e)){const{exportValue:r}=s,o=s.getAttribute("data-element-id");o!==t&&Qo.has(s)&&i.push({id:o,exportValue:r,domElement:s})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};_o=new WeakMap,pl=new WeakMap,gl=new WeakMap,qu=new WeakSet,Bm=function(e){const{container:{style:t},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:c}}}}=this;i==null||i.splice(0,4,...e);const{width:u,height:h}=vs(e);t.left=`${100*(e[0]-a)/r}%`,t.top=`${100*(o-e[3]+c)/o}%`,s===0?(t.width=`${100*u/r}%`,t.height=`${100*h/o}%`):this.setRotation(s)};let Ve=jv;var yn,Dr,cE,uE;class lE extends Ve{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});x(this,yn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let r=!1;return t.url?(i.addLinkAttributes(s,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(s,t.action),r=!0):t.attachment?(A(this,yn,cE).call(this,s,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(A(this,yn,uE).call(this,s,t.setOCGState),r=!0):t.dest?(this._bindLink(s,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),r=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&A(this,yn,Dr).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),A(this,yn,Dr).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=s.get(r);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,yn,Dr).call(this)}_bindResetFormAction(t,i){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),A(this,yn,Dr).call(this),!this._fieldObjects){ie('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var d;s==null||s();const{fields:r,refs:o,include:a}=i,c=[];if(r.length!==0||o.length!==0){const f=new Set(o);for(const p of r){const m=this._fieldObjects[p]||[];for(const{id:w}of m)f.add(w)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&c.push(m)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,h=[];for(const f of c){const{id:p}=f;switch(h.push(p),f.type){case"text":{const w=f.defaultValue||"";u.setValue(p,{value:w});break}case"checkbox":case"radiobutton":{const w=f.defaultValue===f.exportValues;u.setValue(p,{value:w});break}case"combobox":case"listbox":{const w=f.defaultValue||"";u.setValue(p,{value:w});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!Qo.has(m)){ie(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}yn=new WeakSet,Dr=function(){this.container.setAttribute("data-internal-link","")},cE=function(t,i,s=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(i.content,i.filename,s),!1},A(this,yn,Dr).call(this)},uE=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),A(this,yn,Dr).call(this)};class qP extends Ve{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class oa extends Ve{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return $t.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,s,r){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}r&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(o)}}))})}_setEventListeners(e,t,i,s){var r,o,a;for(const[c,u]of i)(u==="Action"||(r=this.data.actions)!=null&&r[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,s),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":$.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||XP,r=e.style;let o;const a=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(u/(ig*s))||1,d=u/h;o=Math.min(s,c(d/ig))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(s,c(u/ig))}r.fontSize=`calc(${o}px * var(--scale-factor))`,r.color=$.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class KP extends oa{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,s){const r=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),r.setValue(o.id,{[s]:i})}render(){var s,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&a.length>c&&(a=a.slice(0,c));let u=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",u??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Qo.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Oh,this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=h.userValue=p,h.formattedValue=null});let d=f=>{const{formattedValue:p}=h;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var w;if(h.focused)return;const{target:m}=p;h.userValue&&(m.value=h.userValue),h.lastCommittedValue=m.value,h.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(w){h.userValue=w.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:E}=w.detail;h.formattedValue=E,E!=null&&w.target!==document.activeElement&&(w.target.value=E),e.setValue(t,{formattedValue:E})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var _;const{charLimit:E}=w.detail,{target:g}=w;if(E===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",E);let v=h.userValue;!v||v.length<=E||(v=v.slice(0,E),g.value=h.userValue=v,e.setValue(t,{value:v}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),i.addEventListener("keydown",p=>{var E;h.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(h.commitKey=3),m===-1)return;const{value:w}=p.target;h.lastCommittedValue!==w&&(h.lastCommittedValue=w,h.userValue=w,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var w,E;if(!h.focused||!p.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(h.focused=!1);const{value:m}=p.target;h.userValue=m,h.lastCommittedValue!==m&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",p=>{var b;h.lastCommittedValue=null;const{data:m,target:w}=p,{value:E,selectionStart:g,selectionEnd:v}=w;let _=g,S=v;switch(p.inputType){case"deleteWordBackward":{const C=E.substring(0,g).match(/\w*[^\w]*$/);C&&(_-=C[0].length);break}case"deleteWordForward":{const C=E.substring(g).match(/^[^\w]*\w*/);C&&(S+=C[0].length);break}case"deleteContentBackward":g===v&&(_-=1);break;case"deleteContentForward":g===v&&(S+=1);break}p.preventDefault(),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:m||"",willCommit:!1,selStart:_,selEnd:S}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class QP extends oa{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class JP extends oa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Qo.add(r),r.setAttribute("data-element-id",i),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=Oh,r.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,i)){const h=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(i,{value:c})}),r.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const a={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hE extends oa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(i,{value:s})),s)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const r=document.createElement("input");if(Qo.add(r),r.setAttribute("data-element-id",i),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=Oh,r.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:c})}),r.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;r.addEventListener("updatefromsandbox",a=>{const c={value:u=>{const h=o===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=h&&d.id===i;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class ZP extends lE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class eR extends oa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Qo.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Oh;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,i.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),r=!1),s.append(d)}let o=null;if(r){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),o=()=>{h.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let c=a(!1);const u=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const d={value(f){o==null||o();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const w of s.options)w.selected=m.has(w.value);e.setValue(t,{value:a(!0)}),c=a(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,m=f.detail.remove;p[m].selected=!1,s.remove(m),p.length>0&&Array.prototype.findIndex.call(p,E=>E.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),c=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:w}=f.detail.insert,E=s.children[p],g=document.createElement("option");g.textContent=m,g.value=w,E?E.before(g):s.append(g),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const m of p){const{displayValue:w,exportValue:E}=m,g=document.createElement("option");g.textContent=w,g.value=E,s.append(g)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(t,{value:a(!0)}),c=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),s.addEventListener("input",h=>{var p;const d=a(!0),f=a(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class $m extends Ve{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:Ve._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new tR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${Sv}${i}`).join(",")),this.container}}var ml,Xf,Yf,yl,xo,ze,Zi,vl,Ku,Qu,wl,es,Qn,ts,Ju,ns,Zu,Eo,So,Ae,Hd,Um,dE,fE,pE,gE,zd,Bd,Wm;class tR{constructor({container:e,color:t,elements:i,titleObj:s,modificationDate:r,contentsObj:o,richText:a,parent:c,rect:u,parentRect:h,open:d}){x(this,Ae);x(this,ml,A(this,Ae,pE).bind(this));x(this,Xf,A(this,Ae,Wm).bind(this));x(this,Yf,A(this,Ae,Bd).bind(this));x(this,yl,A(this,Ae,zd).bind(this));x(this,xo,null);x(this,ze,null);x(this,Zi,null);x(this,vl,null);x(this,Ku,null);x(this,Qu,null);x(this,wl,null);x(this,es,!1);x(this,Qn,null);x(this,ts,null);x(this,Ju,null);x(this,ns,null);x(this,Zu,null);x(this,Eo,null);x(this,So,!1);var f;y(this,ze,e),y(this,Zu,s),y(this,Zi,o),y(this,ns,a),y(this,Qu,c),y(this,xo,t),y(this,Ju,u),y(this,wl,h),y(this,Ku,i),y(this,vl,kv.toDateObject(r)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",l(this,yl)),p.addEventListener("mouseenter",l(this,Yf)),p.addEventListener("mouseleave",l(this,Xf)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",l(this,ml));l(this,ze).hidden=!0,d&&A(this,Ae,zd).call(this)}render(){if(l(this,Qn))return;const e=y(this,Qn,document.createElement("div"));if(e.className="popup",l(this,xo)){const r=e.style.outlineColor=$.makeHexColor(...l(this,xo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:e.style.backgroundColor=$.makeHexColor(...l(this,xo).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=l(this,Zu),e.append(t),l(this,vl)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,vl).valueOf()})),t.append(r)}const s=l(this,Ae,Hd);if(s)aE.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(l(this,Zi));e.append(r)}l(this,ze).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let r=0,o=s.length;r<o;++r){const a=s[r];i.append(document.createTextNode(a)),r<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;l(this,Eo)||y(this,Eo,{contentsObj:l(this,Zi),richText:l(this,ns)}),e&&y(this,ts,null),t&&(y(this,ns,A(this,Ae,fE).call(this,t)),y(this,Zi,null)),(i=l(this,Qn))==null||i.remove(),y(this,Qn,null)}resetEdited(){var e;l(this,Eo)&&({contentsObj:Dt(this,Zi)._,richText:Dt(this,ns)._}=l(this,Eo),y(this,Eo,null),(e=l(this,Qn))==null||e.remove(),y(this,Qn,null),y(this,ts,null))}forceHide(){y(this,So,this.isVisible),l(this,So)&&(l(this,ze).hidden=!0)}maybeShow(){l(this,So)&&(l(this,Qn)||A(this,Ae,Bd).call(this),y(this,So,!1),l(this,ze).hidden=!1)}get isVisible(){return l(this,ze).hidden===!1}}ml=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,yl=new WeakMap,xo=new WeakMap,ze=new WeakMap,Zi=new WeakMap,vl=new WeakMap,Ku=new WeakMap,Qu=new WeakMap,wl=new WeakMap,es=new WeakMap,Qn=new WeakMap,ts=new WeakMap,Ju=new WeakMap,ns=new WeakMap,Zu=new WeakMap,Eo=new WeakMap,So=new WeakMap,Ae=new WeakSet,Hd=function(){const e=l(this,ns),t=l(this,Zi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,ns).html||null},Um=function(){var e,t,i;return((i=(t=(e=l(this,Ae,Hd))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},dE=function(){var e,t,i;return((i=(t=(e=l(this,Ae,Hd))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},fE=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:l(this,Ae,dE),fontSize:l(this,Ae,Um)?`calc(${l(this,Ae,Um)}px * var(--scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:s});return i},pE=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,es))&&A(this,Ae,zd).call(this)},gE=function(){if(l(this,ts)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:s,pageY:r}}}=l(this,Qu);let o=!!l(this,wl),a=o?l(this,wl):l(this,Ju);for(const m of l(this,Ku))if(!a||$.intersect(m.data.rect,a)!==null){a=m.data.rect,o=!0;break}const c=$.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,d=c[0]+h,f=c[1];y(this,ts,[100*(d-s)/t,100*(f-r)/i]);const{style:p}=l(this,ze);p.left=`${l(this,ts)[0]}%`,p.top=`${l(this,ts)[1]}%`},zd=function(){y(this,es,!l(this,es)),l(this,es)?(A(this,Ae,Bd).call(this),l(this,ze).addEventListener("click",l(this,yl)),l(this,ze).addEventListener("keydown",l(this,ml))):(A(this,Ae,Wm).call(this),l(this,ze).removeEventListener("click",l(this,yl)),l(this,ze).removeEventListener("keydown",l(this,ml)))},Bd=function(){l(this,Qn)||this.render(),this.isVisible?l(this,es)&&l(this,ze).classList.add("focused"):(A(this,Ae,gE).call(this),l(this,ze).hidden=!1,l(this,ze).style.zIndex=parseInt(l(this,ze).style.zIndex)+1e3)},Wm=function(){l(this,ze).classList.remove("focused"),!(l(this,es)||!this.isVisible)&&(l(this,ze).hidden=!0,l(this,ze).style.zIndex=parseInt(l(this,ze).style.zIndex)-1e3)};class mE extends Ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=te.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var eh;class nR extends Ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,eh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:s}=vs(t.rect),r=this.svgFactory.create(i,s,!0),o=y(this,eh,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,eh)}addHighlightArea(){this.container.classList.add("highlightArea")}}eh=new WeakMap;var th;class iR extends Ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,th,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:s}=vs(t.rect),r=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,a=y(this,th,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",s-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,th)}addHighlightArea(){this.container.classList.add("highlightArea")}}th=new WeakMap;var nh;class sR extends Ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,nh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:s}=vs(t.rect),r=this.svgFactory.create(i,s,!0),o=t.borderStyle.width,a=y(this,nh,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",s/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",s/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,nh)}addHighlightArea(){this.container.classList.add("highlightArea")}}nh=new WeakMap;var ih;class yE extends Ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,ih,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:s,popupRef:r}}=this;if(!i)return this.container;const{width:o,height:a}=vs(t),c=this.svgFactory.create(o,a,!0);let u=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-t[0],m=t[3]-i[d+1];u.push(`${p},${m}`)}u=u.join(" ");const h=y(this,ih,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,ih)}addHighlightArea(){this.container.classList.add("highlightArea")}}ih=new WeakMap;class rR extends yE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oR extends Ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var sh;class Fv extends Ve{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});x(this,sh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?te.HIGHLIGHT:te.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:i,borderStyle:s,popupRef:r}}=this,{width:o,height:a}=vs(t),c=this.svgFactory.create(o,a,!0);for(const u of i){let h=[];for(let f=0,p=u.length;f<p;f+=2){const m=u[f]-t[0],w=t[3]-u[f+1];h.push(`${m},${w}`)}h=h.join(" ");const d=this.svgFactory.createElement(this.svgElementName);l(this,sh).push(d),d.setAttribute("points",h),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return l(this,sh)}addHighlightArea(){this.container.classList.add("highlightArea")}}sh=new WeakMap;class vE extends Ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=te.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class aR extends Ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class lR extends Ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class cR extends Ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class wE extends Ve{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=te.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var rh,oh,Vm;class uR extends Ve{constructor(t){var s;super(t,{isRenderable:!0});x(this,oh);x(this,rh,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",A(this,oh,Vm).bind(this)),y(this,rh,s);const{isMac:r}=$t.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&A(this,oh,Vm).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return l(this,rh)}addHighlightArea(){this.container.classList.add("highlightArea")}}rh=new WeakMap,oh=new WeakSet,Vm=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var ah,bo,Co,lh,Zo,AE,Gm,Mw;let hR=(Mw=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:o,structTreeLayer:a}){x(this,Zo);x(this,ah,null);x(this,bo,null);x(this,Co,new Map);x(this,lh,null);this.div=e,y(this,ah,t),y(this,bo,i),y(this,lh,a||null),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return l(this,Co).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;qo(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Nv,annotationStorage:e.annotationStorage||new Pv,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const c=a.annotationType===Qe.POPUP;if(c){const d=s.get(a.id);if(!d)continue;r.elements=d}else{const{width:d,height:f}=vs(a.rect);if(d<=0||f<=0)continue}r.data=a;const u=YP.create(r);if(!u.isRenderable)continue;if(!c&&a.popupRef){const d=s.get(a.popupRef);d?d.push(u):s.set(a.popupRef,[u])}const h=u.render();a.hidden&&(h.style.visibility="hidden"),await A(this,Zo,AE).call(this,h,a.id),u._isEditable&&(l(this,Co).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}A(this,Zo,Gm).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,qo(t,{rotation:e.rotation}),A(this,Zo,Gm).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,Co).values())}getEditableAnnotation(e){return l(this,Co).get(e)}},ah=new WeakMap,bo=new WeakMap,Co=new WeakMap,lh=new WeakMap,Zo=new WeakSet,AE=async function(e,t){var o,a;const i=e.firstChild||e,s=i.id=`${Sv}${t}`,r=await((o=l(this,lh))==null?void 0:o.getAriaAttributes(s));if(r)for(const[c,u]of r)i.setAttribute(c,u);this.div.append(e),(a=l(this,ah))==null||a.moveElementInDOM(this.div,e,i,!1)},Gm=function(){if(!l(this,bo))return;const e=this.div;for(const[t,i]of l(this,bo)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:r}=s;r?r.nodeName==="CANVAS"?r.replaceWith(i):r.classList.contains("annotationContent")?r.after(i):r.before(i):s.append(i)}l(this,bo).clear()},Mw);const hd=/\r\n?|\n/g;var Jn,cn,ch,ko,un,Ke,_E,xE,EE,$d,As,Ud,Wd,SE,Ym,bE;const Ee=class Ee extends ye{constructor(t){super({...t,name:"freeTextEditor"});x(this,Ke);x(this,Jn);x(this,cn,"");x(this,ch,`${this.id}-editor`);x(this,ko,null);x(this,un);y(this,Jn,t.color||Ee._defaultColor||ye._defaultLineColor),y(this,un,t.fontSize||Ee._defaultFontSize)}static get _keyboardManager(){const t=Ee.prototype,i=o=>o.isEmpty(),s=Ko.TRANSLATE_SMALL,r=Ko.TRANSLATE_BIG;return ce(this,"_keyboardManager",new Dh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(t,i){ye.initialize(t,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case q.FREETEXT_SIZE:Ee._defaultFontSize=i;break;case q.FREETEXT_COLOR:Ee._defaultColor=i;break}}updateParams(t,i){switch(t){case q.FREETEXT_SIZE:A(this,Ke,_E).call(this,i);break;case q.FREETEXT_COLOR:A(this,Ke,xE).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[q.FREETEXT_SIZE,Ee._defaultFontSize],[q.FREETEXT_COLOR,Ee._defaultColor||ye._defaultLineColor]]}get propertiesToUpdate(){return[[q.FREETEXT_SIZE,l(this,un)],[q.FREETEXT_COLOR,l(this,Jn)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ee._internalPadding*t,-(Ee._internalPadding+l(this,un))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(te.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),y(this,ko,new AbortController);const t=this._uiManager.combinedSignal(l(this,ko));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,ch)),this._isDraggable=!0,(t=l(this,ko))==null||t.abort(),y(this,ko,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,cn),i=y(this,cn,A(this,Ke,EE).call(this).trimEnd());if(t===i)return;const s=r=>{if(y(this,cn,r),!r){this.remove();return}A(this,Ke,Wd).call(this),this._uiManager.rebuild(this),A(this,Ke,$d).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(t)},mustExec:!1}),A(this,Ke,$d).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ee._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,ch)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${l(this,un)}px * var(--scale-factor))`,s.color=l(this,Jn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Pf(this,this.div,["dblclick","keydown"]),this.width){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let m,w;switch(this.rotation){case 0:m=t+(a[0]-f)/h,w=i+this.height-(a[1]-p)/d;break;case 90:m=t+(a[0]-f)/h,w=i-(a[1]-p)/d,[c,u]=[u,-c];break;case 180:m=t-this.width+(a[0]-f)/h,w=i-(a[1]-p)/d,[c,u]=[-c,-u];break;case 270:m=t+(a[0]-f-this.height*d)/h,w=i+(a[1]-p-this.width*h)/d,[c,u]=[-u,c];break}this.setAt(m*r,w*o,c,u)}else this.setAt(t*r,i*o,this.width*r,this.height*o);A(this,Ke,Wd).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,w,E;const i=t.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const r=A(m=Ee,As,Ym).call(m,i.getData("text")||"").replaceAll(hd,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=a,h=[],d=[];if(c.nodeType===Node.TEXT_NODE){const g=c.parentElement;if(d.push(c.nodeValue.slice(u).replaceAll(hd,"")),g!==this.editorDiv){let v=h;for(const _ of this.editorDiv.childNodes){if(_===g){v=d;continue}v.push(A(w=Ee,As,Ud).call(w,_))}}h.push(c.nodeValue.slice(0,u).replaceAll(hd,""))}else if(c===this.editorDiv){let g=h,v=0;for(const _ of this.editorDiv.childNodes)v++===u&&(g=d),g.push(A(E=Ee,As,Ud).call(E,_))}y(this,cn,`${h.join(`
`)}${r}${d.join(`
`)}`),A(this,Ke,Wd).call(this);const f=new Range;let p=h.reduce((g,v)=>g+v.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const v=g.nodeValue.length;if(p<=v){f.setStart(g,p),f.setEnd(g,p);break}p-=v}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,i,s){var a;let r=null;if(t instanceof mE){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:h,rotation:d,id:f,popupRef:p},textContent:m,textPosition:w,parent:{page:{pageNumber:E}}}=t;if(!m||m.length===0)return null;r=t={annotationType:te.FREETEXT,color:Array.from(u),fontSize:c,value:m.join(`
`),position:w,pageIndex:E-1,rect:h.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const o=await super.deserialize(t,i,s);return y(o,un,t.fontSize),y(o,Jn,$.makeHexColor(...t.color)),y(o,cn,A(a=Ee,As,Ym).call(a,t.value)),o.annotationElementId=t.id||null,o._initialData=r,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Ee._internalPadding*this.parentScale,s=this.getRect(i,i),r=ye._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:l(this,Jn)),o={annotationType:te.FREETEXT,color:r,fontSize:l(this,un),value:A(this,Ke,SE).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!A(this,Ke,bE).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${l(this,un)}px * var(--scale-factor))`,s.color=l(this,Jn),i.replaceChildren();for(const o of l(this,cn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),i.append(a)}const r=Ee._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:l(this,cn)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Jn=new WeakMap,cn=new WeakMap,ch=new WeakMap,ko=new WeakMap,un=new WeakMap,Ke=new WeakSet,_E=function(t){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-l(this,un))*this.parentScale),y(this,un,r),A(this,Ke,$d).call(this)},s=l(this,un);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:q.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xE=function(t){const i=r=>{y(this,Jn,this.editorDiv.style.color=r)},s=l(this,Jn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:q.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},EE=function(){var s;const t=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(t.push(A(s=Ee,As,Ud).call(s,r)),i=r);return t.join(`
`)},$d=function(){const[t,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,a=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/i):(this.width=s.height/t,this.height=s.width/i),this.fixAndSetPosition()},As=new WeakSet,Ud=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(hd,"")},Wd=function(){if(this.editorDiv.replaceChildren(),!!l(this,cn))for(const t of l(this,cn).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},SE=function(){return l(this,cn).replaceAll(""," ")},Ym=function(t){return t.replaceAll(" ","")},bE=function(t){const{value:i,fontSize:s,color:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==i||t.fontSize!==s||t.color.some((a,c)=>a!==r[c])||t.pageIndex!==o},x(Ee,As),Y(Ee,"_freeTextDefaultContent",""),Y(Ee,"_internalPadding",0),Y(Ee,"_defaultColor",null),Y(Ee,"_defaultFontSize",10),Y(Ee,"_type","freetext"),Y(Ee,"_editorType",te.FREETEXT);let Xm=Ee;class CE{toSVGPath(){Ce("Abstract method `toSVGPath` must be implemented.")}get box(){Ce("Abstract getter `box` must be implemented.")}serialize(e,t){Ce("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Ce("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Ce("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var hn,Zn,Al,_l,Ci,re,To,Po,uh,hh,xl,El,tr,dh,qf,Kf,st,Tc,kE,TE,PE,RE,LE,ME;const Bi=class Bi{constructor({x:e,y:t},i,s,r,o,a=0){x(this,st);x(this,hn);x(this,Zn,[]);x(this,Al);x(this,_l);x(this,Ci,[]);x(this,re,new Float64Array(18));x(this,To);x(this,Po);x(this,uh);x(this,hh);x(this,xl);x(this,El);x(this,tr,[]);y(this,hn,i),y(this,El,r*s),y(this,_l,o),l(this,re).set([NaN,NaN,NaN,NaN,e,t],6),y(this,Al,a),y(this,hh,l(Bi,dh)*s),y(this,uh,l(Bi,Kf)*s),y(this,xl,s),l(this,tr).push(e,t)}isEmpty(){return isNaN(l(this,re)[8])}add({x:e,y:t}){var M;y(this,To,e),y(this,Po,t);const[i,s,r,o]=l(this,hn);let[a,c,u,h]=l(this,re).subarray(8,12);const d=e-u,f=t-h,p=Math.hypot(d,f);if(p<l(this,uh))return!1;const m=p-l(this,hh),w=m/p,E=w*d,g=w*f;let v=a,_=c;a=u,c=h,u+=E,h+=g,(M=l(this,tr))==null||M.push(e,t);const S=-g/m,b=E/m,C=S*l(this,El),k=b*l(this,El);return l(this,re).set(l(this,re).subarray(2,8),0),l(this,re).set([u+C,h+k],4),l(this,re).set(l(this,re).subarray(14,18),12),l(this,re).set([u-C,h-k],16),isNaN(l(this,re)[6])?(l(this,Ci).length===0&&(l(this,re).set([a+C,c+k],2),l(this,Ci).push(NaN,NaN,NaN,NaN,(a+C-i)/r,(c+k-s)/o),l(this,re).set([a-C,c-k],14),l(this,Zn).push(NaN,NaN,NaN,NaN,(a-C-i)/r,(c-k-s)/o)),l(this,re).set([v,_,a,c,u,h],6),!this.isEmpty()):(l(this,re).set([v,_,a,c,u,h],6),Math.abs(Math.atan2(_-c,v-a)-Math.atan2(g,E))<Math.PI/2?([a,c,u,h]=l(this,re).subarray(2,6),l(this,Ci).push(NaN,NaN,NaN,NaN,((a+u)/2-i)/r,((c+h)/2-s)/o),[a,c,v,_]=l(this,re).subarray(14,18),l(this,Zn).push(NaN,NaN,NaN,NaN,((v+a)/2-i)/r,((_+c)/2-s)/o),!0):([v,_,a,c,u,h]=l(this,re).subarray(0,6),l(this,Ci).push(((v+5*a)/6-i)/r,((_+5*c)/6-s)/o,((5*a+u)/6-i)/r,((5*c+h)/6-s)/o,((a+u)/2-i)/r,((c+h)/2-s)/o),[u,h,a,c,v,_]=l(this,re).subarray(12,18),l(this,Zn).push(((v+5*a)/6-i)/r,((_+5*c)/6-s)/o,((5*a+u)/6-i)/r,((5*c+h)/6-s)/o,((a+u)/2-i)/r,((c+h)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,Ci),t=l(this,Zn);if(isNaN(l(this,re)[6])&&!this.isEmpty())return A(this,st,kE).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);A(this,st,PE).call(this,i);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return A(this,st,TE).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,s,r,o){return new IE(e,t,i,s,r,o)}getOutlines(){var d;const e=l(this,Ci),t=l(this,Zn),i=l(this,re),[s,r,o,a]=l(this,hn),c=new Float64Array((((d=l(this,tr))==null?void 0:d.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(l(this,tr)[f]-s)/o,c[f+1]=(l(this,tr)[f+1]-r)/a;if(c[c.length-2]=(l(this,To)-s)/o,c[c.length-1]=(l(this,Po)-r)/a,isNaN(i[6])&&!this.isEmpty())return A(this,st,RE).call(this,c);const u=new Float64Array(l(this,Ci).length+24+l(this,Zn).length);let h=e.length;for(let f=0;f<h;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}h=A(this,st,ME).call(this,u,h);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[h]=u[h+1]=NaN,h+=2;continue}u[h]=t[f+p],u[h+1]=t[f+p+1],h+=2}return A(this,st,LE).call(this,u,h),this.newFreeDrawOutline(u,c,l(this,hn),l(this,xl),l(this,Al),l(this,_l))}};hn=new WeakMap,Zn=new WeakMap,Al=new WeakMap,_l=new WeakMap,Ci=new WeakMap,re=new WeakMap,To=new WeakMap,Po=new WeakMap,uh=new WeakMap,hh=new WeakMap,xl=new WeakMap,El=new WeakMap,tr=new WeakMap,dh=new WeakMap,qf=new WeakMap,Kf=new WeakMap,st=new WeakSet,Tc=function(){const e=l(this,re).subarray(4,6),t=l(this,re).subarray(16,18),[i,s,r,o]=l(this,hn);return[(l(this,To)+(e[0]-t[0])/2-i)/r,(l(this,Po)+(e[1]-t[1])/2-s)/o,(l(this,To)+(t[0]-e[0])/2-i)/r,(l(this,Po)+(t[1]-e[1])/2-s)/o]},kE=function(){const[e,t,i,s]=l(this,hn),[r,o,a,c]=A(this,st,Tc).call(this);return`M${(l(this,re)[2]-e)/i} ${(l(this,re)[3]-t)/s} L${(l(this,re)[4]-e)/i} ${(l(this,re)[5]-t)/s} L${r} ${o} L${a} ${c} L${(l(this,re)[16]-e)/i} ${(l(this,re)[17]-t)/s} L${(l(this,re)[14]-e)/i} ${(l(this,re)[15]-t)/s} Z`},TE=function(e){const t=l(this,Zn);e.push(`L${t[4]} ${t[5]} Z`)},PE=function(e){const[t,i,s,r]=l(this,hn),o=l(this,re).subarray(4,6),a=l(this,re).subarray(16,18),[c,u,h,d]=A(this,st,Tc).call(this);e.push(`L${(o[0]-t)/s} ${(o[1]-i)/r} L${c} ${u} L${h} ${d} L${(a[0]-t)/s} ${(a[1]-i)/r}`)},RE=function(e){const t=l(this,re),[i,s,r,o]=l(this,hn),[a,c,u,h]=A(this,st,Tc).call(this),d=new Float64Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-i)/r,(t[3]-s)/o,NaN,NaN,NaN,NaN,(t[4]-i)/r,(t[5]-s)/o,NaN,NaN,NaN,NaN,a,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(t[16]-i)/r,(t[17]-s)/o,NaN,NaN,NaN,NaN,(t[14]-i)/r,(t[15]-s)/o],0),this.newFreeDrawOutline(d,e,l(this,hn),l(this,xl),l(this,Al),l(this,_l))},LE=function(e,t){const i=l(this,Zn);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},ME=function(e,t){const i=l(this,re).subarray(4,6),s=l(this,re).subarray(16,18),[r,o,a,c]=l(this,hn),[u,h,d,f]=A(this,st,Tc).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-r)/a,(i[1]-o)/c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(s[0]-r)/a,(s[1]-o)/c],t),t+=24},x(Bi,dh,8),x(Bi,qf,2),x(Bi,Kf,l(Bi,dh)+l(Bi,qf));let Lf=Bi;var Sl,Ro,is,fh,dn,ph,Ue,tn,Pc,Rc,NE;class IE extends CE{constructor(t,i,s,r,o,a){super();x(this,tn);x(this,Sl);x(this,Ro,null);x(this,is);x(this,fh);x(this,dn);x(this,ph);x(this,Ue);y(this,Ue,t),y(this,dn,i),y(this,Sl,s),y(this,ph,r),y(this,is,o),y(this,fh,a),A(this,tn,NE).call(this,a);const{x:c,y:u,width:h,height:d}=l(this,Ro);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-c)/h,t[f+1]=(t[f+1]-u)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-c)/h,i[f+1]=(i[f+1]-u)/d}toSVGPath(){const t=[`M${l(this,Ue)[4]} ${l(this,Ue)[5]}`];for(let i=6,s=l(this,Ue).length;i<s;i+=6){if(isNaN(l(this,Ue)[i])){t.push(`L${l(this,Ue)[i+4]} ${l(this,Ue)[i+5]}`);continue}t.push(`C${l(this,Ue)[i]} ${l(this,Ue)[i+1]} ${l(this,Ue)[i+2]} ${l(this,Ue)[i+3]} ${l(this,Ue)[i+4]} ${l(this,Ue)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,s,r],o){const a=s-t,c=r-i;let u,h;switch(o){case 0:u=A(this,tn,Pc).call(this,l(this,Ue),t,r,a,-c),h=A(this,tn,Pc).call(this,l(this,dn),t,r,a,-c);break;case 90:u=A(this,tn,Rc).call(this,l(this,Ue),t,i,a,c),h=A(this,tn,Rc).call(this,l(this,dn),t,i,a,c);break;case 180:u=A(this,tn,Pc).call(this,l(this,Ue),s,i,-a,c),h=A(this,tn,Pc).call(this,l(this,dn),s,i,-a,c);break;case 270:u=A(this,tn,Rc).call(this,l(this,Ue),s,r,-a,-c),h=A(this,tn,Rc).call(this,l(this,dn),s,r,-a,-c);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return l(this,Ro)}newOutliner(t,i,s,r,o,a=0){return new Lf(t,i,s,r,o,a)}getNewOutline(t,i){const{x:s,y:r,width:o,height:a}=l(this,Ro),[c,u,h,d]=l(this,Sl),f=o*h,p=a*d,m=s*h+c,w=r*d+u,E=this.newOutliner({x:l(this,dn)[0]*f+m,y:l(this,dn)[1]*p+w},l(this,Sl),l(this,ph),t,l(this,fh),i??l(this,is));for(let g=2;g<l(this,dn).length;g+=2)E.add({x:l(this,dn)[g]*f+m,y:l(this,dn)[g+1]*p+w});return E.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Sl=new WeakMap,Ro=new WeakMap,is=new WeakMap,fh=new WeakMap,dn=new WeakMap,ph=new WeakMap,Ue=new WeakMap,tn=new WeakSet,Pc=function(t,i,s,r,o){const a=new Float64Array(t.length);for(let c=0,u=t.length;c<u;c+=2)a[c]=i+t[c]*r,a[c+1]=s+t[c+1]*o;return a},Rc=function(t,i,s,r,o){const a=new Float64Array(t.length);for(let c=0,u=t.length;c<u;c+=2)a[c]=i+t[c+1]*r,a[c+1]=s+t[c]*o;return a},NE=function(t){const i=l(this,Ue);let s=i[4],r=i[5],o=s,a=r,c=s,u=r,h=s,d=r;const f=t?Math.max:Math.min;for(let g=6,v=i.length;g<v;g+=6){if(isNaN(i[g]))o=Math.min(o,i[g+4]),a=Math.min(a,i[g+5]),c=Math.max(c,i[g+4]),u=Math.max(u,i[g+5]),d<i[g+5]?(h=i[g+4],d=i[g+5]):d===i[g+5]&&(h=f(h,i[g+4]));else{const _=$.bezierBoundingBox(s,r,...i.slice(g,g+6));o=Math.min(o,_[0]),a=Math.min(a,_[1]),c=Math.max(c,_[2]),u=Math.max(u,_[3]),d<_[3]?(h=_[2],d=_[3]):d===_[3]&&(h=f(h,_[2]))}s=i[g+4],r=i[g+5]}const p=o-l(this,is),m=a-l(this,is),w=c-o+2*l(this,is),E=u-a+2*l(this,is);y(this,Ro,{x:p,y:m,width:w,height:E,lastPoint:[h,d]})};var gh,nr,ei,Wt,FE,Vd,DE,OE,qm;class _w{constructor(e,t=0,i=0,s=!0){x(this,Wt);x(this,gh);x(this,nr,[]);x(this,ei,[]);let r=1/0,o=-1/0,a=1/0,c=-1/0;const h=10**-4;for(const{x:g,y:v,width:_,height:S}of e){const b=Math.floor((g-t)/h)*h,C=Math.ceil((g+_+t)/h)*h,k=Math.floor((v-t)/h)*h,P=Math.ceil((v+S+t)/h)*h,M=[b,k,P,!0],I=[C,k,P,!1];l(this,nr).push(M,I),r=Math.min(r,b),o=Math.max(o,C),a=Math.min(a,k),c=Math.max(c,P)}const d=o-r+2*i,f=c-a+2*i,p=r-i,m=a-i,w=l(this,nr).at(s?-1:-2),E=[w[0],w[2]];for(const g of l(this,nr)){const[v,_,S]=g;g[0]=(v-p)/d,g[1]=(_-m)/f,g[2]=(S-m)/f}y(this,gh,{x:p,y:m,width:d,height:f,lastPoint:E})}getOutlines(){l(this,nr).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of l(this,nr))t[3]?(e.push(...A(this,Wt,qm).call(this,t)),A(this,Wt,DE).call(this,t)):(A(this,Wt,OE).call(this,t),e.push(...A(this,Wt,qm).call(this,t)));return A(this,Wt,FE).call(this,e)}}gh=new WeakMap,nr=new WeakMap,ei=new WeakMap,Wt=new WeakSet,FE=function(e){const t=[],i=new Set;for(const o of e){const[a,c,u]=o;t.push([a,c,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const c=t[o][2],u=t[o+1][2];c.push(u),u.push(c),i.add(c),i.add(u)}const s=[];let r;for(;i.size>0;){const o=i.values().next().value;let[a,c,u,h,d]=o;i.delete(o);let f=a,p=c;for(r=[a,u],s.push(r);;){let m;if(i.has(h))m=h;else if(i.has(d))m=d;else break;i.delete(m),[a,c,u,h,d]=m,f!==a&&(r.push(f,p,a,p===c?c:u),f=a),p=p===c?u:c}r.push(f,p)}return new dR(s,l(this,gh))},Vd=function(e){const t=l(this,ei);let i=0,s=t.length-1;for(;i<=s;){const r=i+s>>1,o=t[r][0];if(o===e)return r;o<e?i=r+1:s=r-1}return s+1},DE=function([,e,t]){const i=A(this,Wt,Vd).call(this,e);l(this,ei).splice(i,0,[e,t])},OE=function([,e,t]){const i=A(this,Wt,Vd).call(this,e);for(let s=i;s<l(this,ei).length;s++){const[r,o]=l(this,ei)[s];if(r!==e)break;if(r===e&&o===t){l(this,ei).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,o]=l(this,ei)[s];if(r!==e)break;if(r===e&&o===t){l(this,ei).splice(s,1);return}}},qm=function(e){const[t,i,s]=e,r=[[t,i,s]],o=A(this,Wt,Vd).call(this,s);for(let a=0;a<o;a++){const[c,u]=l(this,ei)[a];for(let h=0,d=r.length;h<d;h++){const[,f,p]=r[h];if(!(u<=f||p<=c)){if(f>=c){if(p>u)r[h][1]=u;else{if(d===1)return[];r.splice(h,1),h--,d--}continue}r[h][2]=c,p>u&&r.push([t,u,p])}}}return r};var mh,bl;class dR extends CE{constructor(t,i){super();x(this,mh);x(this,bl);y(this,bl,t),y(this,mh,i)}toSVGPath(){const t=[];for(const i of l(this,bl)){let[s,r]=i;t.push(`M${s} ${r}`);for(let o=2;o<i.length;o+=2){const a=i[o],c=i[o+1];a===s?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${a}`),s=a)}t.push("Z")}return t.join(" ")}serialize([t,i,s,r],o){const a=[],c=s-t,u=r-i;for(const h of l(this,bl)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*c,d[f+1]=r-h[f+1]*u;a.push(d)}return a}get box(){return l(this,mh)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}mh=new WeakMap,bl=new WeakMap;class Km extends Lf{newFreeDrawOutline(e,t,i,s,r,o){return new fR(e,t,i,s,r,o)}get classNamesForDrawing(){return["highlight","free"]}}class fR extends IE{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,i,s,r,o=0){return new Km(e,t,i,s,r,o)}}var ti,Lo,Cl,Ze,yh,kl,vh,wh,ir,ni,Tl,Ah,we,Qm,Jm,Zm,Or,jE,Ls;const Yt=class Yt{constructor({editor:e=null,uiManager:t=null}){x(this,we);x(this,ti,null);x(this,Lo,null);x(this,Cl);x(this,Ze,null);x(this,yh,!1);x(this,kl,!1);x(this,vh,null);x(this,wh);x(this,ir,null);x(this,ni,null);x(this,Tl);var i;e?(y(this,kl,!1),y(this,Tl,q.HIGHLIGHT_COLOR),y(this,vh,e)):(y(this,kl,!0),y(this,Tl,q.HIGHLIGHT_DEFAULT_COLOR)),y(this,ni,(e==null?void 0:e._uiManager)||t),y(this,wh,l(this,ni)._eventBus),y(this,Cl,(e==null?void 0:e.color)||((i=l(this,ni))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),l(Yt,Ah)||y(Yt,Ah,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ce(this,"_keyboardManager",new Dh([[["Escape","mac+Escape"],Yt.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Yt.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Yt.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Yt.prototype._moveToPrevious],[["Home","mac+Home"],Yt.prototype._moveToBeginning],[["End","mac+End"],Yt.prototype._moveToEnd]]))}renderButton(){const e=y(this,ti,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=l(this,ni)._signal;e.addEventListener("click",A(this,we,Or).bind(this),{signal:t}),e.addEventListener("keydown",A(this,we,Zm).bind(this),{signal:t});const i=y(this,Lo,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=l(this,Cl),e.append(i),e}renderMainDropdown(){const e=y(this,Ze,A(this,we,Qm).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===l(this,ti)){A(this,we,Or).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,we,Jm).call(this,t,e)}_moveToNext(e){var t,i;if(!l(this,we,Ls)){A(this,we,Or).call(this,e);return}if(e.target===l(this,ti)){(t=l(this,Ze).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=l(this,Ze))==null?void 0:t.firstChild)||e.target===l(this,ti)){l(this,we,Ls)&&this._hideDropdownFromKeyboard();return}l(this,we,Ls)||A(this,we,Or).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!l(this,we,Ls)){A(this,we,Or).call(this,e);return}(t=l(this,Ze).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,we,Ls)){A(this,we,Or).call(this,e);return}(t=l(this,Ze).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=l(this,Ze))==null||e.classList.add("hidden"),(t=l(this,ir))==null||t.abort(),y(this,ir,null)}_hideDropdownFromKeyboard(){var e;if(!l(this,kl)){if(!l(this,we,Ls)){(e=l(this,vh))==null||e.unselect();return}this.hideDropdown(),l(this,ti).focus({preventScroll:!0,focusVisible:l(this,yh)})}}updateColor(e){if(l(this,Lo)&&(l(this,Lo).style.backgroundColor=e),!l(this,Ze))return;const t=l(this,ni).highlightColors.values();for(const i of l(this,Ze).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=l(this,ti))==null||e.remove(),y(this,ti,null),y(this,Lo,null),(t=l(this,Ze))==null||t.remove(),y(this,Ze,null)}};ti=new WeakMap,Lo=new WeakMap,Cl=new WeakMap,Ze=new WeakMap,yh=new WeakMap,kl=new WeakMap,vh=new WeakMap,wh=new WeakMap,ir=new WeakMap,ni=new WeakMap,Tl=new WeakMap,Ah=new WeakMap,we=new WeakSet,Qm=function(){const e=document.createElement("div"),t=l(this,ni)._signal;e.addEventListener("contextmenu",Hn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,s]of l(this,ni).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",l(Yt,Ah)[i]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=s,r.setAttribute("aria-selected",s===l(this,Cl)),r.addEventListener("click",A(this,we,Jm).bind(this,s),{signal:t}),e.append(r)}return e.addEventListener("keydown",A(this,we,Zm).bind(this),{signal:t}),e},Jm=function(e,t){t.stopPropagation(),l(this,wh).dispatch("switchannotationeditorparams",{source:this,type:l(this,Tl),value:e})},Zm=function(e){Yt._keyboardManager.exec(this,e)},Or=function(e){if(l(this,we,Ls)){this.hideDropdown();return}if(y(this,yh,e.detail===0),l(this,ir)||(y(this,ir,new AbortController),window.addEventListener("pointerdown",A(this,we,jE).bind(this),{signal:l(this,ni).combinedSignal(l(this,ir))})),l(this,Ze)){l(this,Ze).classList.remove("hidden");return}const t=y(this,Ze,A(this,we,Qm).call(this));l(this,ti).append(t)},jE=function(e){var t;(t=l(this,Ze))!=null&&t.contains(e.target)||this.hideDropdown()},Ls=function(){return l(this,Ze)&&!l(this,Ze).classList.contains("hidden")},x(Yt,Ah,null);let Mf=Yt;var Pl,_h,ss,Mo,Rl,kn,xh,Eh,Io,ii,Pt,Qt,Ll,rs,et,Ml,Tn,Sh,Z,ey,Gd,HE,zE,BE,ty,jr,In,ma,$E,Xd,Lc,UE,WE,VE,GE,XE;const he=class he extends ye{constructor(t){super({...t,name:"highlightEditor"});x(this,Z);x(this,Pl,null);x(this,_h,0);x(this,ss);x(this,Mo,null);x(this,Rl,null);x(this,kn,null);x(this,xh,null);x(this,Eh,0);x(this,Io,null);x(this,ii,null);x(this,Pt,null);x(this,Qt,!1);x(this,Ll,null);x(this,rs);x(this,et,null);x(this,Ml,"");x(this,Tn);x(this,Sh,"");this.color=t.color||he._defaultColor,y(this,Tn,t.thickness||he._defaultThickness),y(this,rs,t.opacity||he._defaultOpacity),y(this,ss,t.boxes||null),y(this,Sh,t.methodOfCreation||""),y(this,Ml,t.text||""),this._isDraggable=!1,t.highlightId>-1?(y(this,Qt,!0),A(this,Z,Gd).call(this,t),A(this,Z,jr).call(this)):l(this,ss)&&(y(this,Pl,t.anchorNode),y(this,_h,t.anchorOffset),y(this,xh,t.focusNode),y(this,Eh,t.focusOffset),A(this,Z,ey).call(this),A(this,Z,jr).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=he.prototype;return ce(this,"_keyboardManager",new Dh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,Qt)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:l(this,Tn),methodOfCreation:l(this,Sh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var s;ye.initialize(t,i),he._defaultColor||(he._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case q.HIGHLIGHT_DEFAULT_COLOR:he._defaultColor=i;break;case q.HIGHLIGHT_THICKNESS:he._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return l(this,Ll)}updateParams(t,i){switch(t){case q.HIGHLIGHT_COLOR:A(this,Z,HE).call(this,i);break;case q.HIGHLIGHT_THICKNESS:A(this,Z,zE).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[q.HIGHLIGHT_DEFAULT_COLOR,he._defaultColor],[q.HIGHLIGHT_THICKNESS,he._defaultThickness]]}get propertiesToUpdate(){return[[q.HIGHLIGHT_COLOR,this.color||he._defaultColor],[q.HIGHLIGHT_THICKNESS,l(this,Tn)||he._defaultThickness],[q.HIGHLIGHT_FREE,l(this,Qt)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(y(this,Rl,new Mf({editor:this})),t.addColorPicker(l(this,Rl))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,Z,Lc).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,A(this,Z,Lc).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,Z,ty).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,Z,jr).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?A(this,Z,ty).call(this):t&&(A(this,Z,jr).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var r,o,a;const{drawLayer:i}=this.parent;let s;l(this,Qt)?(t=(t-this.rotation+360)%360,s=A(r=he,In,ma).call(r,l(this,ii).box,t)):s=A(o=he,In,ma).call(o,this,t),i.rotate(l(this,Pt),t),i.rotate(l(this,et),t),i.updateBox(l(this,Pt),s),i.updateBox(l(this,et),A(a=he,In,ma).call(a,l(this,kn).box,t))}render(){if(this.div)return this.div;const t=super.render();l(this,Ml)&&(t.setAttribute("aria-label",l(this,Ml)),t.setAttribute("role","mark")),l(this,Qt)?t.classList.add("free"):this.div.addEventListener("keydown",A(this,Z,$E).bind(this),{signal:this._uiManager._signal});const i=y(this,Io,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=l(this,Mo);const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),Pf(this,l(this,Io),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(l(this,et),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(l(this,et),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,Z,Xd).call(this,!0);break;case 1:case 3:A(this,Z,Xd).call(this,!1);break}}select(){var t,i;super.select(),l(this,et)&&((t=this.parent)==null||t.drawLayer.removeClass(l(this,et),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(l(this,et),"selected"))}unselect(){var t;super.unselect(),l(this,et)&&((t=this.parent)==null||t.drawLayer.removeClass(l(this,et),"selected"),l(this,Qt)||A(this,Z,Xd).call(this,!1))}get _mustFixPosition(){return!l(this,Qt)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(l(this,Pt),t),this.parent.drawLayer.show(l(this,et),t))}static startHighlighting(t,i,{target:s,x:r,y:o}){const{x:a,y:c,width:u,height:h}=s.getBoundingClientRect(),d=new AbortController,f=t.combinedSignal(d),p=w=>{w.preventDefault(),w.stopPropagation()},m=w=>{d.abort(),A(this,In,GE).call(this,t,w)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",p,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Hn,{signal:f}),s.addEventListener("pointermove",A(this,In,VE).bind(this,t),{signal:f}),this._freeHighlight=new Km({x:r,y:o},[a,c,u,h],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,i,s){var w,E,g,v;let r=null;if(t instanceof vE){const{data:{quadPoints:_,rect:S,rotation:b,id:C,color:k,opacity:P,popupRef:M},parent:{page:{pageNumber:I}}}=t;r=t={annotationType:te.HIGHLIGHT,color:Array.from(k),opacity:P,quadPoints:_,boxes:null,pageIndex:I-1,rect:S.slice(0),rotation:b,id:C,deleted:!1,popupRef:M}}else if(t instanceof Fv){const{data:{inkLists:_,rect:S,rotation:b,id:C,color:k,borderStyle:{rawWidth:P},popupRef:M},parent:{page:{pageNumber:I}}}=t;r=t={annotationType:te.HIGHLIGHT,color:Array.from(k),thickness:P,inkLists:_,boxes:null,pageIndex:I-1,rect:S.slice(0),rotation:b,id:C,deleted:!1,popupRef:M}}const{color:o,quadPoints:a,inkLists:c,opacity:u}=t,h=await super.deserialize(t,i,s);h.color=$.makeHexColor(...o),y(h,rs,u||1),c&&y(h,Tn,t.thickness),h.annotationElementId=t.id||null,h._initialData=r;const[d,f]=h.pageDimensions,[p,m]=h.pageTranslation;if(a){const _=y(h,ss,[]);for(let S=0;S<a.length;S+=8)_.push({x:(a[S]-p)/d,y:1-(a[S+1]-m)/f,width:(a[S+2]-a[S])/d,height:(a[S+1]-a[S+5])/f});A(w=h,Z,ey).call(w),A(E=h,Z,jr).call(E),h.rotate(h.rotation)}else if(c){y(h,Qt,!0);const _=c[0],S={x:_[0]-p,y:f-(_[1]-m)},b=new Km(S,[0,0,d,f],1,l(h,Tn)/2,!0,.001);for(let P=0,M=_.length;P<M;P+=2)S.x=_[P]-p,S.y=f-(_[P+1]-m),b.add(S);const{id:C,clipPathId:k}=i.drawLayer.draw(b,h.color,h._defaultOpacity,!0);A(g=h,Z,Gd).call(g,{highlightOutlines:b.getOutlines(),highlightId:C,clipPathId:k}),A(v=h,Z,jr).call(v)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),s=ye._colorManager.convert(this.color),r={annotationType:te.HIGHLIGHT,color:s,opacity:l(this,rs),thickness:l(this,Tn),quadPoints:A(this,Z,UE).call(this),outlines:A(this,Z,WE).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:A(this,Z,Lc).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!A(this,Z,XE).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Pl=new WeakMap,_h=new WeakMap,ss=new WeakMap,Mo=new WeakMap,Rl=new WeakMap,kn=new WeakMap,xh=new WeakMap,Eh=new WeakMap,Io=new WeakMap,ii=new WeakMap,Pt=new WeakMap,Qt=new WeakMap,Ll=new WeakMap,rs=new WeakMap,et=new WeakMap,Ml=new WeakMap,Tn=new WeakMap,Sh=new WeakMap,Z=new WeakSet,ey=function(){const t=new _w(l(this,ss),.001);y(this,ii,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=l(this,ii).box;const i=new _w(l(this,ss),.0025,.001,this._uiManager.direction==="ltr");y(this,kn,i.getOutlines());const{lastPoint:s}=l(this,kn).box;y(this,Ll,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Gd=function({highlightOutlines:t,highlightId:i,clipPathId:s}){var d,f;if(y(this,ii,t),y(this,kn,t.getNewOutline(l(this,Tn)/2+1.5,.0025)),i>=0)y(this,Pt,i),y(this,Mo,s),this.parent.drawLayer.finalizeLine(i,t),y(this,et,this.parent.drawLayer.drawOutline(l(this,kn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(l(this,Pt),t),this.parent.drawLayer.updateBox(l(this,Pt),A(d=he,In,ma).call(d,l(this,ii).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(l(this,et),l(this,kn)),this.parent.drawLayer.updateBox(l(this,et),A(f=he,In,ma).call(f,l(this,kn).box,p))}const{x:o,y:a,width:c,height:u}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=c,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=c*m/p,this.height=u*p/m;break}case 180:this.x=1-o,this.y=1-a,this.width=c,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=c*m/p,this.height=u*p/m;break}}const{lastPoint:h}=l(this,kn).box;y(this,Ll,[(h[0]-o)/c,(h[1]-a)/u])},HE=function(t){const i=(o,a)=>{var c,u,h;this.color=o,(c=this.parent)==null||c.drawLayer.changeColor(l(this,Pt),o),(u=l(this,Rl))==null||u.updateColor(o),y(this,rs,a),(h=this.parent)==null||h.drawLayer.changeOpacity(l(this,Pt),a)},s=this.color,r=l(this,rs);this.addCommands({cmd:i.bind(this,t,he._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:q.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},zE=function(t){const i=l(this,Tn),s=r=>{y(this,Tn,r),A(this,Z,BE).call(this,r)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:q.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},BE=function(t){if(!l(this,Qt))return;A(this,Z,Gd).call(this,{highlightOutlines:l(this,ii).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},ty=function(){l(this,Pt)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Pt)),y(this,Pt,null),this.parent.drawLayer.remove(l(this,et)),y(this,et,null))},jr=function(t=this.parent){l(this,Pt)===null&&({id:Dt(this,Pt)._,clipPathId:Dt(this,Mo)._}=t.drawLayer.draw(l(this,ii),this.color,l(this,rs)),y(this,et,t.drawLayer.drawOutline(l(this,kn))),l(this,Io)&&(l(this,Io).style.clipPath=l(this,Mo)))},In=new WeakSet,ma=function({x:t,y:i,width:s,height:r},o){switch(o){case 90:return{x:1-i-r,y:t,width:r,height:s};case 180:return{x:1-t-s,y:1-i-r,width:s,height:r};case 270:return{x:i,y:1-t-s,width:r,height:s}}return{x:t,y:i,width:s,height:r}},$E=function(t){he._keyboardManager.exec(this,t)},Xd=function(t){if(!l(this,Pl))return;const i=window.getSelection();t?i.setPosition(l(this,Pl),l(this,_h)):i.setPosition(l(this,xh),l(this,Eh))},Lc=function(){return l(this,Qt)?this.rotation:0},UE=function(){if(l(this,Qt))return null;const[t,i]=this.pageDimensions,[s,r]=this.pageTranslation,o=l(this,ss),a=new Float32Array(o.length*8);let c=0;for(const{x:u,y:h,width:d,height:f}of o){const p=u*t+s,m=(1-h-f)*i+r;a[c]=a[c+4]=p,a[c+1]=a[c+3]=m,a[c+2]=a[c+6]=p+d*t,a[c+5]=a[c+7]=m+f*i,c+=8}return a},WE=function(t){return l(this,ii).serialize(t,A(this,Z,Lc).call(this))},VE=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},GE=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},XE=function(t){const{color:i}=this._initialData;return t.color.some((s,r)=>s!==i[r])},x(he,In),Y(he,"_defaultColor",null),Y(he,"_defaultOpacity",1),Y(he,"_defaultThickness",12),Y(he,"_type","highlight"),Y(he,"_editorType",te.HIGHLIGHT),Y(he,"_freeHighlightId",-1),Y(he,"_freeHighlight",null),Y(he,"_freeHighlightClipId","");let If=he;var No,Fo,ki,os,Pn,Do,Oo,jo,as,Il,Ho,zo,sr,D,YE,qE,KE,QE,iy,JE,sy,ZE,eS,tS,nS,iS,Hr,ry,oy,ay,Yd,qd,ya,ly,Kd,Cs,sS,cy,rS,oS,uy,Qd,Mc;const Le=class Le extends ye{constructor(t){super({...t,name:"inkEditor"});x(this,D);x(this,No,0);x(this,Fo,0);x(this,ki,null);x(this,os,new Path2D);x(this,Pn,!1);x(this,Do,null);x(this,Oo,!1);x(this,jo,!1);x(this,as,null);x(this,Il,null);x(this,Ho,0);x(this,zo,0);x(this,sr,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){ye.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case q.INK_THICKNESS:Le._defaultThickness=i;break;case q.INK_COLOR:Le._defaultColor=i;break;case q.INK_OPACITY:Le._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case q.INK_THICKNESS:A(this,D,YE).call(this,i);break;case q.INK_COLOR:A(this,D,qE).call(this,i);break;case q.INK_OPACITY:A(this,D,KE).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[q.INK_THICKNESS,Le._defaultThickness],[q.INK_COLOR,Le._defaultColor||ye._defaultLineColor],[q.INK_OPACITY,Math.round(Le._defaultOpacity*100)]]}get propertiesToUpdate(){return[[q.INK_THICKNESS,this.thickness||Le._defaultThickness],[q.INK_COLOR,this.color||Le._defaultColor||ye._defaultLineColor],[q.INK_OPACITY,Math.round(100*(this.opacity??Le._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,D,Yd).call(this),A(this,D,qd).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,D,ya).call(this)),A(this,D,Mc).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,l(this,ki)&&(clearTimeout(l(this,ki)),y(this,ki,null)),(t=l(this,as))==null||t.disconnect(),y(this,as,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,s=this.width*t,r=this.height*i;this.setDimensions(s,r)}enableEditMode(){l(this,Pn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,A(this,D,ry).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),A(this,D,oy).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){l(this,Pn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),y(this,Pn,!0),this.div.classList.add("disabled"),A(this,D,Mc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||l(this,Pn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,D,JE).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,D,sy).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,D,ay).call(this,t)}canvasPointerleave(t){A(this,D,ay).call(this,t)}get isResizable(){return!this.isEmpty()&&l(this,Pn)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,r,o,a]=A(this,D,QE).call(this);if(this.setAt(s,r,0,0),this.setDims(o,a),A(this,D,Yd).call(this),this.width){const[c,u]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*u),this.setAt(t*c,i*u,this.width*c,this.height*u),y(this,jo,!0),A(this,D,ya).call(this),this.setDims(this.width*c,this.height*u),A(this,D,Hr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,D,qd).call(this),this.div}setDimensions(t,i){const s=Math.round(t),r=Math.round(i);if(l(this,Ho)===s&&l(this,zo)===r)return;y(this,Ho,s),y(this,zo,r),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=i/a,this.fixAndSetPosition(),l(this,Pn)&&A(this,D,ly).call(this,t,i),A(this,D,ya).call(this),A(this,D,Hr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,i,s){var E,g,v;if(t instanceof Fv)return null;const r=await super.deserialize(t,i,s);r.thickness=t.thickness,r.color=$.makeHexColor(...t.color),r.opacity=t.opacity;const[o,a]=r.pageDimensions,c=r.width*o,u=r.height*a,h=r.parentScale,d=t.thickness/2;y(r,Pn,!0),y(r,Ho,Math.round(c)),y(r,zo,Math.round(u));const{paths:f,rect:p,rotation:m}=t;for(let{bezier:_}of f){_=A(E=Le,Cs,rS).call(E,_,p,m);const S=[];r.paths.push(S);let b=h*(_[0]-d),C=h*(_[1]-d);for(let P=2,M=_.length;P<M;P+=6){const I=h*(_[P]-d),F=h*(_[P+1]-d),Q=h*(_[P+2]-d),G=h*(_[P+3]-d),V=h*(_[P+4]-d),J=h*(_[P+5]-d);S.push([[b,C],[I,F],[Q,G],[V,J]]),b=V,C=J}const k=A(this,Cs,sS).call(this,S);r.bezierPath2D.push(k)}const w=A(g=r,D,uy).call(g);return y(r,Fo,Math.max(ye.MIN_SIZE,w[2]-w[0])),y(r,No,Math.max(ye.MIN_SIZE,w[3]-w[1])),A(v=r,D,ly).call(v,c,u),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=ye._colorManager.convert(this.ctx.strokeStyle);return{annotationType:te.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:A(this,D,oS).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};No=new WeakMap,Fo=new WeakMap,ki=new WeakMap,os=new WeakMap,Pn=new WeakMap,Do=new WeakMap,Oo=new WeakMap,jo=new WeakMap,as=new WeakMap,Il=new WeakMap,Ho=new WeakMap,zo=new WeakMap,sr=new WeakMap,D=new WeakSet,YE=function(t){const i=r=>{this.thickness=r,A(this,D,Mc).call(this)},s=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:q.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},qE=function(t){const i=r=>{this.color=r,A(this,D,Hr).call(this)},s=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:q.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},KE=function(t){const i=r=>{this.opacity=r,A(this,D,Hr).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:q.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},QE=function(){const{parentRotation:t,parentDimensions:[i,s]}=this;switch(t){case 90:return[0,s,s,i];case 180:return[i,s,i,s];case 270:return[i,0,s,i];default:return[0,0,i,s]}},iy=function(){const{ctx:t,color:i,opacity:s,thickness:r,parentScale:o,scaleFactor:a}=this;t.lineWidth=r*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${FT(s)}`},JE=function(t,i){this.canvas.addEventListener("contextmenu",Hn,{signal:this._uiManager._signal}),A(this,D,oy).call(this),y(this,Do,new AbortController);const s=this._uiManager.combinedSignal(l(this,Do));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,l(this,jo)||(y(this,jo,!0),A(this,D,ya).call(this),this.thickness||(this.thickness=Le._defaultThickness),this.color||(this.color=Le._defaultColor||ye._defaultLineColor),this.opacity??(this.opacity=Le._defaultOpacity)),this.currentPath.push([t,i]),y(this,Oo,!1),A(this,D,iy).call(this),y(this,sr,()=>{A(this,D,tS).call(this),l(this,sr)&&window.requestAnimationFrame(l(this,sr))}),window.requestAnimationFrame(l(this,sr))},sy=function(t,i){const[s,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&i===r)return;const o=this.currentPath;let a=l(this,os);if(o.push([t,i]),y(this,Oo,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,i);return}o.length===3&&(y(this,os,a=new Path2D),a.moveTo(...o[0])),A(this,D,nS).call(this,a,...o.at(-3),...o.at(-2),t,i)},ZE=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);l(this,os).lineTo(...t)},eS=function(t,i){y(this,sr,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),A(this,D,sy).call(this,t,i),A(this,D,ZE).call(this);let s;if(this.currentPath.length!==1)s=A(this,D,iS).call(this);else{const u=[t,i];s=[[u,u.slice(),u.slice(),u]]}const r=l(this,os),o=this.currentPath;this.currentPath=[],y(this,os,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(s),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,D,Yd).call(this),A(this,D,qd).call(this)),A(this,D,Mc).call(this))};this.addCommands({cmd:a,undo:c,mustExec:!0})},tS=function(){if(!l(this,Oo))return;y(this,Oo,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),s=i.map(a=>a[0]),r=i.map(a=>a[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...r)-t,Math.max(...r)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(l(this,os)),o.restore()},nS=function(t,i,s,r,o,a,c){const u=(i+r)/2,h=(s+o)/2,d=(r+a)/2,f=(o+c)/2;t.bezierCurveTo(u+2*(r-u)/3,h+2*(o-h)/3,d+2*(r-d)/3,f+2*(o-f)/3,d,f)},iS=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let s,[r,o]=t[0];for(s=1;s<t.length-2;s++){const[p,m]=t[s],[w,E]=t[s+1],g=(p+w)/2,v=(m+E)/2,_=[r+2*(p-r)/3,o+2*(m-o)/3],S=[g+2*(p-g)/3,v+2*(m-v)/3];i.push([[r,o],_,S,[g,v]]),[r,o]=[g,v]}const[a,c]=t[s],[u,h]=t[s+1],d=[r+2*(a-r)/3,o+2*(c-o)/3],f=[u+2*(a-u)/3,h+2*(c-h)/3];return i.push([[r,o],d,f,[u,h]]),i},Hr=function(){if(this.isEmpty()){A(this,D,Kd).call(this);return}A(this,D,iy).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),A(this,D,Kd).call(this);for(const s of this.bezierPath2D)i.stroke(s)},ry=function(){if(l(this,Il))return;y(this,Il,new AbortController);const t=this._uiManager.combinedSignal(l(this,Il));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},oy=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},ay=function(t){var i;(i=l(this,Do))==null||i.abort(),y(this,Do,null),A(this,D,ry).call(this),l(this,ki)&&clearTimeout(l(this,ki)),y(this,ki,setTimeout(()=>{y(this,ki,null),this.canvas.removeEventListener("contextmenu",Hn)},10)),A(this,D,eS).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Yd=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},qd=function(){y(this,as,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),l(this,as).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=l(this,as))==null||t.disconnect(),y(this,as,null)},{once:!0})},ya=function(){if(!l(this,jo))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),A(this,D,Kd).call(this)},ly=function(t,i){const s=A(this,D,Qd).call(this),r=(t-s)/l(this,Fo),o=(i-s)/l(this,No);this.scaleFactor=Math.min(r,o)},Kd=function(){const t=A(this,D,Qd).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Cs=new WeakSet,sS=function(t){const i=new Path2D;for(let s=0,r=t.length;s<r;s++){const[o,a,c,u]=t[s];s===0&&i.moveTo(...o),i.bezierCurveTo(a[0],a[1],c[0],c[1],u[0],u[1])}return i},cy=function(t,i,s){const[r,o,a,c]=i;switch(s){case 0:for(let u=0,h=t.length;u<h;u+=2)t[u]+=r,t[u+1]=c-t[u+1];break;case 90:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=t[u+1]+r,t[u+1]=d+o}break;case 180:for(let u=0,h=t.length;u<h;u+=2)t[u]=a-t[u],t[u+1]+=o;break;case 270:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=a-t[u+1],t[u+1]=c-d}break;default:throw new Error("Invalid rotation")}return t},rS=function(t,i,s){const[r,o,a,c]=i;switch(s){case 0:for(let u=0,h=t.length;u<h;u+=2)t[u]-=r,t[u+1]=c-t[u+1];break;case 90:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=t[u+1]-o,t[u+1]=d-r}break;case 180:for(let u=0,h=t.length;u<h;u+=2)t[u]=a-t[u],t[u+1]-=o;break;case 270:for(let u=0,h=t.length;u<h;u+=2){const d=t[u];t[u]=c-t[u+1],t[u+1]=a-d}break;default:throw new Error("Invalid rotation")}return t},oS=function(t,i,s,r){var h,d;const o=[],a=this.thickness/2,c=t*i+a,u=t*s+a;for(const f of this.paths){const p=[],m=[];for(let w=0,E=f.length;w<E;w++){const[g,v,_,S]=f[w];if(g[0]===S[0]&&g[1]===S[1]&&E===1){const G=t*g[0]+c,V=t*g[1]+u;p.push(G,V),m.push(G,V);break}const b=t*g[0]+c,C=t*g[1]+u,k=t*v[0]+c,P=t*v[1]+u,M=t*_[0]+c,I=t*_[1]+u,F=t*S[0]+c,Q=t*S[1]+u;w===0&&(p.push(b,C),m.push(b,C)),p.push(k,P,M,I,F,Q),m.push(k,P),w===E-1&&m.push(F,Q)}o.push({bezier:A(h=Le,Cs,cy).call(h,p,r,this.rotation),points:A(d=Le,Cs,cy).call(d,m,r,this.rotation)})}return o},uy=function(){let t=1/0,i=-1/0,s=1/0,r=-1/0;for(const o of this.paths)for(const[a,c,u,h]of o){const d=$.bezierBoundingBox(...a,...c,...u,...h);t=Math.min(t,d[0]),s=Math.min(s,d[1]),i=Math.max(i,d[2]),r=Math.max(r,d[3])}return[t,s,i,r]},Qd=function(){return l(this,Pn)?Math.ceil(this.thickness*this.parentScale):0},Mc=function(t=!1){if(this.isEmpty())return;if(!l(this,Pn)){A(this,D,Hr).call(this);return}const i=A(this,D,uy).call(this),s=A(this,D,Qd).call(this);y(this,Fo,Math.max(ye.MIN_SIZE,i[2]-i[0])),y(this,No,Math.max(ye.MIN_SIZE,i[3]-i[1]));const r=Math.ceil(s+l(this,Fo)*this.scaleFactor),o=Math.ceil(s+l(this,No)*this.scaleFactor),[a,c]=this.parentDimensions;this.width=r/a,this.height=o/c,this.setAspectRatio(r,o);const u=this.translationX,h=this.translationY;this.translationX=-i[0],this.translationY=-i[1],A(this,D,ya).call(this),A(this,D,Hr).call(this),y(this,Ho,r),y(this,zo,o),this.setDims(r,o);const d=t?s/this.scaleFactor/2:0;this.translate(u-this.translationX-d,h-this.translationY-d)},x(Le,Cs),Y(Le,"_defaultColor",null),Y(Le,"_defaultOpacity",1),Y(Le,"_defaultThickness",1),Y(Le,"_type","ink"),Y(Le,"_editorType",te.INK);let ny=Le;var Ie,yt,rr,ls,or,Nl,Ti,cs,Pi,fn,Fl,ae,Ic,Nc,Jd,dy,aS,Zd,fy,ef,lS,cS;const Gc=class Gc extends ye{constructor(t){super({...t,name:"stampEditor"});x(this,ae);x(this,Ie,null);x(this,yt,null);x(this,rr,null);x(this,ls,null);x(this,or,null);x(this,Nl,"");x(this,Ti,null);x(this,cs,null);x(this,Pi,null);x(this,fn,!1);x(this,Fl,!1);y(this,ls,t.bitmapUrl),y(this,or,t.bitmapFile)}static initialize(t,i){ye.initialize(t,i)}static get supportedTypes(){return ce(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return ce(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(te.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,c=await s.guess({name:"altText",request:{data:r,width:o,height:a,channels:r.length/(o*a)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t,i;l(this,yt)&&(y(this,Ie,null),this._uiManager.imageManager.deleteId(l(this,yt)),(t=l(this,Ti))==null||t.remove(),y(this,Ti,null),(i=l(this,cs))==null||i.disconnect(),y(this,cs,null),l(this,Pi)&&(clearTimeout(l(this,Pi)),y(this,Pi,null))),super.remove()}rebuild(){if(!this.parent){l(this,yt)&&A(this,ae,Jd).call(this);return}super.rebuild(),this.div!==null&&(l(this,yt)&&l(this,Ti)===null&&A(this,ae,Jd).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(l(this,rr)||l(this,Ie)||l(this,ls)||l(this,or)||l(this,yt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),l(this,Ie)?A(this,ae,dy).call(this):A(this,ae,Jd).call(this),this.width&&!this.annotationElementId){const[s,r]=this.parentDimensions;this.setAt(t*s,i*r,this.width*s,this.height*r)}return this.div}copyCanvas(t,i,s=!1){var p;t||(t=224);const{width:r,height:o}=l(this,Ie),a=new am;let c=l(this,Ie),u=r,h=o,d=null;if(i){if(r>i||o>i){const P=Math.min(i/r,i/o);u=Math.floor(r*P),h=Math.floor(o*P)}d=document.createElement("canvas");const m=d.width=Math.ceil(u*a.sx),w=d.height=Math.ceil(h*a.sy);l(this,fn)||(c=A(this,ae,Zd).call(this,m,w));const E=d.getContext("2d");E.filter=this._uiManager.hcmFilter;let g="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",v="#42414d");const _=15,S=_*a.sx,b=_*a.sy,C=new OffscreenCanvas(S*2,b*2),k=C.getContext("2d");k.fillStyle=g,k.fillRect(0,0,S*2,b*2),k.fillStyle=v,k.fillRect(0,0,S,b),k.fillRect(S,b,S,b),E.fillStyle=E.createPattern(C,"repeat"),E.fillRect(0,0,m,w),E.drawImage(c,0,0,c.width,c.height,0,0,m,w)}let f=null;if(s){let m,w;if(a.symmetric&&c.width<t&&c.height<t)m=c.width,w=c.height;else if(c=l(this,Ie),r>t||o>t){const v=Math.min(t/r,t/o);m=Math.floor(r*v),w=Math.floor(o*v),l(this,fn)||(c=A(this,ae,Zd).call(this,m,w))}const g=new OffscreenCanvas(m,w).getContext("2d",{willReadFrequently:!0});g.drawImage(c,0,0,c.width,c.height,0,0,m,w),f={width:m,height:w,data:g.getImageData(0,0,m,w).data}}return{canvas:d,width:u,height:h,imageData:f}}getImageForAltText(){return l(this,Ti)}static async deserialize(t,i,s){var w;let r=null;if(t instanceof wE){const{data:{rect:E,rotation:g,id:v,structParent:_,popupRef:S},container:b,parent:{page:{pageNumber:C}}}=t,k=b.querySelector("canvas"),P=s.imageManager.getFromCanvas(b.id,k);k.remove();const M=((w=await i._structTree.getAriaAttributes(`${Sv}${v}`))==null?void 0:w.get("aria-label"))||"";r=t={annotationType:te.STAMP,bitmapId:P.id,bitmap:P.bitmap,pageIndex:C-1,rect:E.slice(0),rotation:g,id:v,deleted:!1,accessibilityData:{decorative:!1,altText:M},isSvg:!1,structParent:_,popupRef:S}}const o=await super.deserialize(t,i,s),{rect:a,bitmap:c,bitmapUrl:u,bitmapId:h,isSvg:d,accessibilityData:f}=t;h&&s.imageManager.isValidId(h)?(y(o,yt,h),c&&y(o,Ie,c)):y(o,ls,u),y(o,fn,d);const[p,m]=o.pageDimensions;return o.width=(a[2]-a[0])/p,o.height=(a[3]-a[1])/m,o.annotationElementId=t.id||null,f&&(o.altTextData=f),o._initialData=r,y(o,Fl,!!r),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:te.STAMP,bitmapId:l(this,yt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:l(this,fn),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=A(this,ae,ef).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=A(this,ae,cS).call(this,s);if(c.isSame)return null;c.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||(i.stamps=new Map);const a=l(this,fn)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(l(this,yt)))i.stamps.set(l(this,yt),{area:a,serialized:s}),s.bitmap=A(this,ae,ef).call(this,!1);else if(l(this,fn)){const c=i.stamps.get(l(this,yt));a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=A(this,ae,ef).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ie=new WeakMap,yt=new WeakMap,rr=new WeakMap,ls=new WeakMap,or=new WeakMap,Nl=new WeakMap,Ti=new WeakMap,cs=new WeakMap,Pi=new WeakMap,fn=new WeakMap,Fl=new WeakMap,ae=new WeakSet,Ic=function(t,i=!1){if(!t){this.remove();return}y(this,Ie,t.bitmap),i||(y(this,yt,t.id),y(this,fn,t.isSvg)),t.file&&y(this,Nl,t.file.name),A(this,ae,dy).call(this)},Nc=function(){if(y(this,rr,null),this._uiManager.enableWaiting(!1),!!l(this,Ti)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Ie)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Ie)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Jd=function(){if(l(this,yt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,yt)).then(s=>A(this,ae,Ic).call(this,s,!0)).finally(()=>A(this,ae,Nc).call(this));return}if(l(this,ls)){const s=l(this,ls);y(this,ls,null),this._uiManager.enableWaiting(!0),y(this,rr,this._uiManager.imageManager.getFromUrl(s).then(r=>A(this,ae,Ic).call(this,r)).finally(()=>A(this,ae,Nc).call(this)));return}if(l(this,or)){const s=l(this,or);y(this,or,null),this._uiManager.enableWaiting(!0),y(this,rr,this._uiManager.imageManager.getFromFile(s).then(r=>A(this,ae,Ic).call(this,r)).finally(()=>A(this,ae,Nc).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Gc.supportedTypesStr;const i=this._uiManager._signal;y(this,rr,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),A(this,ae,Ic).call(this,r)}s()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>A(this,ae,Nc).call(this))),t.click()},dy=function(){const{div:t}=this;let{width:i,height:s}=l(this,Ie);const[r,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*r,s=this.height*o;else if(i>a*r||s>a*o){const d=Math.min(a*r/i,a*o/s);i*=d,s*=d}const[c,u]=this.parentDimensions;this.setDims(i*c/r,s*u/o),this._uiManager.enableWaiting(!1);const h=y(this,Ti,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),A(this,ae,fy).call(this,i,s),A(this,ae,lS).call(this),l(this,Fl)||(this.parent.addUndoableEditor(this),y(this,Fl,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,Nl)&&h.setAttribute("aria-label",l(this,Nl))},aS=function(t,i){var a;const[s,r]=this.parentDimensions;this.width=t/s,this.height=i/r,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,l(this,Pi)!==null&&clearTimeout(l(this,Pi)),y(this,Pi,setTimeout(()=>{y(this,Pi,null),A(this,ae,fy).call(this,t,i)},200))},Zd=function(t,i){const{width:s,height:r}=l(this,Ie);let o=s,a=r,c=l(this,Ie);for(;o>2*t||a>2*i;){const u=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(c,0,0,u,h,0,0,o,a),c=d.transferToImageBitmap()}return c},fy=function(t,i){const s=new am,r=Math.ceil(t*s.sx),o=Math.ceil(i*s.sy),a=l(this,Ti);if(!a||a.width===r&&a.height===o)return;a.width=r,a.height=o;const c=l(this,fn)?l(this,Ie):A(this,ae,Zd).call(this,r,o),u=a.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,r,o)},ef=function(t){if(t){if(l(this,fn)){const r=this._uiManager.imageManager.getSvgUrl(l(this,yt));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=l(this,Ie),i.getContext("2d").drawImage(l(this,Ie),0,0),i.toDataURL()}if(l(this,fn)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*Sr.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*Sr.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,o);return a.getContext("2d").drawImage(l(this,Ie),0,0,l(this,Ie).width,l(this,Ie).height,0,0,r,o),a.transferToImageBitmap()}return structuredClone(l(this,Ie))},lS=function(){this._uiManager._signal&&(y(this,cs,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&A(this,ae,aS).call(this,i.width,i.height)})),l(this,cs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=l(this,cs))==null||t.disconnect(),y(this,cs,null)},{once:!0}))},cS=function(t){var u;const{rect:i,pageIndex:s,accessibilityData:{altText:r}}=this._initialData,o=t.rect.every((h,d)=>Math.abs(h-i[d])<1),a=t.pageIndex===s,c=(((u=t.accessibilityData)==null?void 0:u.alt)||"")===r;return{isSame:o&&a&&c,isSameAltText:c}},Y(Gc,"_type","stamp"),Y(Gc,"_editorType",te.STAMP);let hy=Gc;var Bo,Dl,Ri,ar,us,pn,lr,Ol,jl,Rt,hs,W,cr,At,uS,gy,my,yy,tf;const $n=class $n{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:o,drawLayer:a,textLayer:c,viewport:u,l10n:h}){x(this,At);x(this,Bo);x(this,Dl,!1);x(this,Ri,null);x(this,ar,null);x(this,us,null);x(this,pn,new Map);x(this,lr,!1);x(this,Ol,!1);x(this,jl,!1);x(this,Rt,null);x(this,hs,null);x(this,W);const d=[...l($n,cr).values()];if(!$n._initialized){$n._initialized=!0;for(const f of d)f.initialize(h,e)}e.registerEditorTypes(d),y(this,W,e),this.pageIndex=t,this.div=i,y(this,Bo,r),y(this,Ri,o),this.viewport=u,y(this,Rt,c),this.drawLayer=a,this._structTree=s,l(this,W).addLayer(this)}get isEmpty(){return l(this,pn).size===0}get isInvisible(){return this.isEmpty&&l(this,W).getMode()===te.NONE}updateToolbar(e){l(this,W).updateToolbar(e)}updateMode(e=l(this,W).getMode()){switch(A(this,At,tf).call(this),e){case te.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case te.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case te.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of l($n,cr).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,Rt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(l(this,W).getMode()!==te.INK)return;if(!e){for(const i of l(this,pn).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){l(this,W).setEditingState(e)}addCommands(e){l(this,W).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,Ri))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of l(this,pn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(l(this,W).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!l(this,Ri))return;const t=l(this,Ri).getEditableAnnotations();for(const i of t){if(i.hide(),l(this,W).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;y(this,jl,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of l(this,pn).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(s=this.getEditableAnnotation(r.annotationElementId))==null||s.show(),r.remove()}if(l(this,Ri)){const r=l(this,Ri).getEditableAnnotations();for(const o of r){const{id:a}=o.data;if(l(this,W).isDeletedAnnotationElement(a))continue;let c=t.get(a);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=e.get(a),c&&(l(this,W).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}A(this,At,tf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of l($n,cr).values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),y(this,jl,!1)}getEditableAnnotation(e){var t;return((t=l(this,Ri))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,W).getActive()!==e&&l(this,W).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=l(this,Rt))!=null&&e.div&&!l(this,hs)){y(this,hs,new AbortController);const t=l(this,W).combinedSignal(l(this,hs));l(this,Rt).div.addEventListener("pointerdown",A(this,At,uS).bind(this),{signal:t}),l(this,Rt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,Rt))!=null&&e.div&&l(this,hs)&&(l(this,hs).abort(),y(this,hs,null),l(this,Rt).div.classList.remove("highlighting"))}enableClick(){if(l(this,ar))return;y(this,ar,new AbortController);const e=l(this,W).combinedSignal(l(this,ar));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=l(this,ar))==null||e.abort(),y(this,ar,null)}attach(e){l(this,pn).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,W).isDeletedAnnotationElement(t)&&l(this,W).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,pn).delete(e.id),(t=l(this,Bo))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,jl)&&e.annotationElementId&&l(this,W).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,W).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,l(this,Ol)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,W).addDeletedAnnotationElement(e.annotationElementId),ye.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,W).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),l(this,W).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,us)&&(e._focusEventsAllowed=!1,y(this,us,setTimeout(()=>{y(this,us,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,W)._signal}),t.focus())},0))),e._structTreeParentId=(i=l(this,Bo))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return l(this,W).getId()}combinedSignal(e){return l(this,W).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=l(this,At,gy))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){l(this,W).updateToolbar(e),l(this,W).updateMode(e);const{offsetX:i,offsetY:s}=A(this,At,yy).call(this),r=this.getNextId(),o=A(this,At,my).call(this,{parent:this,id:r,x:i,y:s,uiManager:l(this,W),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=l($n,cr).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,W)))||null}createAndAddNewEditor(e,t,i={}){const s=this.getNextId(),r=A(this,At,my).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:l(this,W),isCentered:t,...i});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(A(this,At,yy).call(this),!0)}setSelected(e){l(this,W).setSelected(e)}toggleSelected(e){l(this,W).toggleSelected(e)}unselect(e){l(this,W).unselect(e)}pointerup(e){const{isMac:t}=$t.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&l(this,lr)){if(y(this,lr,!1),!l(this,Dl)){y(this,Dl,!0);return}if(l(this,W).getMode()===te.STAMP){l(this,W).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(l(this,W).getMode()===te.HIGHLIGHT&&this.enableTextSelection(),l(this,lr)){y(this,lr,!1);return}const{isMac:t}=$t.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;y(this,lr,!0);const i=l(this,W).getActive();y(this,Dl,!i||i.isEmpty())}findNewParent(e,t,i){const s=l(this,W).findParent(t,i);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){var e,t;((e=l(this,W).getActive())==null?void 0:e.parent)===this&&(l(this,W).commitOrRemove(),l(this,W).setActiveEditor(null)),l(this,us)&&(clearTimeout(l(this,us)),y(this,us,null));for(const i of l(this,pn).values())(t=l(this,Bo))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,l(this,pn).clear(),l(this,W).removeLayer(this)}render({viewport:e}){this.viewport=e,qo(this.div,e);for(const t of l(this,W).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,W).commitOrRemove(),A(this,At,tf).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,qo(this.div,{rotation:i}),t!==i)for(const s of l(this,pn).values())s.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,W).viewParameters.realScale}};Bo=new WeakMap,Dl=new WeakMap,Ri=new WeakMap,ar=new WeakMap,us=new WeakMap,pn=new WeakMap,lr=new WeakMap,Ol=new WeakMap,jl=new WeakMap,Rt=new WeakMap,hs=new WeakMap,W=new WeakMap,cr=new WeakMap,At=new WeakSet,uS=function(e){l(this,W).unselectAll();const{target:t}=e;if(t===l(this,Rt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,Rt).div.contains(t)){const{isMac:i}=$t.platform;if(e.button!==0||e.ctrlKey&&i)return;l(this,W).showAllEditors("highlight",!0,!0),l(this,Rt).div.classList.add("free"),this.toggleDrawing(),If.startHighlighting(this,l(this,W).direction==="ltr",{target:l(this,Rt).div,x:e.x,y:e.y}),l(this,Rt).div.addEventListener("pointerup",()=>{l(this,Rt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,W)._signal}),e.preventDefault()}},gy=function(){return l($n,cr).get(l(this,W).getMode())},my=function(e){const t=l(this,At,gy);return t?new t.prototype.constructor(e):null},yy=function(){const{x:e,y:t,width:i,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+i),c=Math.min(window.innerHeight,t+s),u=(r+a)/2-e,h=(o+c)/2-t,[d,f]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:d,offsetY:f}},tf=function(){y(this,Ol,!0);for(const e of l(this,pn).values())e.isEmpty()&&e.remove();y(this,Ol,!1)},Y($n,"_initialized",!1),x($n,cr,new Map([Xm,ny,hy,If].map(e=>[e._editorType,e])));let py=$n;var Li,bh,Ye,ds,Ch,wy,ea,Ay,hS;const pt=class pt{constructor({pageIndex:e}){x(this,ea);x(this,Li,null);x(this,bh,0);x(this,Ye,new Map);x(this,ds,new Map);this.pageIndex=e}setParent(e){if(!l(this,Li)){y(this,Li,e);return}if(l(this,Li)!==e){if(l(this,Ye).size>0)for(const t of l(this,Ye).values())t.remove(),e.append(t);y(this,Li,e)}}static get _svgFactory(){return ce(this,"_svgFactory",new Nv)}draw(e,t,i,s=!1){const r=Dt(this,bh)._++,o=A(this,ea,Ay).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const a=pt._svgFactory.createElement("defs");o.append(a);const c=pt._svgFactory.createElement("path");a.append(c);const u=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",u),c.setAttribute("d",e.toSVGPath()),s&&l(this,ds).set(r,c);const h=A(this,ea,hS).call(this,a,u),d=pt._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",i),d.setAttribute("href",`#${u}`),l(this,Ye).set(r,o),{id:r,clipPathId:`url(#${h})`}}drawOutline(e){const t=Dt(this,bh)._++,i=A(this,ea,Ay).call(this,e.box);i.classList.add(...e.classNamesForOutlining);const s=pt._svgFactory.createElement("defs");i.append(s);const r=pt._svgFactory.createElement("path");s.append(r);const o=`path_p${this.pageIndex}_${t}`;r.setAttribute("id",o),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){const h=pt._svgFactory.createElement("mask");s.append(h),a=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",a),h.setAttribute("maskUnits","objectBoundingBox");const d=pt._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=pt._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=pt._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),a&&c.setAttribute("mask",`url(#${a})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),l(this,Ye).set(t,i),t}finalizeLine(e,t){const i=l(this,ds).get(e);l(this,ds).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){l(this,Ye).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){l(this,ds).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;A(i=pt,Ch,wy).call(i,l(this,Ye).get(e),t)}show(e,t){l(this,Ye).get(e).classList.toggle("hidden",!t)}rotate(e,t){l(this,Ye).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){l(this,Ye).get(e).setAttribute("fill",t)}changeOpacity(e,t){l(this,Ye).get(e).setAttribute("fill-opacity",t)}addClass(e,t){l(this,Ye).get(e).classList.add(t)}removeClass(e,t){l(this,Ye).get(e).classList.remove(t)}getSVGRoot(e){return l(this,Ye).get(e)}remove(e){l(this,ds).delete(e),l(this,Li)!==null&&(l(this,Ye).get(e).remove(),l(this,Ye).delete(e))}destroy(){y(this,Li,null);for(const e of l(this,Ye).values())e.remove();l(this,Ye).clear(),l(this,ds).clear()}};Li=new WeakMap,bh=new WeakMap,Ye=new WeakMap,ds=new WeakMap,Ch=new WeakSet,wy=function(e,{x:t=0,y:i=0,width:s=1,height:r=1}={}){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*s}%`,o.height=`${100*r}%`},ea=new WeakSet,Ay=function(e){var i;const t=pt._svgFactory.create(1,1,!0);return l(this,Li).append(t),t.setAttribute("aria-hidden",!0),A(i=pt,Ch,wy).call(i,t,e),t},hS=function(e,t){const i=pt._svgFactory.createElement("clipPath");e.append(i);const s=`clip_${t}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=pt._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),s},x(pt,Ch);let vy=pt;var pR=K.AbortException,gR=K.AnnotationEditorLayer,mR=K.AnnotationEditorParamsType,yR=K.AnnotationEditorType,vR=K.AnnotationEditorUIManager,dS=K.AnnotationLayer,fS=K.AnnotationMode,wR=K.ColorPicker,AR=K.DOMSVGFactory,_R=K.DrawLayer,xR=K.FeatureTest,pS=K.GlobalWorkerOptions,ER=K.ImageKind,SR=K.InvalidPDFException,bR=K.MissingPDFException,CR=K.OPS,kR=K.OutputScale,TR=K.PDFDataRangeTransport,PR=K.PDFDateString,RR=K.PDFWorker,LR=K.PasswordResponses,MR=K.PermissionFlag,IR=K.PixelsPerInch,NR=K.RenderingCancelledException,gS=K.TextLayer,FR=K.UnexpectedResponseException,DR=K.Util,OR=K.VerbosityLevel,jR=K.XfaLayer,HR=K.build,zR=K.createValidAbsoluteUrl,BR=K.fetchData,mS=K.getDocument,$R=K.getFilenameFromUrl,UR=K.getPdfFilenameFromUrl,WR=K.getXfaPageViewport,VR=K.isDataScheme,GR=K.isPdfFile,XR=K.noContextMenu,YR=K.normalizeUnicode,qR=K.setLayerDimensions,KR=K.shadow,QR=K.version;const JR=Object.freeze(Object.defineProperty({__proto__:null,AbortException:pR,AnnotationEditorLayer:gR,AnnotationEditorParamsType:mR,AnnotationEditorType:yR,AnnotationEditorUIManager:vR,AnnotationLayer:dS,AnnotationMode:fS,ColorPicker:wR,DOMSVGFactory:AR,DrawLayer:_R,FeatureTest:xR,GlobalWorkerOptions:pS,ImageKind:ER,InvalidPDFException:SR,MissingPDFException:bR,OPS:CR,OutputScale:kR,PDFDataRangeTransport:TR,PDFDateString:PR,PDFWorker:RR,PasswordResponses:LR,PermissionFlag:MR,PixelsPerInch:IR,RenderingCancelledException:NR,TextLayer:gS,UnexpectedResponseException:FR,Util:DR,VerbosityLevel:OR,XfaLayer:jR,build:HR,createValidAbsoluteUrl:zR,fetchData:BR,getDocument:mS,getFilenameFromUrl:$R,getPdfFilenameFromUrl:UR,getXfaPageViewport:WR,isDataScheme:VR,isPdfFile:GR,noContextMenu:XR,normalizeUnicode:YR,setLayerDimensions:qR,shadow:KR,version:QR},Symbol.toStringTag,{value:"Module"}));var ot=function(n,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,r;i<s;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))},ZR=["onCopy","onCut","onPaste"],eL=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],tL=["onFocus","onBlur"],nL=["onInput","onInvalid","onReset","onSubmit"],iL=["onLoad","onError"],sL=["onKeyDown","onKeyPress","onKeyUp"],rL=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],oL=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],aL=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],lL=["onSelect"],cL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],uL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],hL=["onScroll"],dL=["onWheel"],fL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],pL=["onTransitionEnd"],gL=["onToggle"],mL=["onChange"],yL=ot(ot(ot(ot(ot(ot(ot(ot(ot(ot(ot(ot(ot(ot(ot(ot(ot(ot([],ZR,!0),eL,!0),tL,!0),nL,!0),iL,!0),sL,!0),rL,!0),oL,!0),aL,!0),lL,!0),cL,!0),uL,!0),hL,!0),dL,!0),fL,!0),pL,!0),mL,!0),gL,!0);function yS(n,e){var t={};return yL.forEach(function(i){var s=n[i];s&&(e?t[i]=function(r){return s(r,e(i))}:t[i]=s)}),t}function jh(n){var e=!1,t=new Promise(function(i,s){n.then(function(r){return!e&&i(r)}).catch(function(r){return!e&&s(r)})});return{promise:t,cancel:function(){e=!0}}}function vS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=vS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ep(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=vS(n))&&(i&&(i+=" "),i+=e);return i}var vL="Invariant failed";function _e(n,e){if(!n)throw new Error(vL)}var wL=function(){},AL=wL;const Mt=jS(AL);var xw=Object.prototype.hasOwnProperty;function Ew(n,e,t){for(t of n.keys())if(Ha(t,e))return t}function Ha(n,e){var t,i,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&Ha(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=Ew(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=Ew(e,s),!s)||!Ha(i[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(xw.call(n,t)&&++i&&!xw.call(e,t)||!(t in e)||!Ha(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}const wS=T.createContext(null);function za({children:n,type:e}){return R.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const _L="noopener noreferrer nofollow";class xL{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return _e(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){_e(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{_e(this.pdfDocument),_e(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{_e(Array.isArray(t));const i=t[0];new Promise(s=>{_e(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(r=>{s(r)}).catch(()=>{_e(!1)}):typeof i=="number"?s(i):_e(!1)}).then(s=>{const r=s+1;_e(this.pdfViewer),_e(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:r})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;_e(this.pdfViewer),_e(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||_L,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Sw={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Sp=typeof window<"u",AS=Sp&&window.location.protocol==="file:";function EL(n){return typeof n<"u"}function Ir(n){return EL(n)&&n!==null}function SL(n){return typeof n=="string"}function bL(n){return n instanceof ArrayBuffer}function CL(n){return _e(Sp),n instanceof Blob}function _y(n){return SL(n)&&/^data:/.test(n)}function bw(n){_e(_y(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function kL(){return Sp&&window.devicePixelRatio||1}const _S="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Cw(){Mt(!AS,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${_S}`)}function TL(){Mt(!AS,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${_S}`)}function Jo(n){n!=null&&n.cancel&&n.cancel()}function xy(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function PL(n){return n.name==="RenderingCancelledException"}function RL(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return t(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function LL(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Gl(){return T.useReducer(LL,{value:void 0,error:void 0})}var ML=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function a(h){try{u(i.next(h))}catch(d){o(d)}}function c(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?r(h.value):s(h.value).then(a,c)}u((i=i.apply(n,e||[])).next())})},kw=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};const{PDFDataRangeTransport:IL}=JR,NL=(n,e)=>{switch(e){case Sw.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case Sw.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function Tw(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const FL=T.forwardRef(function(e,t){var{children:i,className:s,error:r="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:c,inputRef:u,imageResourcesPath:h,loading:d="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:w,onLoadSuccess:E,onPassword:g=NL,onSourceError:v,onSourceSuccess:_,options:S,renderMode:b,rotate:C}=e,k=kw(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[P,M]=Gl(),{value:I,error:F}=P,[Q,G]=Gl(),{value:V,error:J}=Q,X=T.useRef(new xL),H=T.useRef([]),L=T.useRef(void 0),B=T.useRef(void 0);c&&c!==L.current&&Tw(c)&&(Mt(!Ha(c,L.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),L.current=c),S&&S!==B.current&&(Mt(!Ha(S,B.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),B.current=S);const U=T.useRef({scrollPageIntoView:xe=>{const{dest:Ge,pageNumber:xt,pageIndex:rt=xt-1}=xe;if(p){p({dest:Ge,pageIndex:rt,pageNumber:xt});return}const aa=H.current[rt];if(aa){aa.scrollIntoView();return}Mt(!1,`An internal link leading to page ${xt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});T.useImperativeHandle(t,()=>({linkService:X,pages:H,viewer:U}),[]);function se(){_&&_()}function ee(){F&&(Mt(!1,F.toString()),v&&v(F))}function de(){M({type:"RESET"})}T.useEffect(de,[c,M]);const He=T.useCallback(()=>ML(this,void 0,void 0,function*(){if(!c)return null;if(typeof c=="string")return _y(c)?{data:bw(c)}:(Cw(),{url:c});if(c instanceof IL)return{range:c};if(bL(c))return{data:c};if(Sp&&CL(c))return{data:yield RL(c)};if(_e(typeof c=="object"),_e(Tw(c)),"url"in c&&typeof c.url=="string"){if(_y(c.url)){const{url:xe}=c,Ge=kw(c,["url"]),xt=bw(xe);return Object.assign({data:xt},Ge)}Cw()}return c}),[c]);T.useEffect(()=>{const xe=jh(He());return xe.promise.then(Ge=>{M({type:"RESOLVE",value:Ge})}).catch(Ge=>{M({type:"REJECT",error:Ge})}),()=>{Jo(xe)}},[He,M]),T.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){ee();return}se()}},[I]);function Ft(){V&&(E&&E(V),H.current=new Array(V.numPages),X.current.setDocument(V))}function pe(){J&&(Mt(!1,J.toString()),m&&m(J))}T.useEffect(function(){G({type:"RESET"})},[G,I]),T.useEffect(function(){if(!I)return;const Ge=S?Object.assign(Object.assign({},I),S):I,xt=mS(Ge);w&&(xt.onProgress=w),g&&(xt.onPassword=g);const rt=xt,aa=rt.promise.then(tc=>{G({type:"RESOLVE",value:tc})}).catch(tc=>{rt.destroyed||G({type:"REJECT",error:tc})});return()=>{aa.finally(()=>rt.destroy())}},[S,G,I]),T.useEffect(()=>{if(!(typeof V>"u")){if(V===!1){pe();return}Ft()}},[V]),T.useEffect(function(){X.current.setViewer(U.current),X.current.setExternalLinkRel(o),X.current.setExternalLinkTarget(a)},[o,a]);const le=T.useCallback((xe,Ge)=>{H.current[xe]=Ge},[]),ui=T.useCallback(xe=>{delete H.current[xe]},[]),zn=T.useMemo(()=>({imageResourcesPath:h,linkService:X.current,onItemClick:p,pdf:V,registerPage:le,renderMode:b,rotate:C,unregisterPage:ui}),[h,p,V,le,b,C,ui]),Te=T.useMemo(()=>yS(k,()=>V),[k,V]);function Zl(){return R.jsx(wS.Provider,{value:zn,children:i})}function ec(){return c?V==null?R.jsx(za,{type:"loading",children:typeof d=="function"?d():d}):V===!1?R.jsx(za,{type:"error",children:typeof r=="function"?r():r}):Zl():R.jsx(za,{type:"no-data",children:typeof f=="function"?f():f})}return R.jsx("div",Object.assign({className:Ep("react-pdf__Document",s),ref:u,style:{"--scale-factor":"1"}},Te,{children:ec()}))});function xS(){return T.useContext(wS)}function ES(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(r){t.forEach(function(o){typeof o=="function"?o(r):o&&(o.current=r)})}}const SS=T.createContext(null),bS={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},DL=/^H(\d+)$/;function OL(n){return n in bS}function bp(n){return"children"in n}function CS(n){return bp(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function jL(n){const e={};if(bp(n)){const{role:t}=n,i=t.match(DL);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(OL(t)){const s=bS[t];s&&(e.role=s)}}return e}function kS(n){const e={};if(bp(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),CS(n)){const[t]=n.children;if(t){const i=kS(t);return Object.assign(Object.assign({},e),i)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function HL(n){return n?Object.assign(Object.assign({},jL(n)),kS(n)):null}function TS({className:n,node:e}){const t=T.useMemo(()=>HL(e),[e]),i=T.useMemo(()=>!bp(e)||CS(e)?null:e.children.map((s,r)=>R.jsx(TS,{node:s},r)),[e]);return R.jsx("span",Object.assign({className:n},t,{children:i}))}function Cp(){return T.useContext(SS)}function zL(){const n=Cp();_e(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[i,s]=Gl(),{value:r,error:o}=i,{customTextRenderer:a,page:c}=n;function u(){r&&t&&t(r)}function h(){o&&(Mt(!1,o.toString()),e&&e(o))}return T.useEffect(function(){s({type:"RESET"})},[s,c]),T.useEffect(function(){if(a||!c)return;const f=jh(c.getStructTree()),p=f;return f.promise.then(m=>{s({type:"RESOLVE",value:m})}).catch(m=>{s({type:"REJECT",error:m})}),()=>Jo(p)},[a,c,s]),T.useEffect(()=>{if(r!==void 0){if(r===!1){h();return}u()}},[r]),r?R.jsx(TS,{className:"react-pdf__Page__structTree structTree",node:r}):null}const Pw=fS;function BL(n){const e=Cp();_e(e);const t=Object.assign(Object.assign({},e),n),{_className:i,canvasBackground:s,devicePixelRatio:r=kL(),onRenderError:o,onRenderSuccess:a,page:c,renderForms:u,renderTextLayer:h,rotate:d,scale:f}=t,{canvasRef:p}=n;_e(c);const m=T.useRef(null);function w(){c&&a&&a(xy(c,f))}function E(S){PL(S)||(Mt(!1,S.toString()),o&&o(S))}const g=T.useMemo(()=>c.getViewport({scale:f*r,rotation:d}),[r,c,d,f]),v=T.useMemo(()=>c.getViewport({scale:f,rotation:d}),[c,d,f]);T.useEffect(function(){if(!c)return;c.cleanup();const{current:b}=m;if(!b)return;b.width=g.width,b.height=g.height,b.style.width=`${Math.floor(v.width)}px`,b.style.height=`${Math.floor(v.height)}px`,b.style.visibility="hidden";const C={annotationMode:u?Pw.ENABLE_FORMS:Pw.ENABLE,canvasContext:b.getContext("2d",{alpha:!1}),viewport:g};s&&(C.background=s);const k=c.render(C),P=k;return k.promise.then(()=>{b.style.visibility="",w()}).catch(E),()=>Jo(P)},[s,c,u,g,v]);const _=T.useCallback(()=>{const{current:S}=m;S&&(S.width=0,S.height=0)},[]);return T.useEffect(()=>_,[_]),R.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:ES(p,m),style:{display:"block",userSelect:"none"},children:h?R.jsx(zL,{}):null})}function $L(n){return"str"in n}function UL(){const n=Cp();_e(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:o,pageIndex:a,pageNumber:c,rotate:u,scale:h}=n;_e(o);const[d,f]=Gl(),{value:p,error:m}=d,w=T.useRef(null);Mt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){p&&i&&i(p)}function g(){m&&(Mt(!1,m.toString()),t&&t(m))}T.useEffect(function(){f({type:"RESET"})},[o,f]),T.useEffect(function(){if(!o)return;const P=jh(o.getTextContent()),M=P;return P.promise.then(I=>{f({type:"RESOLVE",value:I})}).catch(I=>{f({type:"REJECT",error:I})}),()=>Jo(M)},[o,f]),T.useEffect(()=>{if(p!==void 0){if(p===!1){g();return}E()}},[p]);const v=T.useCallback(()=>{r&&r()},[r]),_=T.useCallback(k=>{Mt(!1,k.toString()),s&&s(k)},[s]);function S(){const k=w.current;k&&k.classList.add("selecting")}function b(){const k=w.current;k&&k.classList.remove("selecting")}const C=T.useMemo(()=>o.getViewport({scale:h,rotation:u}),[o,u,h]);return T.useLayoutEffect(function(){if(!o||!p)return;const{current:P}=w;if(!P)return;P.innerHTML="";const M=o.streamTextContent({includeMarkedContent:!0}),I={container:P,textContentSource:M,viewport:C},F=new gS(I),Q=F;return F.render().then(()=>{const G=document.createElement("div");G.className="endOfContent",P.append(G);const V=P.querySelectorAll('[role="presentation"]');if(e){let J=0;p.items.forEach((X,H)=>{if(!$L(X))return;const L=V[J];if(!L)return;const B=e(Object.assign({pageIndex:a,pageNumber:c,itemIndex:H},X));L.innerHTML=B,J+=X.str&&X.hasEOL?2:1})}v()}).catch(_),()=>Jo(Q)},[e,_,v,o,a,c,p,C]),R.jsx("div",{className:Ep("react-pdf__Page__textContent","textLayer"),onMouseUp:b,onMouseDown:S,ref:w})}function WL(){const n=xS(),e=Cp();_e(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:i,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:c,page:u,pdf:h,renderForms:d,rotate:f,scale:p=1}=t;_e(h),_e(u),_e(s);const[m,w]=Gl(),{value:E,error:g}=m,v=T.useRef(null);Mt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function _(){E&&o&&o(E)}function S(){g&&(Mt(!1,g.toString()),r&&r(g))}T.useEffect(function(){w({type:"RESET"})},[w,u]),T.useEffect(function(){if(!u)return;const M=jh(u.getAnnotations()),I=M;return M.promise.then(F=>{w({type:"RESOLVE",value:F})}).catch(F=>{w({type:"REJECT",error:F})}),()=>{Jo(I)}},[w,u]),T.useEffect(()=>{if(E!==void 0){if(E===!1){S();return}_()}},[E]);function b(){c&&c()}function C(P){Mt(!1,`${P}`),a&&a(P)}const k=T.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return T.useEffect(function(){if(!h||!u||!s||!E)return;const{current:M}=v;if(!M)return;const I=k.clone({dontFlip:!0}),F={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:M,l10n:null,page:u,structTreeLayer:null,viewport:I},Q={annotations:E,annotationStorage:h.annotationStorage,div:M,imageResourcesPath:i,linkService:s,page:u,renderForms:d,viewport:I};M.innerHTML="";try{new dS(F).render(Q),b()}catch(G){C(G)}return()=>{}},[E,i,s,u,h,d,k]),R.jsx("div",{className:Ep("react-pdf__Page__annotations","annotationLayer"),ref:v})}var VL=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};const Rw=1;function GL(n){const e=xS(),t=Object.assign(Object.assign({},e),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:o,children:a,className:c,customRenderer:u,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:m,loading:w="Loading page",noData:E="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:_,onGetStructTreeSuccess:S,onGetTextError:b,onGetTextSuccess:C,onLoadError:k,onLoadSuccess:P,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:I,onRenderError:F,onRenderSuccess:Q,onRenderTextLayerError:G,onRenderTextLayerSuccess:V,pageIndex:J,pageNumber:X,pdf:H,registerPage:L,renderAnnotationLayer:B=!0,renderForms:U=!1,renderMode:se="canvas",renderTextLayer:ee=!0,rotate:de,scale:He=Rw,unregisterPage:Ft,width:pe}=t,le=VL(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ui,zn]=Gl(),{value:Te,error:Zl}=ui,ec=T.useRef(null);_e(H);const xe=Ir(X)?X-1:J??null,Ge=X??(Ir(J)?J+1:null),xt=de??(Te?Te.rotate:null),rt=T.useMemo(()=>{if(!Te)return null;let la=1;const zh=He??Rw;if(pe||p){const Bh=Te.getViewport({scale:1,rotation:xt});pe?la=pe/Bh.width:p&&(la=p/Bh.height)}return zh*la},[p,Te,xt,He,pe]);T.useEffect(function(){return()=>{Ir(xe)&&s&&Ft&&Ft(xe)}},[s,H,xe,Ft]);function aa(){if(P){if(!Te||!rt)return;P(xy(Te,rt))}if(s&&L){if(!Ir(xe)||!ec.current)return;L(xe,ec.current)}}function tc(){Zl&&(Mt(!1,Zl.toString()),k&&k(Zl))}T.useEffect(function(){zn({type:"RESET"})},[zn,H,xe]),T.useEffect(function(){if(!H||!Ge)return;const zh=jh(H.getPage(Ge)),Bh=zh;return zh.promise.then(kp=>{zn({type:"RESOLVE",value:kp})}).catch(kp=>{zn({type:"REJECT",error:kp})}),()=>Jo(Bh)},[zn,H,Ge]),T.useEffect(()=>{if(Te!==void 0){if(Te===!1){tc();return}aa()}},[Te,rt]);const PS=T.useMemo(()=>Te&&Ir(xe)&&Ge&&Ir(xt)&&Ir(rt)?{_className:i,canvasBackground:r,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:_,onGetStructTreeSuccess:S,onGetTextError:b,onGetTextSuccess:C,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:I,onRenderError:F,onRenderSuccess:Q,onRenderTextLayerError:G,onRenderTextLayerSuccess:V,page:Te,pageIndex:xe,pageNumber:Ge,renderForms:U,renderTextLayer:ee,rotate:xt,scale:rt}:null,[i,r,h,d,g,v,_,S,b,C,M,I,F,Q,G,V,Te,xe,Ge,U,ee,xt,rt]),RS=T.useMemo(()=>yS(le,()=>Te&&(rt?xy(Te,rt):void 0)),[le,Te,rt]),Hh=`${xe}@${rt}/${xt}`;function LS(){switch(se){case"custom":return _e(u),R.jsx(u,{},`${Hh}_custom`);case"none":return null;case"canvas":default:return R.jsx(BL,{canvasRef:o},`${Hh}_canvas`)}}function MS(){return ee?R.jsx(UL,{},`${Hh}_text`):null}function IS(){return B?R.jsx(WL,{},`${Hh}_annotations`):null}function NS(){return R.jsxs(SS.Provider,{value:PS,children:[LS(),MS(),IS(),a]})}function FS(){return Ge?H===null||Te===void 0||Te===null?R.jsx(za,{type:"loading",children:typeof w=="function"?w():w}):H===!1||Te===!1?R.jsx(za,{type:"error",children:typeof f=="function"?f():f}):NS():R.jsx(za,{type:"no-data",children:typeof E=="function"?E():E})}return R.jsx("div",Object.assign({className:Ep(i,c),"data-page-number":Ge,ref:ES(m,ec),style:{"--scale-factor":`${rt}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},RS,{children:FS()}))}TL();pS.workerSrc="pdf.worker.mjs";const XL=()=>{const[n,e]=T.useState(1200);return T.useEffect(()=>{e(window.innerWidth)},[]),R.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 min-h-screen",children:[R.jsx("h2",{className:"text-4xl font-extrabold text-center text-indigo-600 py-8",children:"My Resume"}),R.jsx("div",{className:"w-full sm:w-1/2 lg:w-1/3 px-4",children:R.jsx(FL,{file:Tf,className:"flex justify-center text-white",children:R.jsx(GL,{pageNumber:1,scale:n>786?1.7:.6})})}),R.jsx("div",{className:"text-center py-3",children:R.jsx(dr,{variant:"primary",className:"inline-block px-6  py-3 bg-gradient-to-br from-blue-500 to-purple-600 text-white font-semibold rounded-full shadow-lg hover:shadow-2xl hover:scale-110 transform transition-transform",to:Tf,target:"_blank",style:{maxWidth:"250px"},children:"Download Resume"})})]})};function YL(){return R.jsxs(Fk,{children:[R.jsx("header",{children:R.jsx(rT,{})}),R.jsx("main",{children:R.jsxs(hk,{children:[R.jsx(vc,{path:"paresh-dev",element:R.jsx(aT,{})}),R.jsx(vc,{path:"/projects",element:R.jsx(uT,{})}),R.jsx(vc,{path:"/education&skills",element:R.jsx(hT,{})}),R.jsx(vc,{path:"/Resume",element:R.jsx(XL,{})})]})}),R.jsx("footer",{children:R.jsx(lT,{})})]})}V_(document.getElementById("root")).render(R.jsx(T.StrictMode,{children:R.jsx(YL,{})}));
